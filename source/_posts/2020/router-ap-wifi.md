---
title: 软路由开启WiFi的正确姿势
date: 2020-07-12 17:05:30
tags: ["软路由"]

keywords: 软路由 WiFi 桥接 AP模式 关闭DHCP
comments: true
---

前面做了一款软路由，写一篇关于软路由应该怎么搭配路由器开启 WiFi 的教程。

<!-- more -->

说明条件：

- 软路由管理 IP：192.168.1.1
- 路由器管理 IP：192.168.5.1
- 可能某些路由器有专门的 AP 模式，此时就不需要按照下面这么麻烦的设置了。

## 设置路由器

我以 Openwrt 系统为例，介绍怎么设置

首先设置路由器，打开管理后台，找到 `网络-接口` 先关闭 WAN 口，对，我们不需要使用 WAN 口。

然后修改 LAN 口设置。

- 协议：静态地址
- IPV4 网络：192.168.1.x，建议设置小于 100
- 子网掩码：255.225.255.0
- IPV4 网关：192.168.1.1 （软路由的地址）

![](/assets/img/2020/Snipaste_2020-07-12_16-55-06.png)

然后在这个接口上关闭 DHCP。

![](/assets/img/2020/Snipaste_2020-07-12_16-55-17.png)

设置完成后保存并应用，此时会连不上路由器，不要着急，接着往下看。

## 连接软路由

将路由器的一个 LAN 口连接到软路由的 LAN 口，我没有写错，是连 LAN 口，不是 WAN 口，路由器是充当交换机使用的。

刚接上可能无法上网，需要等一会，有的需要拔插网线，有的甚至需要自己手动设置一下电脑 IP，反正就是不能连接不要着急，等一下，或者重启电脑。

等半分钟或者一分钟，如果正常的话，此时输入 192.168.1.1 就可以访问到软路由，输入 192.168.1.100（你自己设置的 ip）就可以管理路由器。

进入路由器的后台，设置无线网络。

将模式改为 `接入点AP(WDS)`，然后应用并保存即可。

![](/assets/img/2020/Snipaste_2020-07-12_17-02-48.png)

## 测试

无论是用有线连接路由器，还是用无线连接，在客户端查到的 IP 都应该是 192.168.1.xx，并且在软路由上可以看到 DHCP 分配情况。

其他路由器类似，大致步骤就是：`LAN口改为静态IP->设置网关为主路由->关掉DHCP->网线插到LAN口->修改无线为WDS(桥接)模式`。
