<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>叉叉白</title>
  
  <subtitle>叉叉白，听我跟你瞎白话</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.xxwhite.com/"/>
  <updated>2019-04-07T10:20:32.241Z</updated>
  <id>https://blog.xxwhite.com/</id>
  
  <author>
    <name>MonoLogueChi</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>又入手一台小JJ</title>
    <link href="https://blog.xxwhite.com/2019/small-jj.html"/>
    <id>https://blog.xxwhite.com/2019/small-jj.html</id>
    <published>2019-04-07T08:30:09.000Z</published>
    <updated>2019-04-07T10:20:32.241Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script>var meting_api='https://sm.sm9.top/api.php?server=:server&type=:type&id=:id&r=:r'</script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script><p>上个月花了购置了一台小jj用作服务器，简单记录了一下装配过程，正好清明节假干完两天的活，休息一天，就写一点出来。</p><a id="more"></a><h2 id="硬件配置"><a class="markdownIt-Anchor" href="#硬件配置"></a> 硬件配置</h2><table><thead><tr><th style="text-align:center">硬件</th><th style="text-align:center">配置</th><th style="text-align:center">价格</th></tr></thead><tbody><tr><td style="text-align:center">机箱主板电源</td><td style="text-align:center">惠普800G1小主机，Q87主板</td><td style="text-align:center">315</td></tr><tr><td style="text-align:center">CPU</td><td style="text-align:center">魔改4870HQ</td><td style="text-align:center">598</td></tr><tr><td style="text-align:center">内存</td><td style="text-align:center">二手杂牌 DDR3L 1600 * 2（有一条是从以前笔记本上拆下来的）</td><td style="text-align:center">158 + 0</td></tr><tr><td style="text-align:center">硬盘0</td><td style="text-align:center">建兴 128G mSATA接口</td><td style="text-align:center">146</td></tr><tr><td style="text-align:center">硬盘1</td><td style="text-align:center">西数500G（笔记本拆机）</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">总计</td><td style="text-align:center"></td><td style="text-align:center">1217</td></tr></tbody></table><p>硬件上来说就是这样了，这肯定不是最实惠的方案，也不要跟我说XXX更省钱了，反正我没翻车，连续开机29天没重启，照样跑的稳稳的。</p><p>选择机箱的时候，考虑体积价格和拓展性，最终选择了惠普的800G1，真的很小的一个机箱<br><img src="https://s2.ax1x.com/2019/04/07/AhyDqf.jpg" alt="整体"></p><p>而CPU在魔改4带BGA封装U和E3上权衡了很久，因为我不确定这机器上能不能上E3，因为惠普那尿性的微码问题，包括我现在也没有解决，每次开机都要按F1才能进，虽然网上有人放出了修改过的微码，但是我的编程器坏了（估计是太久没用了，再加上两次搬家，旅途劳顿，挂掉了），懒得再去搞了，按F1就按F1吧。</p><p><img src="https://s2.ax1x.com/2019/04/07/AhyBsP.jpg" alt="CPU"></p><p>16G内存，目前来说稍微有点浪费，但是浪费就浪费吧，但是指不定以后会在上面跑什么呢。</p><h2 id="系统"><a class="markdownIt-Anchor" href="#系统"></a> 系统</h2><p>先装个Windows，测试一下整机数据，然后再去搞服务器环境</p><p>服务器系统选择没什么说的，自己一直在用Debian，自然就直接上Debian了，装完之后又上了宝塔邪教，这东西很方便，因为测试环境配置什么的都要经常改，所以很适合使用宝塔，别BB什么什么的，我点几下，一分钟就能解决的事，有必要花五分钟去写一个配置文件嘛。</p><h2 id="网络"><a class="markdownIt-Anchor" href="#网络"></a> 网络</h2><p>网络的话，我这里是电信百兆，上行带宽最快能到2M/S这个水平吧，其中比较难解决的是外网访问问题，虽然这有公网IP，但是没有80端口很难受啊，这时就想到了以前在V2见过的Sakura Frp，简单记录一下使用方法</p><p>首先是注册一个账号 <a href="https://www.natfrp.org/" target="_blank" rel="noopener">https://www.natfrp.org/</a> ；<br>登录之后在<code>映射列表</code>里先创建一个SSH通道，可以参考这里<a href="https://www.zerobbs.net/thread/50" target="_blank" rel="noopener">https://www.zerobbs.net/thread/50</a>；<br>然后按照 <a href="https://www.zerobbs.net/thread/6" target="_blank" rel="noopener">https://www.zerobbs.net/thread/6</a> 的方法下载客户端，解压完停下来就好，后面就不需要继续了；<br>先测试一下连接，首先直接启动frp服务<code>./Sakura_frpc_linux_amd64</code> 然后会让你输入账号密码，具体参考官方论坛；<br>上一步如果提示连接成功了，咱们再进行下一步测试，记住了自己选择的服务器和第二步选择的端口，然后连接一下SSH服务看一下 <code>ssh root@s21.natfrp.org -p xxxx</code> 其中 <code>s21.natfrp.org</code> 是你选择的服务器，<code>-p</code> 参数是你映射的端口，如果可以联通的话，就算是测试成功了，咱们就可以进行下一步了；<br><img src="https://s2.ax1x.com/2019/04/07/AhUbPx.png" alt="SSH连接成功"><br>后面要解决的是守护进程的问题，我曾经用两种不同的守护工具实现过，都是对应不同的实际环境，这里简单的介绍一下怎么写配置文件。</p><p>首先是 <code>Supervisor</code></p><p>怎么安装和使用，可以看完以前的文章<a href="/2018/run-dotnetcore.html">.net core 程序示例</a>，这里简单说一下配置文件就可以了</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[program:frp]</span></span><br><span class="line"><span class="attr">command</span>=/www/frp/Sakura_frpc_linux_amd64 --su=&#123;用户名&#125; --sp=&#123;密码&#125; --sid=&#123;前面命令行启动时候的编号&#125;</span><br><span class="line"><span class="attr">user</span>=root</span><br><span class="line"><span class="attr">stopsignal</span>=INT</span><br><span class="line"><span class="attr">autostart</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">autorestart</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">startsecs</span>=<span class="number">3</span></span><br><span class="line"><span class="attr">stderr_logfile</span>=/www/frp/frp.log</span><br><span class="line"><span class="attr">stdout_logfile</span>=/www/frp/frp.out.log</span><br></pre></td></tr></table></figure><p>里面的变量替换成你自己的（没用括号），路径也换成你自己的</p><p>另一种方法是用 <code>PM2</code></p><p>首先宝塔面板自带了pm2管理器，可以在软件管理里直接安装，如果没用使用宝塔面板的话，可以选择先安装Node和npm，然后用npm安装pm2，具体怎么安装，可以百度</p><p>在frp解压的目录下新建一个文本文件</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/xxxxxxxxxx</span></span><br><span class="line">touch <span class="string">./frp.json</span></span><br></pre></td></tr></table></figure><p>然后修改配置文件 <code>vim ./frp.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"apps"</span>: [&#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"frp"</span>,</span><br><span class="line">    <span class="attr">"script"</span>: <span class="string">"Sakura_frpc_linux_amd64"</span>,</span><br><span class="line">    <span class="attr">"cwd"</span>: <span class="string">"/www/frp/"</span>,</span><br><span class="line">    <span class="attr">"autorestart"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"node_args"</span>: [],</span><br><span class="line">    <span class="attr">"args"</span>: [<span class="string">"--su=用户名"</span>, <span class="string">"--sp=密码"</span>, <span class="string">"--sid=8"</span>],</span><br><span class="line">    <span class="attr">"env"</span>: &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中<code>script</code>是要执行的命令，<code>cwd</code>是路径，换成你自己的，后面的参数同样换成你自己的，写好之后</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 <span class="keyword">start</span> frp.json</span><br></pre></td></tr></table></figure><p>再确定一下有没有启动</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p<span class="name">m2</span> list</span><br><span class="line"></span><br><span class="line">p<span class="name">m2</span> show <span class="number">0</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/04/07/AhDPv6.png" alt="pm2状态"></p><p>再次用ssh连接测试，看看能不能在外网连上，如果没问题的话，守护进程的问题就算是解决了。</p><p>再添加几条隧道，比如http和https隧道，这里就不再啰嗦了，按照官方论坛上的教程来就可以了。</p><h2 id="服务"><a class="markdownIt-Anchor" href="#服务"></a> 服务</h2><p>目前这台小JJ主要用来测试，搭建了几个比较简单的服务，直播服务（主要在局域网内测试），二维码生成服务 <a href="https://qr.sm9.top/api/qr?tt=%E5%8F%82%E6%95%B0" target="_blank" rel="noopener">https://qr.sm9.top/api/qr?tt=参数</a>，函数图像生成服务（自己测试使用，还没写完），以及日常开发过程中的测试</p><h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2><p>闲的蛋疼，又搞了台机器回来吃灰了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;上个月花了购置了一台小jj用作服务器，简单记录了一下装配过程，正好清明节假干完两天的活，休息一天，就写一点出来。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
      <category term="随便水水" scheme="https://blog.xxwhite.com/tags/%E9%9A%8F%E4%BE%BF%E6%B0%B4%E6%B0%B4/"/>
    
  </entry>
  
  <entry>
    <title>SONY XZP Root</title>
    <link href="https://blog.xxwhite.com/2019/xzp-root.html"/>
    <id>https://blog.xxwhite.com/2019/xzp-root.html</id>
    <published>2019-02-06T02:55:25.000Z</published>
    <updated>2019-02-06T04:58:50.318Z</updated>
    
    <content type="html"><![CDATA[<p>没有root和xp的生活已经有一个多月了，也顺利升级到了9.0，临近春节，打算把root和xp都给搞回来，在这记录一下过程，算是给其他朋友一点参考吧。</p><a id="more"></a><p>本教程仅针对9.0设备，其他版本的看看就好，没有这么麻烦的。</p><h2 id="推荐"><a class="markdownIt-Anchor" href="#推荐"></a> 推荐</h2><p>首先推荐一下<a href="https://www.atmb.top/" target="_blank" rel="noopener">秋之盒</a>，我也算是合作开发者之一，这次解锁就是使用了秋之盒辅助。</p><p>ROOT管理，推荐使用 <a href="https://forum.xda-developers.com/apps/magisk" target="_blank" rel="noopener">Magisk</a></p><h2 id="解锁"><a class="markdownIt-Anchor" href="#解锁"></a> 解锁</h2><h3 id="获取解锁码"><a class="markdownIt-Anchor" href="#获取解锁码"></a> 获取解锁码</h3><p>搞机的前提就是解锁，索尼解锁的教程在网上可以搜到的不多，也没有讲的特别明白的，好在我知道固定的套路，很容易就解锁了。</p><p>首先是获取解锁码，打开<a href="https://developer.sony.com/develop/open-devices/get-started/unlock-bootloader" target="_blank" rel="noopener">索尼开发者网站</a>，按照提示获取解锁码，网站的验证码有点坑，开始总是说我的验证码是错的，试了好多次之后才成功。有些设备无法解锁，请详细阅读上面提到的网站，每一句都可能是有用的信息。</p><blockquote><p>注意，网站是英文页面，如果你但是提示还是比较全面的，如果你连这一步都无法独立完成的话，不建议继续解锁，因为你独立解决问题的能力还不够，后面遇到问题肯定也是无法解决。</p></blockquote><p>获取到解锁码之后复制下来，建议保存在一个文本文件里备份，以后会有用的。</p><h3 id="解锁-2"><a class="markdownIt-Anchor" href="#解锁-2"></a> 解锁</h3><p>在手机开发者选项里，打开<code>OEM解锁</code>选项，启用USB调试，连接电脑，打开秋之盒。</p><blockquote><p>如果秋之盒无法连接，请查看<a href="https://www.atmb.top/help/" target="_blank" rel="noopener">说明书</a></p></blockquote><p>重启到FastBoot<br><img src="https://s2.ax1x.com/2019/02/06/kYgY2n.png" alt="重启到Fastboot"></p><p>重启之后手机可能是黑屏的，不要担心，如果秋之盒无法连接，一般是驱动问题，Win10很容易解决，Win7没有尝试过。这里使用Win10演示一遍怎么解决驱动问题。</p><p>首先右键开始菜单（很老的Win10是没有的，需要在控制面版里），打开<code>设备管理器</code>，一般是在通用串行设备里，可能是未知设备或者是Android设备，右键 <code>更新驱动程序</code>-<code>浏览我的计算机以查找驱动程序软件</code>-<code>从我的计算机上的可用程序列表选择</code>，选择<code>ADB设备</code>，可能会提示不兼容，但那只是提示，具体怎么样你自己不会判断嘛。<br><img src="https://s2.ax1x.com/2019/02/06/kYgBaF.png" alt="选择驱动"></p><p>不出意外的话，这个时候秋之盒已经连接上设备了，如果没有连接的话，就拔线重插或者开机重来一遍。</p><p>我们需要使用秋之盒的命令行功能<br><img src="https://s2.ax1x.com/2019/02/06/kYgD54.png" alt="打开命令行"></p><p>先看一下设备连接情况</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fastboot devices</span></span><br></pre></td></tr></table></figure><p>如果是显示</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">XXXXXXX fastboot</span></span><br></pre></td></tr></table></figure><p>就可以继续了，如果不是，上面的重新来过。</p><p>解锁设备</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot oem <span class="keyword">unlock</span> <span class="number">0</span>x&lt;<span class="keyword">insert</span> your <span class="keyword">unlock</span> code&gt;</span><br></pre></td></tr></table></figure><p><strong>注意，解锁会使你的设备重置，请注意资料备份</strong></p><h2 id="root"><a class="markdownIt-Anchor" href="#root"></a> ROOT</h2><h3 id="提取bootimg"><a class="markdownIt-Anchor" href="#提取bootimg"></a> 提取boot.img</h3><p>提取方法有多种多样，网上的教程也有很多，这里推荐使用TWRP来提取</p><p>首先下载对应的<a href="https://twrp.me/Devices/" target="_blank" rel="noopener">TWRP REC</a></p><p>然后用TWRP引导启动</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">fastboot</span> <span class="keyword">boot </span>xxxxrec.img</span><br></pre></td></tr></table></figure><blockquote><p>可以先输入<code>fastboot boot</code>，然后把rec文件拖进去</p></blockquote><p><img src="https://s2.ax1x.com/2019/02/06/kY21L6.png" alt="REC引导启动"></p><p>进入TWRP以后，提取boot镜像</p><p>复制<code>/dev/block/platform/soc/1da4000.ufshc/by-nema/boot</code>（不同设备具体路径可能不同）到<code>/data/media/0</code>下，然后将复制过去的文件重命名<code>boot.img</code>（或者是开机之后在文件管理器中重名）</p><p><img src="https://s2.ax1x.com/2019/02/06/kY24O0.png" alt="提取boot"></p><h3 id="修补boot镜像"><a class="markdownIt-Anchor" href="#修补boot镜像"></a> 修补boot镜像</h3><p>安装<code>Magisk Manager</code>，打开之后选择（需要联网）<code>Magisk 安装</code>-<code>修补 Boot 镜像文件</code>，选择刚才我们提取出来的<code>boot.img</code>，会生成<code>patched_boot.img</code>在<code>Download</code>目录里。</p><p>将修补后的镜像搞到电脑上，等下会用到，提取的boot，也就是未修补的，建议备份到安全的位置，这个以后可能会有用的。</p><h3 id="获取root权限"><a class="markdownIt-Anchor" href="#获取root权限"></a> 获取ROOT权限</h3><p>到了这一步，就有两种方法选择了</p><h4 id="直接刷入修补的boot"><a class="markdownIt-Anchor" href="#直接刷入修补的boot"></a> 直接刷入修补的boot</h4><p>这种方法很简单，使用秋之盒重启到fastboot模式。然后使用秋之盒的<code>刷入boot.img</code>功能，直接将修补后的boot文件刷入就可以了。</p><p>或者是依旧使用命令行，手动输入命令，将你修补后的boot文件刷入</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">fastboot</span> flash <span class="keyword">boot </span>patched_boot.img</span><br></pre></td></tr></table></figure><h4 id="使用临时root权限获取永久root"><a class="markdownIt-Anchor" href="#使用临时root权限获取永久root"></a> 使用临时root权限获取永久root</h4><p>相比上一种方法，我更喜欢这种方法，但是操作会稍微多几步。</p><p>首先是使用修补后的boot启动，重启到fastboot后使用命令行</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">fastboot</span> <span class="keyword">boot </span>patched_boot.img</span><br></pre></td></tr></table></figure><blockquote><p>可以先输入<code>fastboot boot</code>然后再将你修补后的boot文件拖进去</p></blockquote><p>这样启动之后，打开<code>Magisk Manager</code>应该就可以显示设备已经root，但是此时的root权限是临时的，重启就会消失，我们需要获取永久的root权限，使用<code>Magisk 安装</code>-<code>直接安装</code>步骤，等提示成功之后，重启手机验证一下是否获取了永久root权限就可以了。</p><h2 id="xposed"><a class="markdownIt-Anchor" href="#xposed"></a> Xposed</h2><p>安卓9.0使用Xposed，推荐使用<code>太极</code>，关注微信公众号<code>虚拟框架</code>就可以获取了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;没有root和xp的生活已经有一个多月了，也顺利升级到了9.0，临近春节，打算把root和xp都给搞回来，在这记录一下过程，算是给其他朋友一点参考吧。&lt;/p&gt;
    
    </summary>
    
    
      <category term="搞机" scheme="https://blog.xxwhite.com/tags/%E6%90%9E%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>自己动手修改完善yilia主题（下）</title>
    <link href="https://blog.xxwhite.com/2019/your-own-yilia-2.html"/>
    <id>https://blog.xxwhite.com/2019/your-own-yilia-2.html</id>
    <published>2019-02-01T06:40:40.000Z</published>
    <updated>2019-02-01T07:20:20.899Z</updated>
    
    <content type="html"><![CDATA[<p>这一期咱们接着来说自定义Yilia主题的事。</p><a id="more"></a><p>本文涉及到的修改稍微有一点点复杂，可以参考我的<a href="https://github.com/MonoLogueChi/hexo-theme-yilia" target="_blank" rel="noopener">GitHub仓库</a>。</p><h2 id="修改webpack打包路径"><a class="markdownIt-Anchor" href="#修改webpack打包路径"></a> 修改webpack打包路径</h2><p>为了方便管理代码，也是为了看起来干净一点，我简单修改了一下主题文档结构，把资源文件放在了<code>assets</code>目录下</p><p>修改<code>webpack.config.js</code>的<code>output</code>模块</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    path: __dirname+<span class="string">"/source/assets/"</span>,</span><br><span class="line">    publicPath: <span class="string">"./"</span>,</span><br><span class="line">    filename: <span class="string">"[name].[chunkhash:6].js"</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h2 id="删除文章中那一堆无用的代码"><a class="markdownIt-Anchor" href="#删除文章中那一堆无用的代码"></a> 删除文章中那一堆无用的代码</h2><p>使用yilia主题，每篇文章中都会出现一坨js代码，至今为止我也不知道是什么作用，删掉貌似也没有什么影响，每个页面能精简七八十K吧。</p><p>删掉<code>source-src\scrept.ejs</code>中的</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">for</span> (var asset <span class="keyword">in</span> compilation.assets) &#123; %&gt;&lt;% <span class="keyword">if</span> (asset.indexOf(<span class="string">'mobile'</span>) &gt;= <span class="number">0</span>) &#123; %&gt;&lt;%= compilation.assets[asset].<span class="keyword">source</span>() %&gt;&lt;% &#125; %&gt;&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h2 id="js后加载"><a class="markdownIt-Anchor" href="#js后加载"></a> Js后加载</h2><p>新建模板<code>layout\_partial\load-scrept.ejs</code></p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;<span class="keyword">function</span> load<span class="constructor">Script(<span class="params">e</span>,<span class="params">t</span>)</span>&#123;d=document,o=d.create<span class="constructor">Element(<span class="string">"script"</span>)</span>,s=d.get<span class="constructor">ElementsByTagName(<span class="string">"head"</span>)</span><span class="literal">[<span class="number">0</span>]</span>.append<span class="constructor">Child(<span class="params">o</span>)</span>,o.set<span class="constructor">Attribute(<span class="string">"src"</span>,<span class="params">e</span>)</span>,t&amp;&amp;o.add<span class="constructor">EventListener(<span class="string">"load"</span>,<span class="params">function</span>(<span class="params">e</span>)</span>&#123;t(e)&#125;),s.parentNode.insert<span class="constructor">Before(<span class="params">o</span>,<span class="params">s</span>)</span>&#125;&lt;/script&gt;</span><br></pre></td></tr></table></figure><blockquote><p>上面的代码是已经压缩的，直接放进页面就可以</p></blockquote><p>降新建的模板放入head部分，在<code>layout\_partial\head.ejs</code>后面加入</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">%</span>- partial<span class="comment">('load-script')</span> <span class="meta">%</span>&gt;</span><br></pre></td></tr></table></figure><p>有了这段代码，我们就可以使用<code>loadScript</code>加载各种Js文件了。</p><p>首先是主题本身的Js文件，也就是<code>slider.js</code>，先分离<code>scrept.ejs</code>，创建一个<code>main.ejs</code></p><p><code>main.ejs</code></p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">%</span> var left = <span class="string">'&lt;%='</span> <span class="meta">%</span>&gt;</span><br><span class="line">&lt;<span class="meta">%</span> var right = <span class="string">'%'</span> <span class="meta">%</span>&gt;</span><br><span class="line">&lt;<span class="meta">%</span> var right<span class="number">2</span> = <span class="string">'&gt;'</span> <span class="meta">%</span>&gt;</span><br><span class="line">&lt;<span class="meta">%</span> for <span class="comment">(var chunk in htmlWebpackPlugin.files.chunks)</span> &#123; <span class="meta">%</span>&gt;&lt;<span class="meta">%</span> <span class="keyword">if</span> <span class="comment">(chunk === 'main')</span> &#123; <span class="meta">%</span>&gt;&lt;script defer src=<span class="string">"&lt;%= left %&gt;config.root&lt;%= right %&gt;&lt;%= right2 %&gt;assets/&lt;%=htmlWebpackPlugin.files.chunks[chunk].entry %&gt;"</span>&gt;&lt;/script&gt;&lt;<span class="meta">%</span> &#125; <span class="meta">%</span>&gt;&lt;<span class="meta">%</span> &#125; <span class="meta">%</span>&gt;</span><br></pre></td></tr></table></figure><p><code>script.ejs</code></p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">&lt;<span class="meta">%</span> var left = <span class="string">'&lt;%='</span> <span class="meta">%</span>&gt;</span><br><span class="line">&lt;<span class="meta">%</span> var right = <span class="string">'%'</span> <span class="meta">%</span>&gt;</span><br><span class="line">&lt;<span class="meta">%</span> var right<span class="number">2</span> = <span class="string">'&gt;'</span> <span class="meta">%</span>&gt;</span><br><span class="line"><span class="comment">(function()</span> &#123;</span><br><span class="line">    &lt;<span class="meta">%</span> for <span class="comment">(var asset in compilation.assets)</span> &#123; <span class="meta">%</span>&gt;&lt;<span class="meta">%</span> <span class="keyword">if</span> <span class="comment">(asset.indexOf('slider')</span> &gt;= <span class="number">0</span>) &#123; <span class="meta">%</span>&gt;&lt;<span class="meta">%</span> var slider = asset <span class="meta">%</span>&gt;&lt;<span class="meta">%</span> &#125; <span class="meta">%</span>&gt;&lt;<span class="meta">%</span> &#125; <span class="meta">%</span>&gt;loadScript<span class="comment">("&lt;%= left %&gt;config.root&lt;%= right %&gt;&lt;%= right2 %&gt;assets/&lt;%= slider %&gt;")</span></span><br><span class="line">&#125;)<span class="comment">()</span>;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><code>webpack.config.js</code>，修改<code>plugins</code>，增加main部分</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">new</span> <span class="string">HtmlWebpackPlugin(&#123;</span></span><br><span class="line"><span class="attr">      inject:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line"><span class="attr">      cache:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line"><span class="attr">      minify:</span> <span class="string">minifyHTML,</span></span><br><span class="line"><span class="attr">      template:</span> <span class="string">'./source-src/script.ejs'</span><span class="string">,</span></span><br><span class="line"><span class="attr">      filename:</span> <span class="string">'../../layout/_partial/script.ejs'</span></span><br><span class="line">    <span class="string">&#125;),</span></span><br><span class="line">    <span class="string">new</span> <span class="string">HtmlWebpackPlugin(&#123;</span></span><br><span class="line"><span class="attr">      inject:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line"><span class="attr">      cache:</span> <span class="literal">false</span><span class="string">,</span></span><br><span class="line"><span class="attr">      minify:</span> <span class="string">minifyHTML,</span></span><br><span class="line"><span class="attr">      template:</span> <span class="string">'./source-src/main.ejs'</span><span class="string">,</span></span><br><span class="line"><span class="attr">      filename:</span> <span class="string">'../../layout/_partial/main.ejs'</span></span><br><span class="line">    <span class="string">&#125;)</span></span><br></pre></td></tr></table></figure><p>在<code>layout\_partial\head.ejs</code>中再加入</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">%</span>- partial<span class="comment">('main')</span> <span class="meta">%</span>&gt;</span><br></pre></td></tr></table></figure><p>为了优化其他js文件的加载速度，将不必要的js放在页面尾部，也就是<code>after-footer.ejs</code>，具体修改可以参考我的GitHub仓库</p><h2 id="优化中英文混排"><a class="markdownIt-Anchor" href="#优化中英文混排"></a> 优化中英文混排</h2><p>优化中英文混排，可以引入<code>pangu.js</code>，创建模板<code>layout\_partial\pangu.ejs</code></p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.pangu)&#123; %&gt;</span><br><span class="line">&lt;script async&gt;</span><br><span class="line">load<span class="constructor">Script('<span class="params">https</span>:<span class="operator">/</span><span class="operator">/</span><span class="params">cdn</span>.<span class="params">jsdelivr</span>.<span class="params">net</span><span class="operator">/</span><span class="params">npm</span><span class="operator">/</span><span class="params">pangu</span><span class="operator">/</span><span class="params">dist</span><span class="operator">/</span><span class="params">browser</span><span class="operator">/</span><span class="params">pangu</span>.<span class="params">min</span>.<span class="params">js</span>',<span class="params">function</span>()</span>&#123;pangu.spacing<span class="constructor">Page()</span>;&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>在<code>after-footer.ejs</code>中引入</p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">%</span>- partial<span class="comment">('pangu')</span> <span class="meta">%</span>&gt;</span><br></pre></td></tr></table></figure><p>在主题的配置文件<code>_config.yml</code>中添加</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pangu.js，中英文混排优化</span></span><br><span class="line"><span class="attr">pangu:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="更优雅的方式引入valine"><a class="markdownIt-Anchor" href="#更优雅的方式引入valine"></a> 更优雅的方式引入valine</h2><p>上一篇文章写了引入valine，但是这样做并不是最佳方式，修改模板<code>layout\_partial\post\valine.ejs</code>（需要用到上面提到的js后加载方式）</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"vcomment"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> notify = &lt;%= theme.valine.notify %&gt; == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> verify = &lt;%= theme.valine.verify %&gt; == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> visitor = &lt;%= theme.valine.visitor %&gt; == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">    loadScript(<span class="string">'https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">    loadScript(<span class="string">'https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">new</span> Valine(&#123;</span></span><br><span class="line"><span class="undefined">            av: AV,</span></span><br><span class="line"><span class="actionscript">            el: <span class="string">'#vcomment'</span>,</span></span><br><span class="line"><span class="undefined">            notify: notify,</span></span><br><span class="line"><span class="undefined">            verify: verify,</span></span><br><span class="line"><span class="actionscript">            app_id: <span class="string">'&lt;%= theme.valine.appid %&gt;'</span>,</span></span><br><span class="line"><span class="actionscript">            app_key: <span class="string">'&lt;%= theme.valine.appkey %&gt;'</span>,</span></span><br><span class="line"><span class="actionscript">            placeholder: <span class="string">'&lt;%= theme.valine.placeholder %&gt;'</span>,</span></span><br><span class="line"><span class="actionscript">            avatar: <span class="string">'&lt;%= theme.valine.avatar %&gt;'</span>,</span></span><br><span class="line"><span class="actionscript">            avatar_cdn: <span class="string">'&lt;%= theme.valine.avatar_cdn %&gt;'</span>,</span></span><br><span class="line"><span class="javascript">            pageSize: <span class="xml"><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.valine.pageSize</span> %&gt;</span>,</span></span></span><br><span class="line"><span class="actionscript">            path: <span class="string">'&lt;%- url_for(post.path) %&gt;'</span>,</span></span><br><span class="line"><span class="undefined">            visitor: visitor</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上篇文章里的主题样式，我放到了<code>comment.scss</code>中（这里为了方便管理，并没有把移动端代码放到<code>mobile.scss</code>中）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#vcomment</span>&#123;<span class="attribute">margin</span>:<span class="number">30px</span>;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;</span><br><span class="line">@<span class="keyword">media</span> screen and (max-width:<span class="number">800px</span>)&#123;<span class="selector-id">#vcomment</span>&#123;<span class="attribute">margin</span>:auto;<span class="attribute">padding</span>:<span class="number">10px</span>;<span class="attribute">background</span>:<span class="number">#fff</span>&#125;&#125;</span><br></pre></td></tr></table></figure><h2 id="更多骚操作"><a class="markdownIt-Anchor" href="#更多骚操作"></a> 更多骚操作</h2><p>更多骚操作请看我<a href="https://github.com/MonoLogueChi/hexo-theme-yilia" target="_blank" rel="noopener">GitHub仓库</a>中的修改。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这一期咱们接着来说自定义Yilia主题的事。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>自己动手修改完善yilia主题（上）</title>
    <link href="https://blog.xxwhite.com/2019/your-own-yilia-1.html"/>
    <id>https://blog.xxwhite.com/2019/your-own-yilia-1.html</id>
    <published>2019-01-26T05:49:23.000Z</published>
    <updated>2019-01-26T08:54:21.355Z</updated>
    
    <content type="html"><![CDATA[<p>自己动手修改Yilia主题，这有什么难的，简单修修模板，改改CSS？</p><a id="more"></a><p>自从本站建站以来，一直在用Yilia主题，所以对Yilia主题或多或少有一些自己的理解，现在想分享一下怎么修改Ylila主题。</p><p>这篇文章都是我自己一路踩坑踩过来的，遇到不明白的问题欢迎在评论区留言讨论（但请一定要准确说明问题，含含糊糊什么都说不清的话，我也不可能知道你遇到了什么问题），想要参考的话，请在我的<a href="https://github.com/MonoLogueChi/hexo-theme-yilia" target="_blank" rel="noopener">GitHub</a>上查看我的修改。</p><h2 id="clone"><a class="markdownIt-Anchor" href="#clone"></a> Clone</h2><p>修改的第一步，我们需要先Fork一份Yilia主题，这一步可以在<a href="https://github.com" target="_blank" rel="noopener">GitHub</a>上完成。</p><p>Fork之后Clone到本地，然后就可以开始了。</p><h2 id="从源码构建yilia"><a class="markdownIt-Anchor" href="#从源码构建yilia"></a> 从源码构建Yilia</h2><p>Yilia需要使用webpack构建生成，所以在此之前，需要有一定的webpack基础，如果没有也不要紧，马上百度去了解一下还来得及。</p><p>从源码构建，可以参考 <a href="https://github.com/litten/hexo-theme-yilia/wiki/Yilia%E6%BA%90%E7%A0%81%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%8F%8A%E6%9E%84%E5%BB%BA%E9%A1%BB%E7%9F%A5" target="_blank" rel="noopener">Yilia源码目录结构及构建须知</a></p><p>首先需要搞定开发环境，安装好<code>node</code>和<code>npm</code></p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure><p>但是直接这样做你可能会遇到非常大的一个坑，因为作者的开发环境已经很老了，webpack这一套东西的更新速度实在是太快了，而且淘汰也非常的快，即使你跟着百度一步一步搞完了，后面打包的时候也会遇到很多的坑，所以我建议你直接从我的<a href="https://github.com/MonoLogueChi/hexo-theme-yilia/tree/4def8e882d4ae84930021a11dd3ab9dee3cb92c7" target="_blank" rel="noopener">仓库</a>里拷贝<code>package.json</code> <code>postcss.config.js</code> <code>webpack.config.js</code>三个文件到你的项目里，然后再执行</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure><p>如果长时间卡死，建议使用淘宝源</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install --registry=https:<span class="regexp">//</span>registry.<span class="built_in">npm</span>.taobao.org</span><br></pre></td></tr></table></figure><p>搞好之后，尝试构建一下</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">run</span><span class="bash"> dist</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/01/26/knhmUP.png" alt="从源码构建"></p><h2 id="目录解析"><a class="markdownIt-Anchor" href="#目录解析"></a> 目录解析</h2><p>前面讲了从源码构建，勉勉强强算是把开发环境搞好了，咱们接着来研究一下Yilia主题</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">./</span><br><span class="line">|<span class="string">-- languages</span></span><br><span class="line">|<span class="string">-- layout</span></span><br><span class="line">|<span class="string">                   `-- _partial</span></span><br><span class="line">|<span class="string">                   `-- post</span></span><br><span class="line">|<span class="string">-- source</span></span><br><span class="line">|<span class="string">   </span>|<span class="string">-- fonts</span></span><br><span class="line">|<span class="string">   `-- img</span></span><br><span class="line"><span class="string">`-- source-src</span></span><br><span class="line"><span class="string">    </span>|<span class="string">-- css</span></span><br><span class="line"><span class="string">    </span>|<span class="string">   </span>|<span class="string">           `-- core</span></span><br><span class="line"><span class="string">    </span>|<span class="string">   </span>|<span class="string">           `-- fonts</span></span><br><span class="line"><span class="string">    </span>|<span class="string">               `-- img</span></span><br><span class="line"><span class="string">    `-- js</span></span><br></pre></td></tr></table></figure><p>首先看几个文件夹，</p><ul><li><code>language</code>文件夹是语言文件，一般不需要修改，除非你增加了什么新布局，可能需要适配多语言；</li><li><code>layout</code>模板文件夹，修改和增加新功能，大部分都需要改动模板；</li><li><code>source</code>打包后的资源就放在这里；</li><li><code>source-src</code>js和css源码文件都在这里，需要修改js和css就要从这里修改。</li></ul><h2 id="简单修改"><a class="markdownIt-Anchor" href="#简单修改"></a> 简单修改</h2><p>我们举两个简单的例子，来说明一下怎么从源码修改</p><h3 id="取消统计代码"><a class="markdownIt-Anchor" href="#取消统计代码"></a> 取消统计代码</h3><p>用过Yilia主题的都知道，一段统计代码总是拉低你的加载速度，不得已，需要自己去注释掉，我们现在说一下怎么从源码上删掉这段统计代码，首先看目录结构</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.\source-src\js\</span><br><span class="line">|<span class="comment">-- Q.js</span></span><br><span class="line">|<span class="comment">-- anm.js</span></span><br><span class="line">|<span class="comment">-- aside.js</span></span><br><span class="line">|<span class="comment">-- browser.js</span></span><br><span class="line">|<span class="comment">-- fix.js</span></span><br><span class="line">|<span class="comment">-- main.js</span></span><br><span class="line">|<span class="comment">-- mobile.js</span></span><br><span class="line">|<span class="comment">-- report.js</span></span><br><span class="line">|<span class="comment">-- share.js</span></span><br><span class="line">|<span class="comment">-- slider.js</span></span><br><span class="line">|<span class="comment">-- util.js</span></span><br><span class="line">`<span class="comment">-- viewer.js</span></span><br></pre></td></tr></table></figure><p>一眼扫过去，再简单分析一下，就知道，统计上报的代码写在了<code>report.js</code>里</p><p>修改<code>main.js</code>，将其注释掉，然后使用webpack打包<code>npm run dist</code></p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 样式</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'../css/main.scss'</span></span><br><span class="line"><span class="comment">// 上报</span></span><br><span class="line"><span class="comment">//import './report'</span></span><br><span class="line"><span class="comment">// 图片查看器</span></span><br><span class="line"><span class="keyword">import</span> Viewer <span class="keyword">from</span> <span class="string">'./viewer'</span></span><br></pre></td></tr></table></figure><p>完成，新生成的main.xxxxxx.js里已经没有了统计代码了。</p><h3 id="增加valine评论"><a class="markdownIt-Anchor" href="#增加valine评论"></a> 增加Valine评论</h3><p>目前我的博客引入Valine评论的方式稍有复制，先来介绍一下最简单的引入方式</p><p>修改<code>layout/_partial/article.ejs</code></p><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">if</span> (theme.valine &amp;&amp; theme.valine.appid &amp;&amp; theme.valine.appkey)&#123; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span> <span class="attr">class</span>=<span class="string">"comments"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span></span><br><span class="line"><span class="xml">      .comments&#123;margin:30px;padding:10px;background:#fff&#125;</span></span><br><span class="line"><span class="xml">      @media screen and (max-width:800px)&#123;.comments&#123;margin:auto;padding:10px;background:#fff&#125;&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby"> partial(<span class="string">'post/valine'</span>, &#123;</span></span><br><span class="line"><span class="ruby">      <span class="symbol">key:</span> post.slug,</span></span><br><span class="line"><span class="ruby">      <span class="symbol">title:</span> post.title,</span></span><br><span class="line"><span class="ruby">      <span class="symbol">url:</span> config.url+url_for(post.path)</span></span><br><span class="line"><span class="ruby">      &#125;) </span><span class="xml">%&gt;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br></pre></td></tr></table></figure><p>添加<code>layout/_partial/post/valine.ejs</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"vcomment"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">'//cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">   <span class="keyword">var</span> notify = <span class="string">'&lt;%= theme.valine.notify %&gt;'</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">   <span class="keyword">var</span> verify = <span class="string">'&lt;%= theme.valine.verify %&gt;'</span> == <span class="literal">true</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">   <span class="keyword">new</span> Valine(&#123;</span></span><br><span class="line"><span class="undefined">            av: AV,</span></span><br><span class="line"><span class="actionscript">            el: <span class="string">'#vcomment'</span>,</span></span><br><span class="line"><span class="undefined">            notify: notify,</span></span><br><span class="line"><span class="undefined">            verify: verify,</span></span><br><span class="line"><span class="actionscript">            app_id: <span class="string">"&lt;%= theme.valine.appid %&gt;"</span>,</span></span><br><span class="line"><span class="actionscript">            app_key: <span class="string">"&lt;%= theme.valine.appkey %&gt;"</span>,</span></span><br><span class="line"><span class="actionscript">            placeholder: <span class="string">"&lt;%= theme.valine.placeholder %&gt;"</span>,</span></span><br><span class="line"><span class="actionscript">            avatar: <span class="string">"&lt;%= theme.valine.avatar %&gt;"</span>,</span></span><br><span class="line"><span class="actionscript">            avatar_cdn: <span class="string">"&lt;%= theme.valine.avatar_cdn %&gt;"</span>,</span></span><br><span class="line"><span class="javascript">            pageSize: <span class="xml"><span class="tag">&lt;<span class="name">%=</span> <span class="attr">theme.valine.pageSize</span> %&gt;</span></span></span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>简单的部分就讲完了，剩下的内容稍微有点复制，而且属于魔改系类，算是个人的一些见解，所以就分到了另一节里，下篇文章会稍微讲解一下webpack的配置，还有js后加载和DOM阻塞的一下问题。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;自己动手修改Yilia主题，这有什么难的，简单修修模板，改改CSS？&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>CPU降压降温方案</title>
    <link href="https://blog.xxwhite.com/2019/cpu-reduction-voltage.html"/>
    <id>https://blog.xxwhite.com/2019/cpu-reduction-voltage.html</id>
    <published>2019-01-19T01:33:46.000Z</published>
    <updated>2019-01-19T04:20:01.745Z</updated>
    
    <content type="html"><![CDATA[<p>最近zuodie，把一颗i7-8700装到了笔记本上，结果两风扇散热根本不够看的，随便跑一跑x264，温度直接飙到90+（冬天90+），风扇嗷嗷的叫，再过一会就开始降频了。</p><a id="more"></a><p>降压的好处不仅仅是降温，更重要的是有利于提升频率，让CPU不至于降频。</p><p>先来说一下这台破本子的配置</p><ul><li>炫龙DC PRO 1050ti准系统，主板H370；</li><li>CPU：i7-8700测试版 主频2.9G/睿频4.0G/满载3.6G，TDP65W；</li><li>内存：海盗船DDR4 2666 8G*2；</li><li>硬盘：七彩虹CN600S 480G/台电 极光A900（旧笔记本拆下来的）</li></ul><p>再看一下这散热，双风扇四铜管，显卡倒是没有什么散热压力，但是CPU的散热压力可真不小（右侧），毕竟塞了一颗标称TDP65W的U进去。</p><p><img src="https://s2.ax1x.com/2019/01/19/k974u8.jpg" alt="散热结构"></p><h2 id="降温"><a class="markdownIt-Anchor" href="#降温"></a> 降温</h2><p>由于经常跑x264，所以不想办法降点温度是真没法用，比起开盖什么的，个人感觉降压更方便，更实用一点。</p><p>但是笔记本H370主板，根本不能在BIOS里控制电压啊，只能祭出杀器，<a href="https://downloadcenter.intel.com/download/24075/Intel-Extreme-Tuning-Utility-Intel-XTU" target="_blank" rel="noopener">Inter XTU (Extreme Tuning Utility)</a></p><p>打开这个东西，8700唯一能做的也就是拉低一点电压了，其他的嘛，基本都是锁死的，而且意义不大。</p><p>具体能够拉低多少电压，这个就要看CPU的体质了，先从100mv开始尝试，烤机五分钟如果没问题的话，就再降低一点，一直到死机为止（由于是软件调控，不会导致你不能开机的），然后从死机的电压上再往上升一点，再烤机半个小时，如果还可以稳定的话，那就没什么问题了。</p><p>比如说我这颗U，降170mv就会直接死机，降160mv短时间使用没问题，但是烤机时间过长也会死机，降150mv用了有一个星期了，没出现过什么问题。</p><p><img src="https://s2.ax1x.com/2019/01/19/k9HC59.png" alt="拉低电压"></p><h2 id="测试"><a class="markdownIt-Anchor" href="#测试"></a> 测试</h2><p>AIDA64烤机15min测试，对比降压前后的温度（主要是风扇，但是这个笔记本风扇没有测速，所以只能用噪音来量化了）</p><p>降压后温度最高93℃，大部分时候都可以维持在90℃以下，而且风扇没有到暴躁的程度，噪音可以接受。CPU频率的话，基本全程跑到3.5G，不会降频。</p><p><img src="https://s2.ax1x.com/2019/01/19/k9bUOK.png" alt="降压后"></p><p>未降压的情况只跑了大概五分钟，后面也无需再跑了，放个对比图就知道了。</p><p><img src="https://s2.ax1x.com/2019/01/19/k9jhJe.png" alt="对比"></p><p>从对比图上可以看出来，大概半分钟之后，就开始降频了，全核心基本上是2.93G的样子，主要是被65W的TDP限制死了，温度的话，基本稳定在90℃上下一点，和降压后结果差别不大，但是风扇转速明显要比未降压的时候要快，噪音也很明显。</p><h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2><p>这款模具根本就压不住i7-8700这颗CPU，千万别学我作死，也许某宝上卖的8700t测试版是最适合的U吧。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近zuodie，把一颗i7-8700装到了笔记本上，结果两风扇散热根本不够看的，随便跑一跑x264，温度直接飙到90+（冬天90+），风扇嗷嗷的叫，再过一会就开始降频了。&lt;/p&gt;
    
    </summary>
    
    
      <category term="随便水水" scheme="https://blog.xxwhite.com/tags/%E9%9A%8F%E4%BE%BF%E6%B0%B4%E6%B0%B4/"/>
    
  </entry>
  
  <entry>
    <title>为知识付费</title>
    <link href="https://blog.xxwhite.com/2019/pay-for-knowledge.html"/>
    <id>https://blog.xxwhite.com/2019/pay-for-knowledge.html</id>
    <published>2019-01-05T04:08:07.000Z</published>
    <updated>2019-01-05T06:20:45.570Z</updated>
    
    <content type="html"><![CDATA[<p>昨天收了一个一百块钱的红包，感觉有点受之有愧。</p><a id="more"></a><p>昨天体检回来发现有个人给我发消息，谁想请我帮忙解决一个问题，可以付费</p><p><img src="https://s2.ax1x.com/2019/01/05/F7imHs.jpg" alt="F7imHs.jpg"></p><p>当时正好要去上班，就打算随便指导他一下，也没想付费的事，后来看他态度挺认真的，也一直搞不定，就开电脑自己截图给他演示讲解了一下，再后来看他自己搞定了，我就去上班了。</p><p>等我下班回来，发现他真给我发了一个红包，本来也没打算收的，但是他那一句为知识付费打动了我，真是一个一百块钱的红包。</p><p><img src="https://s2.ax1x.com/2019/01/05/F7iuEn.jpg" alt="F7iuEn.jpg"></p><p>花一百块钱为知识付费，值不值？<br>当然不值了，给他讲解，花费的时间总共大概一个小时左右，一个小时一百块钱，反正我是赚翻了，以前在群里当义工未别人讲解，有的时候一个晚上搞下来，一句谢谢都得不到，这次只花了一个小时就赚了一百块钱。</p><p>但是反过来想一想，现在我们可以免费向网友提问，有问题会有热心网友帮忙解决，但是真的有回报过热心网友吗？金钱上的回报我是没有过，仅有的一点回报就是自己也成为了一个热心网友吧。</p><p>在获取他人帮助的时候，有没有回报过其他人呢？我的博客反正是没收到过捐赠，不知道其他人怎么样。至于那些帮助过我的文章，多多少少我应该有过一点捐赠吧，毕业半年了，捐赠打赏话的钱，加起来应该也有两三百了吧（吐槽一下，都是我在捐赠别人，为啥没人打赏我一点呢）。</p><p>虽然说钱很俗，但是为知识付费，才是更多人愿意分享知识的动力。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;昨天收了一个一百块钱的红包，感觉有点受之有愧。&lt;/p&gt;
    
    </summary>
    
    
      <category term="随便水水" scheme="https://blog.xxwhite.com/tags/%E9%9A%8F%E4%BE%BF%E6%B0%B4%E6%B0%B4/"/>
    
  </entry>
  
  <entry>
    <title>Unity包管理和调试</title>
    <link href="https://blog.xxwhite.com/2018/unity-vs-debug.html"/>
    <id>https://blog.xxwhite.com/2018/unity-vs-debug.html</id>
    <published>2018-12-08T14:10:18.000Z</published>
    <updated>2018-12-21T14:20:14.112Z</updated>
    
    <content type="html"><![CDATA[<p>前面讲了怎么<a href="/2018/unity-vs-resharper.html">打造Unity最强IDE</a>，那么今天就来讲一下怎么用前面搭建好的环境快速开发。</p><a id="more"></a><h2 id="nuget包管理"><a class="markdownIt-Anchor" href="#nuget包管理"></a> Nuget包管理</h2><blockquote><p>NuGet is the package manager for .NET. The NuGet client tools provide the ability to produce and consume packages. The NuGet Gallery is the central package repository used by all package authors and consumers.</p></blockquote><p>对于 .net 项目而言，NuGet确实是最好的包管理器，Unity项目也不不例外。</p><p>那么今天就来讲一下在Unity项目里管理NuGet包。</p><h3 id="cli"><a class="markdownIt-Anchor" href="#cli"></a> cli</h3><p>使用命令行工具，理论上是可行的，但是未免也太蛋疼了吧，还是换个更好一点的工具试试吧；</p><h3 id="nugetforunity"><a class="markdownIt-Anchor" href="#nugetforunity"></a> NuGetForUnity</h3><blockquote><p>NuGetForUnity is a NuGet client built from scratch to run inside the Unity Editor. NuGet is a package management system which makes it easy to create packages that are distributed on a server and consumed by users. NuGet supports sematic versioning for packages as well as dependencies on other packages.</p></blockquote><p>从介绍上来看，这是一款专为Unity打造的NuGet包管理工具，并且是开源工具，发布在GitHub上：</p><ul><li>开源地址：<a href="https://github.com/GlitchEnzo/NuGetForUnity" target="_blank" rel="noopener">https://github.com/GlitchEnzo/NuGetForUnity</a></li><li>插件下载地址：<a href="https://github.com/GlitchEnzo/NuGetForUnity/releases" target="_blank" rel="noopener">https://github.com/GlitchEnzo/NuGetForUnity/releases</a></li></ul><p>下载之后导入插件，然后就可以正常使用了（某些版本可能会有点bug，这东西暂时还不太稳定，主要是依赖这种东西太蛋疼了，你根本不会知道哪些包会和Unity冲突）</p><p><img src="https://s1.ax1x.com/2018/12/08/F8JmxH.png" alt="使用NuGet包"></p><p>先随便导入一个包吧，以后会用到这个包</p><blockquote><p>这里有个坑注意一下，有些依赖导入Unity之后会报错，这个时候需要手动把报错的包卸载掉。</p></blockquote><h2 id="调试"><a class="markdownIt-Anchor" href="#调试"></a> 调试</h2><p>Unity如果出线错误，或者是没有出线自己预想的结果，这个时候应该怎么办呢？应该自己想办法查找问题所在，而不应该第一时间就跑去问某某某，自己是哪里出了问题。</p><p>今天就大致讲一下怎么自己排查问题出在哪里。</p><h3 id="debuglog"><a class="markdownIt-Anchor" href="#debuglog"></a> Debug.Log()</h3><p>这是最常用的一种方法，我们用 <code>Debug.Log</code> 把我们想要检查的对象的某个属性输出在日志里，然后去看和我们预想的是不是一样的。</p><p>比如我创建了一个简单的Demo（可以在文章结尾下载到）</p><p>预期是这样的<br><img src="https://s1.ax1x.com/2018/12/08/F8ti4K.gif" alt="预期"><br>但是实际上却是这样的<br><img src="https://s1.ax1x.com/2018/12/09/F8tnHI.gif" alt="实际"></p><p>为什么会这样呢？肯定是中间哪里弄错了，先来看一下代码</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DebugLog</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Slider _slider0;</span><br><span class="line">    <span class="keyword">private</span> Slider _slider1;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        _slider0 = GameObject.Find(<span class="string">"Slider0"</span>).GetComponent&lt;Slider&gt;();</span><br><span class="line">        _slider1 = GameObject.Find(<span class="string">"Slider1"</span>).GetComponent&lt;Slider&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        SyncSlider();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SyncSlider</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">var</span> value0 = _slider0.<span class="keyword">value</span> * <span class="number">0.5f</span>;</span><br><span class="line">        _slider1.<span class="keyword">value</span> = value0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>一眼望过去，左看又看，横看竖看也看不出来问题啊 <s>（这要是还看不出来就是真眼瞎了）</s></p><p>既然肉眼看不出来，那咱们就先简单分析一下这简简单单的两行代码，原理也很简单，先获取到<code>Slider0</code>的值，赋值给<code>value0</code>，然后再把<code>value0</code>的值赋给<code>Slider1</code>。</p><p>咱们打一下Log看看<code>value0</code>的值是不是与<code>Slider0</code>的值一致</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SyncSlider</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">var</span> value0 = _slider0.<span class="keyword">value</span> * <span class="number">0.5f</span>;</span><br><span class="line">        Debug.Log(<span class="string">$"Slider0Value:<span class="subst">&#123;_slider0.<span class="keyword">value</span>&#125;</span>,value0:<span class="subst">&#123;value0&#125;</span>"</span>);</span><br><span class="line">        _slider1.<span class="keyword">value</span> = value0;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2018/12/09/F8NeRU.png" alt="Log"></p><p>我们截取了Unity中控制台窗口的一部分，从图中我们可以看出，<code>value0</code>的值总是<code>Slider0</code>的值的一半，再返回去检查代码，发现原来是手抖加了一个<code>* 0.5</code>啊，改过来就可以符合我们的预期了。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    private void SyncSlider()</span><br><span class="line">    &#123;</span><br><span class="line"><span class="deletion">-       var value0 = _slider0.value * 0.5f;</span></span><br><span class="line"><span class="addition">+       var value0 = _slider0.value;</span></span><br><span class="line">        _slider1.value = value0;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="打断点"><a class="markdownIt-Anchor" href="#打断点"></a> 打断点</h3><p>说实话，这个例子举得不太恰当，因为在被Update函数调用的函数里打断点调试，是一件很蛋疼的事，需要一些技巧才能熟练使用。但是今天仅仅是演示怎么找到问题所在，所以看我怎么操作就可以了。</p><p>首先是需要安装 <code>Visual Studio Tools for Unity</code></p><p><img src="https://s1.ax1x.com/2018/12/09/F8qATH.png" alt="安装Visual Studio Tools for Unity"></p><p>同样用刚才的项目做演示，打开刚才的项目，简单将 <code>Debug.Log()</code> 注释掉</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DebugLog</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> Slider _slider0;</span><br><span class="line">    <span class="keyword">private</span> Slider _slider1;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        _slider0 = GameObject.Find(<span class="string">"Slider0"</span>).GetComponent&lt;Slider&gt;();</span><br><span class="line">        _slider1 = GameObject.Find(<span class="string">"Slider1"</span>).GetComponent&lt;Slider&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Update</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        SyncSlider();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">SyncSlider</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">var</span> value0 = _slider0.<span class="keyword">value</span> * <span class="number">0.5f</span>;</span><br><span class="line">        <span class="comment">//Debug.Log($"Slider0Value:&#123;_slider0.value&#125;,value0:&#123;value0&#125;");</span></span><br><span class="line">        _slider1.<span class="keyword">value</span> = value0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>将调试信息改为 <code>附加到Unity并播放</code></p><p><img src="https://s1.ax1x.com/2018/12/09/F8qlnS.png" alt="附加到Unity并播放"></p><p>因为需要打断点的位置需要在 <code>Update</code> 方法里调用，所以如果一开始直接就打断点的话，这个东西根本没有办法调试，我们需要先让程序运行起来，中途再打断点。</p><p><img src="https://s1.ax1x.com/2018/12/09/F8zsrq.png" alt="打断点"></p><p>通过打断点的方法，我们同样可以找到问题所在。</p><p>除了上面说的，先运行再打断点，还可以用加判断条件的方法调试被 <code>Update</code> 调用的方法。</p><p><img src="https://s1.ax1x.com/2018/12/09/FGp64U.png" alt="判断断点"></p><p>考虑到上面这个例子有点不太恰当，在Demo里我又写了一个关于2D碰撞检测的问题，有兴趣的可以研究一下这个东西怎么调试</p><h3 id="比较两种方法"><a class="markdownIt-Anchor" href="#比较两种方法"></a> 比较两种方法</h3><p>使用 Debug.Log() 和打断点两种方法，具体哪一种比较好用呢？从理论上来讲，打断点好用，而且功能强大，越是复杂的问题，使用起来相对 Debug.Log() 越简单，但是在某些问题上，Debug.Log() 却又非常方便，两种调试方法结合起来使用，可以让你迅速找到问题所在，遇到小问题，再也不用去某某群问别人“为什么我照着教程做，但是XX结果和教程里不一样呢？”</p><p>Demo下载地址：<a href="https://dl.sm9.top/blog/unity/%E8%B0%83%E8%AF%95demo/" target="_blank" rel="noopener">https://dl.sm9.top/blog/unity/调试demo/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前面讲了怎么&lt;a href=&quot;/2018/unity-vs-resharper.html&quot;&gt;打造Unity最强IDE&lt;/a&gt;，那么今天就来讲一下怎么用前面搭建好的环境快速开发。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Unity" scheme="https://blog.xxwhite.com/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>九九乘法表？</title>
    <link href="https://blog.xxwhite.com/2018/9x9.html"/>
    <id>https://blog.xxwhite.com/2018/9x9.html</id>
    <published>2018-11-20T12:54:08.000Z</published>
    <updated>2018-12-21T14:20:14.098Z</updated>
    
    <content type="html"><![CDATA[<p>打印九九乘法表？这么低端的事我会做？</p><a id="more"></a><p>好吧，我确实不会。</p><p>昨天在V站看到有人嘲讽别人说连九九乘法表都不会打印，仔细想一下，我好像也不会的。</p><p>但是今天一打开IDE，一碰键盘，随手就撸出来一个，这东西这么简单，根本就不用学的嘛</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Console.WriteLine(<span class="string">@"1x1=1</span></span><br><span class="line"><span class="string">                    1x2=2  2x2=4</span></span><br><span class="line"><span class="string">                    1x3=3  2x3=6  3x3=9</span></span><br><span class="line"><span class="string">                    1x4=4  2x4=8  3x4=12 4x4=16</span></span><br><span class="line"><span class="string">                    1x5=5  2x5=10 3x5=15 4x5=20 5x5=25</span></span><br><span class="line"><span class="string">                    1x6=6  2x6=12 3x6=18 4x6=24 5x6=30 6x6=36</span></span><br><span class="line"><span class="string">                    1x7=7  2x7=14 3x7=21 4x7=28 5x7=35 6x7=42 7x7=49</span></span><br><span class="line"><span class="string">                    1x8=8  2x8=16 3x8=24 4x8=32 5x8=40 6x8=48 7x8=56 8x8=64</span></span><br><span class="line"><span class="string">                    1x9=9  2x9=18 3x9=27 4x9=36 5x9=45 6x9=54 7x9=63 8x9=72 9x9=81"</span>);</span><br><span class="line">Console.ReadKey();</span><br></pre></td></tr></table></figure><p>看看，是不是很简单，毫无难度对不对。</p><h2 id="正式版"><a class="markdownIt-Anchor" href="#正式版"></a> 正式版</h2><p>说归说，笑归笑，咱们来个正的。</p><p>九九乘法表不就是一个双循环嘛，那有什么难度，咱们来写一个。</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= UPPER; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= UPPER; j++)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>循环？双循环写好了，但是从哪里循环到哪里？<br>首先是外圈的，外圈循环很简单，从1 到 9，这个毫无疑问，但是内圈呢？</p><p>仔细观察，每一行的最后一列都是和行号相同，这就简单了，来随手写一个</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>有了双循环，来打印试一下。</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> result = i * j;</span><br><span class="line">        Console.Write(<span class="string">$"<span class="subst">&#123;j&#125;</span>x<span class="subst">&#123;i&#125;</span>=<span class="subst">&#123;result&#125;</span>"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Console.WriteLine(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2018/11/20/F9USDf.png" alt=""></p><p>虽然打印出来了，但是有点问题啊，中间分不开，间距不一样，上下不能对齐，强迫症不能忍啊</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">9</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> result = i * j;</span><br><span class="line">        Console.Write(<span class="string">$"<span class="subst">&#123;j&#125;</span>x<span class="subst">&#123;i&#125;</span>=<span class="subst">&#123;result&#125;</span>"</span>);</span><br><span class="line">        <span class="keyword">if</span> (result.ToString().Length &lt; <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        Console.Write(<span class="string">"  "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">        Console.Write(<span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Console.WriteLine(<span class="string">""</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Console.ReadKey();</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2018/11/20/F9UYKx.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;打印九九乘法表？这么低端的事我会做？&lt;/p&gt;
    
    </summary>
    
    
      <category term="C#" scheme="https://blog.xxwhite.com/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>打造Unity最强IDE</title>
    <link href="https://blog.xxwhite.com/2018/unity-vs-resharper.html"/>
    <id>https://blog.xxwhite.com/2018/unity-vs-resharper.html</id>
    <published>2018-11-14T14:44:57.000Z</published>
    <updated>2018-12-21T14:20:14.113Z</updated>
    
    <content type="html"><![CDATA[<p>去年写过一篇文章，<a href="/2018/UseJB.html">使用Rider作为Unity的IDE</a>，但是用了一段时间之后发现，Rider用着还是有点不太习惯，不如VS顺手，正好来分享一下开发环境是怎么搭建的。</p><a id="more"></a><h2 id="软件"><a class="markdownIt-Anchor" href="#软件"></a> 软件</h2><ul><li>Unity（主角）</li><li>Visual Studio（宇宙最强IDE）</li><li>JetBrains ReSharper（宇宙最智能IDE插件）</li></ul><h3 id="安装unity"><a class="markdownIt-Anchor" href="#安装unity"></a> 安装Unity</h3><p>安装Unity的话，我建议是使用<a href="https://public-cdn.cloud.unity3d.com/hub/prod/UnityHubSetup.exe" target="_blank" rel="noopener">Unity-Hub</a>。同时，Unity建议使用LTS版，除非你是想体验新特性。</p><h3 id="安装visual-studio"><a class="markdownIt-Anchor" href="#安装visual-studio"></a> 安装Visual Studio</h3><p>直接使用社区版就可以，建议使用最新版，下载地址：<a href="https://visualstudio.microsoft.com/zh-hans/" target="_blank" rel="noopener">https://visualstudio.microsoft.com/zh-hans/</a></p><h3 id="安装jetbrains-resharper"><a class="markdownIt-Anchor" href="#安装jetbrains-resharper"></a> 安装JetBrains ReSharper</h3><p>这个东西，需要使用适合Visual Studio的版本的，如果Visual Studio使用的最新版本，那用最新版本就没毛病。</p><p>下载地址：<a href="https://www.jetbrains.com/resharper/" target="_blank" rel="noopener">https://www.jetbrains.com/resharper/</a></p><p>这个东西并不是免费的，价格的话，大概两千多RMB每年吧。幸好JB公司还有点良知，教育版是免费的，沾了学校的光，现在毕业了，还有大概半年时间可以用。</p><h2 id="代码补全"><a class="markdownIt-Anchor" href="#代码补全"></a> 代码补全</h2><p>以前这个功能，安装完ReShaper之后就自动会有的，但是不知道在某个版本的时候，ReShaper去掉了这个功能，需要安装一个插件才可以用。</p><p>这其中还有一段心酸的历史，当我找不到代码补全在哪里设置的时候，各种尝试，无果，百度谷歌，无果，最后无意中发现ReShaper竟然还有插件这种东西，瞬间打开新世界。</p><p>安装完上面的软件之后，需要再安装插件才可以。</p><p><img src="https://s1.ax1x.com/2018/11/15/ivICZj.png" alt=""></p><p><img src="https://s1.ax1x.com/2018/11/15/ivI1F1.png" alt=""></p><p>安装插件Unity Support之后就可以和以前一样啦。</p><p><img src="https://s1.ax1x.com/2018/11/15/ivoeht.png" alt=""></p><p>完美，接下来几天要准备一个在Unity中搞一个活塞电机出来，主要都是物理方面的模拟，过段时间再有时间的话，准备再搞点UGUI方面的东西出来，感兴趣的话，可以收藏看一下我后面的文章。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;去年写过一篇文章，&lt;a href=&quot;/2018/UseJB.html&quot;&gt;使用Rider作为Unity的IDE&lt;/a&gt;，但是用了一段时间之后发现，Rider用着还是有点不太习惯，不如VS顺手，正好来分享一下开发环境是怎么搭建的。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Unity" scheme="https://blog.xxwhite.com/tags/Unity/"/>
    
  </entry>
  
  <entry>
    <title>录制视频时显示按键</title>
    <link href="https://blog.xxwhite.com/2018/KeyCastOW.html"/>
    <id>https://blog.xxwhite.com/2018/KeyCastOW.html</id>
    <published>2018-10-28T14:54:43.000Z</published>
    <updated>2019-02-10T14:41:25.409Z</updated>
    
    <content type="html"><![CDATA[<p>在录屏的时候，我们可能需要把按键情况准确的显示出来，这样就需要把按键映射到屏幕上。</p><a id="more"></a><p>在网上一番寻找之后，暂定 <a href="http://brookhong.github.io/2014/04/28/keycast-on-windows.html" target="_blank" rel="noopener">KeyCastOW</a> 是能找到的，最好用的工具（个人认为），但是作者并没有提供二进制文件（就是已经编译好的 exe 文件），需要使用源码自行编译。</p><p>下面录了一段编译过程的视频，顺便看一下实际使用效果怎么样。</p><div id="dplayer2" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer2"),"loop":"yes","screenshot":"yes","video":{"url":"https://dl.sm9.top/Video/2018/KeyCastOW.mp4"},"danmaku":{"id":"DDEC4F882C0B66FAD7F6E075195C9B51","api":"https://api.prprpr.me/dplayer/","addition":["https://api.prprpr.me/dplayer/v3/bilibili?aid=34834951"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <p>实际编译过程也很简单，由于我电脑上装的vs工具和作者的版本不一样，所有需要把项目的目标版本升级一下才能正常编译。</p><p>exe 文件我放在了文章最后，有需要的可以直接下载。</p><p>如果不能运行，请安装<a href="http://www.423down.com/6826.html" target="_blank" rel="noopener">VC++2017</a></p><p>exe文件下载地址：<a href="https://dl.sm9.top/blog/KeyCastOW/" target="_blank" rel="noopener">https://dl.sm9.top/blog/KeyCastOW/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在录屏的时候，我们可能需要把按键情况准确的显示出来，这样就需要把按键映射到屏幕上。&lt;/p&gt;
    
    </summary>
    
    
      <category term="随便水水" scheme="https://blog.xxwhite.com/tags/%E9%9A%8F%E4%BE%BF%E6%B0%B4%E6%B0%B4/"/>
    
      <category term="软件" scheme="https://blog.xxwhite.com/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>二手洋垃圾改造</title>
    <link href="https://blog.xxwhite.com/2018/personal-server.html"/>
    <id>https://blog.xxwhite.com/2018/personal-server.html</id>
    <published>2018-09-22T12:40:04.000Z</published>
    <updated>2018-12-21T14:20:14.110Z</updated>
    
    <content type="html"><![CDATA[<p>最近一直我那台老掉牙的笔记本实在是不行了，看现在电脑实在是太贵了，就搞了台二手洋垃圾回来，然后自己动手魔改一番。</p><a id="more"></a><blockquote><p>现在配件还没到齐，还差一个调速器没到，所以暂时就用我的可调电源代替了。</p></blockquote><p>先看一下整体配置：</p><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">价格</th><th style="text-align:left">备注</th></tr></thead><tbody><tr><td style="text-align:center">主机</td><td style="text-align:center">1990</td><td style="text-align:left">二手戴尔R710，双路E5645，32G DDR3内存，1T SAS硬盘</td></tr><tr><td style="text-align:center">显示器</td><td style="text-align:center">880</td><td style="text-align:left">飞利浦243S7EHMB</td></tr><tr><td style="text-align:center">固态硬盘</td><td style="text-align:center">330</td><td style="text-align:left">台电A850，垃圾货一个，千万别买</td></tr><tr><td style="text-align:center">显卡</td><td style="text-align:center">270</td><td style="text-align:left">二手750ti</td></tr><tr><td style="text-align:center">水冷套件</td><td style="text-align:center">300</td><td style="text-align:left">某宝买的，只要不漏水就好</td></tr><tr><td style="text-align:center">线材配件</td><td style="text-align:center">约100</td><td style="text-align:left">电源线，VGA线，硬盘线，供电转接线，PWM控制器，螺丝等配件</td></tr><tr><td style="text-align:center">总计</td><td style="text-align:center">约3900</td><td style="text-align:left">还顺便买了一个鼠标，还有电烙铁和一捆杜邦线，全加起来应该有4000了</td></tr></tbody></table><h2 id="显示器"><a class="markdownIt-Anchor" href="#显示器"></a> 显示器</h2><p>先来说显示器，飞利浦243S7EHMB这款显示器只能说是中规中矩，千元以内还算不错，旋升支架算是一个优点。</p><p><img src="https://s1.ax1x.com/2018/09/22/iuMpFA.jpg" alt="243S7EHMB"></p><p>色彩一般般，反正肉眼看是足够了，如果不是缺钱的话，不建议入手，建议加500块上个更好的。</p><h2 id="显卡"><a class="markdownIt-Anchor" href="#显卡"></a> 显卡</h2><p>伊拉克橙色，二手750ti一张</p><p><img src="https://s1.ax1x.com/2018/09/22/iuKzod.jpg" alt="显卡"></p><h2 id="主机"><a class="markdownIt-Anchor" href="#主机"></a> 主机</h2><p>戴尔R710，3.5寸版，这货是真TM的大，而且特别重，很佩服那些运维，不知道这么重的机子是怎么上架的。<br>当时这个东西快递过来的时候，我抱着它走了一公里多到宿舍，回来之后手一直在发抖，第二天手还在抖。</p><p>既然这么重，用料肯定很足，来拆开看看</p><p><img src="https://s1.ax1x.com/2018/09/22/iuKxdH.jpg" alt="内部"></p><p>这东西拆是很好拆，也不需要螺丝。我跟店家说要一个850W的电源，结果还是给我发过来一个570W的电源。电源倒是无所谓，懒得跟他计较了，先看看重点吧。</p><p>CPU是双路E5645，2011年的一款老U，TDP 80W，两颗U就是160W，再加上显卡75W，想把这些东西压住，散热压力也是好大的。所以我打算给CPU上水冷，至于显卡，750ti就没必要了，机箱内风墙顶着，够了。</p><h2 id="水冷"><a class="markdownIt-Anchor" href="#水冷"></a> 水冷</h2><p>某宝买的300块钱的水冷套件</p><p><img src="https://s1.ax1x.com/2018/09/22/iuMFQf.jpg" alt="水冷套件"></p><p>还有彩灯，但是不是RGB</p><p><img src="https://s1.ax1x.com/2018/09/22/iuMky8.jpg" alt="彩灯"></p><p>店家发给我的螺丝是M3螺丝和M4螺丝，但是扣具用的是M3.5的螺丝，店家那里也没有M3.5的，跑遍了五金店也没找到合适的，只能再从某宝买一套了。<br>这套螺丝等了一个星期终于等到了，废话不多说，直接干。</p><p><img src="https://s1.ax1x.com/2018/09/22/iuMCWt.jpg" alt="水冷扣具"></p><p>扣具什么的安装都很简单，先把水冷头连接好，然后对准了把双面胶粘上，然后再拧螺丝就可以了，如果有一套螺母固定螺丝就更好了，可惜我没有M3.5的螺母。</p><p>由于后来买的PWM调速器还在路上，所以暂时就先拿个变压电源充当调速器吧，如果水冷效果好的话，后面再买个高级点的调速器，直接用CPU温度控制。</p><div id="dplayer3" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer3"),"loop":true,"screenshot":"yes","video":{"url":"https://dl.sm9.top/Video/2018/%E5%86%B7%E6%8E%92%E8%B0%83%E9%80%9F.mp4"},"danmaku":{"id":"F933308B39E58A8B894625BA29D6E962","api":"https://api.prprpr.me/dplayer/"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <p>这煤气灶火有点旺，压不住了。</p><p>机箱里面是没地方放了，只能放外面了。</p><p><img src="https://s1.ax1x.com/2018/09/22/iuM9JI.jpg" alt="外置冷排"></p><p><img src="https://s1.ax1x.com/2018/09/22/iuMiSP.jpg" alt="通电"></p><h2 id="效果"><a class="markdownIt-Anchor" href="#效果"></a> 效果</h2><p>R710本身噪音就不大，即使不装水冷，在CPU压力不大的情况下也不会特别响。搞完水冷之后，我准备再搞个静音箱把机子放起来，这样应该就几乎听不到一点声音了。</p><p>系统我装的是Win10 LTSB版，不会蛋疼的去搞什么服务器版本的，那鬼东西正常能用才怪呢，麻烦的要死。</p><p>水冷的效果嘛，暂时没搞过大的压力测试，只能简单的放张图看看了。</p><p><img src="https://s1.ax1x.com/2018/09/23/iuMllV.png" alt="10min高压"></p><p>至于这台机器的使用感受，渲染视频是真的快，X264比我那个老掉牙的笔记本不知道快了多少倍。游戏几乎不怎么玩，只是偶尔玩玩LOL，反正LOL高品质是毫无压力，这台机子搞来不是打游戏的（其实打游戏的话，双路CPU毫无优势）。机子主要是用来渲染视频的，偶尔在上面跑跑程序什么的，4000能搞到这么一个东西，还是很不错的。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近一直我那台老掉牙的笔记本实在是不行了，看现在电脑实在是太贵了，就搞了台二手洋垃圾回来，然后自己动手魔改一番。&lt;/p&gt;
    
    </summary>
    
    
      <category term="服务器" scheme="https://blog.xxwhite.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="个人电脑" scheme="https://blog.xxwhite.com/tags/%E4%B8%AA%E4%BA%BA%E7%94%B5%E8%84%91/"/>
    
  </entry>
  
  <entry>
    <title>一加五换屏记录</title>
    <link href="https://blog.xxwhite.com/2018/oneplus5-change-screen.html"/>
    <id>https://blog.xxwhite.com/2018/oneplus5-change-screen.html</id>
    <published>2018-07-31T15:20:57.000Z</published>
    <updated>2018-12-21T14:20:14.108Z</updated>
    
    <content type="html"><![CDATA[<p>上周日，逛街的时候不小心把手机扔出去了，恰巧手机屏幕朝下，砸在了一块石头上，然后就悲剧了。正好马上就要发上个月的工资了，赶紧某宝买一块屏换上吧。</p><a id="more"></a><p><strong>前排警告，换屏有风险，动手能力弱和处理突发事件能力弱的，强烈不推荐自己动手</strong></p><h2 id="旧屏幕"><a class="markdownIt-Anchor" href="#旧屏幕"></a> 旧屏幕</h2><p><img src="https://s1.ax2x.com/2018/08/01/553sU9.jpg" alt="被摔的屏幕"></p><p>上面是碎的屏幕，下面这个是碎的屏幕和刚刚拿到的快递。</p><p><img src="https://s1.ax2x.com/2018/08/01/553pOu.jpg" alt="碎的屏幕和刚拿到的快递"></p><p>从图中我们可以看出，外屏被摔碎了，内屏也被摔坏了，所有只能换总成了。咬咬牙，400大洋没了。</p><h2 id="新屏幕"><a class="markdownIt-Anchor" href="#新屏幕"></a> 新屏幕</h2><p>拿到快递，拆开看看。<br>除了屏幕之外，店家还送了一张钢化膜和贴膜工具（看不上，没卵用）。还有一套拆机工具（包括三把螺丝刀，两个撬片和两个撬棒），以及一管胶。</p><p><img src="https://s1.ax2x.com/2018/08/01/553ugA.jpg" alt="快递里的东西"></p><p>看一下新屏，做工看起来还将就，反正肯定不是原装，别问我咋看出来的，特么这屏幕弧边几乎没有弧度，不过没有弧度我更喜欢，只要别烧屏太快就行。</p><p><img src="https://s1.ax2x.com/2018/08/01/553JQO.jpg" alt="新屏幕"></p><h2 id="拆机换屏"><a class="markdownIt-Anchor" href="#拆机换屏"></a> 拆机换屏</h2><p>首先把SIM卡取下，然后用螺丝刀拧下尾插旁边的螺丝，然后用撬片和撬棒从下面开始撬，把屏幕和后壳分离。</p><p>吐槽一下送的螺丝刀，质量特别差，如果自己有螺丝刀，千万别用他送这个，如果没有，也尽量去借一套。</p><p><img src="https://s1.ax2x.com/2018/08/01/553Zaq.jpg" alt="下面的螺丝"></p><p><img src="https://s1.ax2x.com/2018/08/01/553yXd.jpg" alt="拆下后壳"></p><p>然后把所有能看到的螺丝拧下来就可以了，然后拆排线，拆电池，再一点一点全给拆下来。</p><p>粘胶的地方注意一下，有些粘的特别紧的地方慢慢来，不要急，尽量别搞什么大力出奇迹。</p><p><img src="https://s1.ax2x.com/2018/08/01/553hfe.jpg" alt="拆解"></p><p>全拆下来之后，再把这些装到新屏幕上，然后开机亮屏试一下。</p><p><img src="https://s1.ax2x.com/2018/08/01/553aIr.jpg" alt="安装完成"></p><p><img src="https://s1.ax2x.com/2018/08/01/553PJR.jpg" alt="开机亮屏"></p><p>好的，完美点亮，试试触屏，也OK。</p><p>关机，装上剩余的排线，拧螺丝，该固定的地方固定，然后再把后壳扣上，再拧上螺丝。</p><p><img src="https://s1.ax2x.com/2018/08/01/553LnX.jpg" alt="完成"></p><h2 id="写在后面的"><a class="markdownIt-Anchor" href="#写在后面的"></a> 写在后面的</h2><p><img src="https://s1.ax2x.com/2018/07/14/q4v9K.png" alt="叉叉白"><br>关注以上公众号，获取更多更好玩的搞机技巧</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;上周日，逛街的时候不小心把手机扔出去了，恰巧手机屏幕朝下，砸在了一块石头上，然后就悲剧了。正好马上就要发上个月的工资了，赶紧某宝买一块屏换上吧。&lt;/p&gt;
    
    </summary>
    
    
      <category term="搞机" scheme="https://blog.xxwhite.com/tags/%E6%90%9E%E6%9C%BA/"/>
    
      <category term="炎黄幼儿园" scheme="https://blog.xxwhite.com/tags/%E7%82%8E%E9%BB%84%E5%B9%BC%E5%84%BF%E5%9B%AD/"/>
    
  </entry>
  
  <entry>
    <title>.net core程序示例</title>
    <link href="https://blog.xxwhite.com/2018/run-dotnetcore.html"/>
    <id>https://blog.xxwhite.com/2018/run-dotnetcore.html</id>
    <published>2018-07-26T13:42:33.000Z</published>
    <updated>2019-04-07T09:49:32.893Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script>var meting_api='https://sm.sm9.top/api.php?server=:server&type=:type&id=:id&r=:r'</script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script><p>上次说了怎么搭建本地调试环境（虽然最后也没有用WSL），这次简单介绍一下怎么创建一个 .net core程序并且在Linux系统上跑起来。</p><a id="more"></a>    <div id="aplayer-IKuoXizO" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="001Mf4Ic1aNYYK" data-server="tencent" data-type="album" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="180px" data-preload="auto" data-theme="#ad7a86" data-order="random"></div><p>本篇文章篇幅较长，您可以打开音乐播放器慢慢来看。</p><h1 id="创建一个-net-core程序"><a class="markdownIt-Anchor" href="#创建一个-net-core程序"></a> 创建一个 .NET CORE程序</h1><h2 id="ide选择"><a class="markdownIt-Anchor" href="#ide选择"></a> IDE选择</h2><p>建议使用宇宙最强IDE <code>Visual Studio</code>，如果真的不喜欢这个的话，可以使用宇宙最智能的IDE <code>JetBrains Rider</code>（<a href="http://xn--xhq1a92eq4kkxyu0cc23guvk.NET" target="_blank" rel="noopener">但是这个东西去搞.NET</a>，还是不太好用）。</p><h3 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h3><p><a href="https://visualstudio.microsoft.com/zh-hans/downloads/" target="_blank" rel="noopener">下载</a>并安装<code>Visual Studio 2017</code>，记得一定要安装.netcore跨平台开发支持。<br><img src="https://s1.ax2x.com/2018/07/28/53syBR.png" alt=""><br>搞完之后，还要自己手动装一下 <a href="https://www.microsoft.com/net/download" target="_blank" rel="noopener">.net core sdk</a></p><h2 id="创建一个demo"><a class="markdownIt-Anchor" href="#创建一个demo"></a> 创建一个DEMO</h2><p><img src="https://s1.ax2x.com/2018/07/28/53utaO.png" alt=""></p><p><img src="https://s1.ax2x.com/2018/07/28/53u6Sq.png" alt=""></p><p>按照上面的步骤创建一个API服务</p><h3 id="mvc简介"><a class="markdownIt-Anchor" href="#mvc简介"></a> MVC简介</h3><p>MVC是 <strong>Model View Controller</strong>（模型-视图-控制器）的缩写，跑一个简单的Demo不需要具体了解MVC是什么，但是要对MVC有一个基本的认识，基本百度一下看两篇文章就差不多了。</p><p><img src="https://s1.ax2x.com/2018/07/28/53ukJd.png" alt=""></p><p>跑一下试试</p><p><img src="https://s1.ax2x.com/2018/07/28/53ul6R.png" alt=""></p><p>简单修改一下请求</p><p><img src="https://s1.ax2x.com/2018/07/28/53uS5r.png" alt="53uS5r.png">  <img src="https://s1.ax2x.com/2018/07/28/53ufOY.png" alt="53ufOY.png"></p><h2 id="来个真正的demo"><a class="markdownIt-Anchor" href="#来个真正的demo"></a> 来个真正的Demo</h2><p>了解了上面的这些基本知识，我们就可以弄一个真正的DEMO了，这次我直接给出一个Demo，下一期会从基础开始讲解。</p><h3 id="一个二维码生成的demo"><a class="markdownIt-Anchor" href="#一个二维码生成的demo"></a> 一个二维码生成的Demo</h3><p>这也是我学习的时候写的第一个Demo，二维码生成使用了<code>ZXing.Net</code>。</p><p>工程文件：<a href="https://dl.sm9.top/blog/dotnet/qr/QR.zip" target="_blank" rel="noopener">下载</a><br>示例文件：<a href="https://dl.sm9.top/blog/dotnet/qr/PublishOutput.zip" target="_blank" rel="noopener">下载</a></p><p>食用方法：<br>直接使用get请求。url参数tt为需要生成二维码的参数，例如<code>http://localhost:5001/api/qr?tt=http://weixin.qq.com/r/PjgpMaTEv-nAreBS920s</code><br>如果编码中含有<code>&amp;</code>、<code>#</code>等字符，请使用<code>%26</code>、<code>%23</code>编码代替。</p><h1 id="服务端配置"><a class="markdownIt-Anchor" href="#服务端配置"></a> 服务端配置</h1><h2 id="安装-net-core-环境"><a class="markdownIt-Anchor" href="#安装-net-core-环境"></a> 安装 .NET CORE 环境</h2><p>本文以Debian9为例，其他请看 <a href="https://www.microsoft.com/net/learn/get-started-with-dotnet-tutorial" target="_blank" rel="noopener">官方介绍</a></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https:<span class="comment">//packages.microsoft.com/keys/microsoft.asc | gpg --dearmor &gt; microsoft.asc.gpg</span></span><br><span class="line">sudo mv microsoft<span class="selector-class">.asc</span><span class="selector-class">.gpg</span> /etc/apt/trusted<span class="selector-class">.gpg</span><span class="selector-class">.d</span>/</span><br><span class="line">wget -<span class="selector-tag">q</span> https:<span class="comment">//packages.microsoft.com/config/debian/9/prod.list</span></span><br><span class="line">sudo mv prod<span class="selector-class">.list</span> /etc/apt/sources<span class="selector-class">.list</span><span class="selector-class">.d</span>/microsoft-prod.list</span><br><span class="line">sudo chown root:root /etc/apt/trusted<span class="selector-class">.gpg</span><span class="selector-class">.d</span>/microsoft<span class="selector-class">.asc</span><span class="selector-class">.gpg</span></span><br><span class="line">sudo chown root:root /etc/apt/sources<span class="selector-class">.list</span><span class="selector-class">.d</span>/microsoft-prod.list</span><br></pre></td></tr></table></figure><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> update</span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install dotnet-sdk-2.1</span><br></pre></td></tr></table></figure><p>如果中间出现错误的话，就自己翻译一下吧，基本不会有什么大问题的。</p><p>安装完想验证一下的话，可以</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dotnet <span class="comment">--version</span></span><br><span class="line">dotnet <span class="comment">--list-sdks</span></span><br></pre></td></tr></table></figure><p><img src="https://s1.ax2x.com/2018/07/27/53WoTG.png" alt=""></p><h2 id="测试"><a class="markdownIt-Anchor" href="#测试"></a> 测试</h2><p>上传发布的文件到服务器，测试一下能不能运行。</p><p>具体怎么上传，自己想办法。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="regexp">/www/</span>dotnet<span class="regexp">/qr/</span>          <span class="comment">#定位到你上传的路径</span></span><br><span class="line">dotnet QR.dll                   <span class="comment">#需要注意的是。Linux对大小写敏感</span></span><br></pre></td></tr></table></figure><p><img src="https://s1.ax2x.com/2018/07/28/53ZjPA.png" alt=""></p><blockquote><p>PS：我在测试的时候发现上传的服务器之后二维码生成一直有问题，感觉是<code>ZXing.Net</code>的问题。下次换个Demo试试，<a href="http://xn--rcrw7if0l56d3y4bmbu.net" target="_blank" rel="noopener">或者是退回到.net</a> core2.0看看。</p></blockquote><h2 id="安装supervisor"><a class="markdownIt-Anchor" href="#安装supervisor"></a> 安装supervisor</h2><p>这一步为可选步骤，主要用于守护进程（就是你关掉终端之后你的程序依旧可以在后台运行）</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install supervisor</span><br></pre></td></tr></table></figure><h3 id="修改配置文件"><a class="markdownIt-Anchor" href="#修改配置文件"></a> 修改配置文件</h3><p>先看一下配置文件</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cat</span> /etc/supervisor/supervisord.<span class="keyword">conf</span></span><br></pre></td></tr></table></figure><p>注意看后面有没有<code>[include]</code>这一项</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">include</span>]</span><br><span class="line">files = <span class="regexp">/etc/supervisor</span><span class="regexp">/conf.d/</span>*.conf</span><br></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /etc/supervisor/<span class="keyword">conf</span>.d/</span><br><span class="line">touch qr.<span class="keyword">conf</span></span><br><span class="line"><span class="keyword">vim</span> qr.<span class="keyword">conf</span></span><br></pre></td></tr></table></figure><p>配置文件为</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[program:qr]</span></span><br><span class="line"><span class="attr">command</span>=dotnet QR.dll</span><br><span class="line"><span class="attr">directory</span>=/www/dotnet/qr</span><br><span class="line"><span class="attr">environment</span>=ASPNETCORE_URLS=<span class="string">'http://*:5001'</span></span><br><span class="line"><span class="attr">user</span>=www</span><br><span class="line"><span class="attr">stopsignal</span>=INT</span><br><span class="line"><span class="attr">autostart</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">autorestart</span>=<span class="literal">true</span></span><br><span class="line"><span class="attr">startsecs</span>=<span class="number">3</span></span><br><span class="line"><span class="attr">stderr_logfile</span>=/www/dotnet/log/qr.log</span><br><span class="line"><span class="attr">stdout_logfile</span>=/www/dotnet/log/qr.out.log</span><br></pre></td></tr></table></figure><p>一句一句解释</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[program:qr]</span>        <span class="comment">;项目名称</span></span><br><span class="line"><span class="attr">command</span>=dotnet QR.dll       ;需要执行的命令</span><br><span class="line"><span class="attr">directory</span>=/www/dotnet/qr        ;目录</span><br><span class="line"><span class="attr">environment</span>=ASPNETCORE_URLS=<span class="string">'http://*:5001'</span>     ;环境变量，用于设置端口</span><br><span class="line"><span class="attr">user</span>=www        ;执行命令的用户</span><br><span class="line"><span class="attr">stopsignal</span>=INT      </span><br><span class="line"><span class="attr">autostart</span>=<span class="literal">true</span>      ;会随着supervisor自动启动</span><br><span class="line"><span class="attr">autorestart</span>=<span class="literal">true</span>        ;程序exit的时候会自动重启</span><br><span class="line"><span class="attr">startsecs</span>=<span class="number">3</span>     ;程序启动前等待时间</span><br><span class="line"><span class="attr">stderr_logfile</span>=/www/dotnet/log/qr.log       ;错误日志</span><br><span class="line"><span class="attr">stdout_logfile</span>=/www/dotnet/log/qr.out.log       ;输出日志</span><br></pre></td></tr></table></figure><p>当然还有其他可选的配置项，具体怎么用可以去百度，我这里就不详细讲解了。</p><p>常用命令</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">supervisorctl status        <span class="comment">#查看子进程</span></span><br><span class="line">supervisorctl stop|<span class="string">start xxx</span>|<span class="string">all    #停止</span>|<span class="string">启动 指定</span>|<span class="string">所有 子进程</span></span><br></pre></td></tr></table></figure><h2 id="反向代理"><a class="markdownIt-Anchor" href="#反向代理"></a> 反向代理</h2><p>直接在宝塔面板里配置反向代理就好，地址就是<code>127.0.0.1:5001</code>（端口是你配置的环境变量里的端口）</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;上次说了怎么搭建本地调试环境（虽然最后也没有用WSL），这次简单介绍一下怎么创建一个 .net core程序并且在Linux系统上跑起来。&lt;/p&gt;
    
    </summary>
    
    
      <category term="C#" scheme="https://blog.xxwhite.com/tags/C/"/>
    
      <category term="炎黄幼儿园" scheme="https://blog.xxwhite.com/tags/%E7%82%8E%E9%BB%84%E5%B9%BC%E5%84%BF%E5%9B%AD/"/>
    
      <category term="dotnet" scheme="https://blog.xxwhite.com/tags/dotnet/"/>
    
  </entry>
  
  <entry>
    <title>WSL调试体验</title>
    <link href="https://blog.xxwhite.com/2018/wsl.html"/>
    <id>https://blog.xxwhite.com/2018/wsl.html</id>
    <published>2018-07-22T06:05:42.000Z</published>
    <updated>2018-12-21T14:20:14.115Z</updated>
    
    <content type="html"><![CDATA[<p>最近想要开发一个新项目，想顺便体验一下WSL，然后百度看了一下相关的东西，结合自己的实践，简单总结了一下。</p><a id="more"></a><h2 id="开启wsl"><a class="markdownIt-Anchor" href="#开启wsl"></a> 开启WSL</h2><p>首先需要Win10 1709级以上版本，电脑配置不能太差，最起码也要比我这个强吧（配置太差了跑起来体验也不咋样）<br>i5-3320M，12G ddr3内存（ddr3+ddr3l混装，这电脑兼容性真特么强），480G固态+500G机械。WSL跑在固态盘里。</p><p><img src="https://s1.ax2x.com/2018/07/22/whWAR.png" alt=""></p><p>开启WSL需要首先在<code>程序和功能</code>里开启<code>适用于Linux的Windows子系统</code>。<br><img src="https://s1.ax2x.com/2018/07/22/whGGY.png" alt=""></p><p>然后再去应用商店<code>Microsoft Store</code>里下载Linux子系统，就直接搜<code>Linux</code>就可以找到了。建议安装乌班图（Ubuntu）。<br>记住，安装一定要装在C盘上，别搞啥幺蛾子，自己忙活一通还挺累，体验还不咋样。</p><h2 id="基础配置"><a class="markdownIt-Anchor" href="#基础配置"></a> 基础配置</h2><h3 id="修改root密码"><a class="markdownIt-Anchor" href="#修改root密码"></a> 修改root密码</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo passwd root</span></span><br></pre></td></tr></table></figure><h3 id="开启ssh服务"><a class="markdownIt-Anchor" href="#开启ssh服务"></a> 开启SSH服务</h3><p>修改配置文件</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="regexp">/etc/</span>ssh<span class="regexp">/sshd_config</span></span><br></pre></td></tr></table></figure><p>允许root用户登陆和允许密码登陆</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">PermitRootLogin</span> <span class="literal">yes</span></span><br><span class="line"><span class="string">PasswordAuthentication</span> <span class="literal">yes</span></span><br></pre></td></tr></table></figure><p>重启ssh服务</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">service ssh restart</span></span><br></pre></td></tr></table></figure><p>如果遇到</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Could <span class="keyword">not</span> <span class="keyword">load</span> host <span class="built_in">key</span>: /etc/ssh/ssh_host_rsa_key</span><br><span class="line">Could <span class="keyword">not</span> <span class="keyword">load</span> host <span class="built_in">key</span>: /etc/ssh/ssh_host_ecdsa_key</span><br><span class="line">Could <span class="keyword">not</span> <span class="keyword">load</span> host <span class="built_in">key</span>: /etc/ssh/ssh_host_ed25519_key</span><br><span class="line"> * Restarting OpenBSD Secure <span class="built_in">Shell</span> server sshd</span><br><span class="line">Could <span class="keyword">not</span> <span class="keyword">load</span> host <span class="built_in">key</span>: /etc/ssh/ssh_host_rsa_key</span><br><span class="line">Could <span class="keyword">not</span> <span class="keyword">load</span> host <span class="built_in">key</span>: /etc/ssh/ssh_host_ecdsa_key</span><br><span class="line">Could <span class="keyword">not</span> <span class="keyword">load</span> host <span class="built_in">key</span>: /etc/ssh/ssh_host_ed25519_key</span><br></pre></td></tr></table></figure><p>就</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sudo</span> <span class="string">rm -r /etc/ssh/ssh*key</span></span><br><span class="line"><span class="attr">sudo</span> <span class="string">dpkg-reconfigure openssh-server</span></span><br></pre></td></tr></table></figure><p>配置好SSH之后用<a href="https://www.xxwhite.com/2018/FreeXshell6.html" target="_blank" rel="noopener">XShell6</a>连接。</p><p><img src="https://s1.ax2x.com/2018/07/22/whu8J.png" alt=""></p><h3 id="更新系统"><a class="markdownIt-Anchor" href="#更新系统"></a> 更新系统</h3><p>搞完这些，先升级一下系统</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="builtin-name">get</span> update</span><br><span class="line">apt-<span class="builtin-name">get</span> dist-upgrade</span><br></pre></td></tr></table></figure><h3 id="域名解析"><a class="markdownIt-Anchor" href="#域名解析"></a> 域名解析</h3><p>测试的时候，我们可能会使用到域名，这个时候可以直接修改<code>Hosts</code>。</p><p>也可以使用<code>Acrylic DNS Proxy</code>，我用的就是Acrylic DNS Proxy，具体怎么用可以百度，很简单的。</p><p>如果使用真域名的话。可以自己解析到127.0.01。</p><p>搞完了再给域名弄个自签证书。如果是闲置域名的话，完全可以搞一个真证书上去。</p><blockquote><p>PS: 我的做法是把一个真域名解析过去，然后还申请了一个真证书。</p></blockquote><h3 id="宝塔面板"><a class="markdownIt-Anchor" href="#宝塔面板"></a> 宝塔面板</h3><p>自用嘛，搞个宝塔面板还是挺舒服的，比自己配简单多了。</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O <span class="keyword">install</span>.sh http://download.bt.cn/<span class="keyword">install</span>/<span class="keyword">install</span>-ubuntu.sh &amp;&amp; sudo bash <span class="keyword">install</span>.sh</span><br></pre></td></tr></table></figure><h3 id="nginx"><a class="markdownIt-Anchor" href="#nginx"></a> Nginx</h3><p>直接在宝塔面板里解决就可以了，鼠标点两下就可以了。</p><h3 id="php和pm2"><a class="markdownIt-Anchor" href="#php和pm2"></a> PHP和PM2</h3><p>虽然不常用，但是偶尔会跑两个小程序，顺手装上。</p><h3 id="mysql"><a class="markdownIt-Anchor" href="#mysql"></a> MySQL</h3><p>这个就有点蛋疼了，竟然和Win里的MySQL冲突，貌似是只能选一个，只能先写在Win里的MySQL了。</p><p>以后Win用MySQL的时候还要开启WSL。</p><h2 id="写在后面的"><a class="markdownIt-Anchor" href="#写在后面的"></a> 写在后面的</h2><p>到这里基本上就可以正常用了，下一篇文章会介绍怎么跑一个<code>.net core</code>程序。</p><blockquote><p>PS 最后放弃了，还是用Hyper-v装了一个虚拟机，WSL这东西还是有点不太习惯。而且这东西性能是真的差，还是虚拟机比较爽。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近想要开发一个新项目，想顺便体验一下WSL，然后百度看了一下相关的东西，结合自己的实践，简单总结了一下。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
      <category term="炎黄幼儿园" scheme="https://blog.xxwhite.com/tags/%E7%82%8E%E9%BB%84%E5%B9%BC%E5%84%BF%E5%9B%AD/"/>
    
  </entry>
  
  <entry>
    <title>聊聊几种常见的图片格式</title>
    <link href="https://blog.xxwhite.com/2018/image-format.html"/>
    <id>https://blog.xxwhite.com/2018/image-format.html</id>
    <published>2018-07-13T15:27:44.000Z</published>
    <updated>2018-12-21T14:20:14.108Z</updated>
    
    <content type="html"><![CDATA[<p>简单的科普一下几种常见的图片格式，探讨一下有损压缩和无损压缩的问题。</p><a id="more"></a><p>本文内容都是胡说八道，请勿相信。</p><p>有关图片的基础知识就不说了，想知道的可以去百度。本文所说图片均指位图，矢量图不在考虑范围之内。</p><h2 id="bmp格式"><a class="markdownIt-Anchor" href="#bmp格式"></a> BMP格式</h2><p><strong>Bitmap</strong>的简称，会真实记录图像每个像素点的信息，基本无压缩，所以体积会非常非常的大，压缩比什么的，也都是较BMP格式比较的，这种格式现在是很少见到了，但是我最近做过一个二维码生成Demo，所以还是稍微了解过一下Bitmap的。</p><h2 id="jpeg格式"><a class="markdownIt-Anchor" href="#jpeg格式"></a> JPEG格式</h2><p>我们常见的<code>.jpg</code>和<code>.jpeg</code>后缀的图片就是这个格式的，这是一种有损压缩格式，压缩比率较大，所以这种格式也是目前最常用的。</p><h2 id="png格式"><a class="markdownIt-Anchor" href="#png格式"></a> PNG格式</h2><p>一种无损压缩格式，支持透明通道。我博客里大部分图片用的都是png格式的。另外，png其实也是支持动图的，也就是apng，但是大多数的浏览器是不支持apng的。</p><h2 id="gif格式"><a class="markdownIt-Anchor" href="#gif格式"></a> GIF格式</h2><p>个人来说，很讨厌使用的一种格式，画质很差，最多支持256色，体积超大，支持透明通道，有静态和动态两种。</p><h2 id="webp格式"><a class="markdownIt-Anchor" href="#webp格式"></a> webp格式</h2><p>谷歌自己搞的一种有损压缩格式，压缩比率超过jpeg，但是并不是所有的浏览器都支持。webp格式也是支持动图的。</p><h2 id="有损压缩和无损压缩"><a class="markdownIt-Anchor" href="#有损压缩和无损压缩"></a> 有损压缩和无损压缩</h2><p>什么是有损压缩？什么是无损压缩？</p><p>就我个人而言，有损压缩是，压缩之后不能完整复原的压缩方式，是不可逆的，而无损压缩，是解压可以完整恢复原样的压缩方式。</p><p>有损压缩会在压缩过程中丢失信息，而无损压缩不会。</p><h2 id="py一下"><a class="markdownIt-Anchor" href="#py一下"></a> PY一下</h2><p><img src="https://s1.ax2x.com/2018/07/14/q4v9K.png" alt="apng"> <img src="https://i.loli.net/2018/07/14/5b4972eddaaeb.gif" alt="gif"></p><p>如果你看到上面的图片都是会动的图片，那么你的浏览器是支持apng的，如果是静态图片，那么你的浏览器就是不支持apng的。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;简单的科普一下几种常见的图片格式，探讨一下有损压缩和无损压缩的问题。&lt;/p&gt;
    
    </summary>
    
    
      <category term="随便水水" scheme="https://blog.xxwhite.com/tags/%E9%9A%8F%E4%BE%BF%E6%B0%B4%E6%B0%B4/"/>
    
      <category term="涨姿势" scheme="https://blog.xxwhite.com/tags/%E6%B6%A8%E5%A7%BF%E5%8A%BF/"/>
    
  </entry>
  
  <entry>
    <title>OneIndex下载站搭建</title>
    <link href="https://blog.xxwhite.com/2018/using-oneindex.html"/>
    <id>https://blog.xxwhite.com/2018/using-oneindex.html</id>
    <published>2018-07-07T00:49:12.000Z</published>
    <updated>2018-12-21T14:20:14.113Z</updated>
    
    <content type="html"><![CDATA[<p>很早之前就有为自己博客搭建一个下载站的想法了，正好这几天不算太忙，就弄个OneIndex实施一下。</p><a id="more"></a><p>鉴于国内网盘纷纷倒下，蓝奏云也不太受待见，百度云限速严重，而且不装客户端还不给你下载，其他网盘分享文件都略微有些蛋疼，所以我就决定自己搭建一个下载站，用来分发博客里分享的文件。</p><p>更重要的一点，以后我发的视频有地方放了，不需要像以前那样，先发到视频网站，然后再用外部播放器。</p><h2 id="需求"><a class="markdownIt-Anchor" href="#需求"></a> 需求</h2><table><thead><tr><th style="text-align:left">需求</th><th style="text-align:left">备注</th></tr></thead><tbody><tr><td style="text-align:left">OneDrive</td><td style="text-align:left">必须</td></tr><tr><td style="text-align:left">主机空间</td><td style="text-align:left">必须；PHP 5.6+ 打开curl支持</td></tr><tr><td style="text-align:left">域名</td><td style="text-align:left">非必需</td></tr></tbody></table><h3 id="onedrive"><a class="markdownIt-Anchor" href="#onedrive"></a> OneDrive</h3><p>没有的朋友在这里注册一个<a href="https://onedrive.live.com?invref=6d31d88d0e039653&amp;invscr=90" target="_blank" rel="noopener">onedrive.live.com</a>，如果你不能正常注册的话，可以试试直接用Windows客户端注册，也可以直接用Windows的Microsoft 帐户登陆，反正具体要怎么弄，你们自己想办法吧，如果连这一步都搞不定的话，那么可以直接关掉这篇文章了。</p><h3 id="主机空间"><a class="markdownIt-Anchor" href="#主机空间"></a> 主机空间</h3><p>还是和以前一样，推荐使用vps，使用主机空间的话，应该也是可以的，但是并不推荐使用，VPS的话，我可以推荐两家，一家是我以前一直在用的搬瓦工，另一家是hiformance，这两家都支持支付宝收款，相对来说hiformance的优惠力度更大一点，但是性能什么的怎么样，那就要另说了。总之，你花多少钱买什么样的东西，心里应该要有点ACD数。</p><p>弄完了之后宝塔面板直接撸下来就行了，也不用自己配或者搞什么LNMP什么的，都是给自己找麻烦。</p><h3 id="域名"><a class="markdownIt-Anchor" href="#域名"></a> 域名</h3><p>域名不算非必需的，但是有一个最好，如果想长久用的话，建议花钱搞一个域名，便宜的一年也就几块钱十几块钱的。</p><h2 id="搭建过程"><a class="markdownIt-Anchor" href="#搭建过程"></a> 搭建过程</h2><h3 id="php"><a class="markdownIt-Anchor" href="#php"></a> PHP</h3><p>Nginx、PHP什么的我就不多说了，宝塔面板一梭子撸下来就行了。</p><h3 id="oneindex"><a class="markdownIt-Anchor" href="#oneindex"></a> OneIndex</h3><p>去<a href="https://github.com/donwa/oneindex" target="_blank" rel="noopener">GitHub</a>下载，并且解压，然后想办法传上去就可以了，至于权限什么的，保证cache和config有读写权限就可以了。不建议直接clone到vps里。</p><p>然后访问主机空间，按照提示去安装就可以了，一步一步走下去就行了。</p><h3 id="静态规则"><a class="markdownIt-Anchor" href="#静态规则"></a> 静态规则</h3><p>去掉问号使用</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line">    <span class="attribute">index</span> index.html index.php; </span><br><span class="line">    <span class="attribute">if</span> (-f <span class="variable">$request_filename</span>/index.html)&#123; </span><br><span class="line">        <span class="attribute">rewrite</span> (.*) <span class="variable">$1</span>/index.html <span class="literal">break</span>; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="attribute">if</span> (-f <span class="variable">$request_filename</span>/index.php)&#123; </span><br><span class="line">        <span class="attribute">rewrite</span> (.*) <span class="variable">$1</span>/index.php; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="attribute">if</span> (!-f <span class="variable">$request_filename</span>)&#123; </span><br><span class="line">        <span class="attribute">rewrite</span> (.*) /index.php; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="dplayer"><a class="markdownIt-Anchor" href="#dplayer"></a> Dplayer</h2><p>使用Dplayer的时候有可能会遇到跨域请求的问题，只需要在index.php内添加</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">header(<span class="string">"Access-Control-Allow-Origin: https://www.xxwhite.com"</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>就可以了。</p><p>例如<a href="https://www.xxwhite.com/2017/VideoTest.html" target="_blank" rel="noopener">测试视频</a></p><h2 id="速度测试"><a class="markdownIt-Anchor" href="#速度测试"></a> 速度测试</h2><p>目前我的域名还在备案过程中，根目录还不能访问，想测试速度的可以先用这个文件试一下</p><p><a href="https://dl.sm9.top/Video/2018/%E6%8E%98%E5%9C%B0%E6%B1%82%E5%8D%87_x264.mp4" target="_blank" rel="noopener">测速视频</a></p><h2 id="最后来个广告"><a class="markdownIt-Anchor" href="#最后来个广告"></a> 最后来个广告</h2><p>我现在打算订阅一年的Office365家庭版，想找几个人合作一下，80一位，满三位就发车，需要的请联系我，在下方留言或者使用左侧的联系方式都可以。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;很早之前就有为自己博客搭建一个下载站的想法了，正好这几天不算太忙，就弄个OneIndex实施一下。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
      <category term="涨姿势" scheme="https://blog.xxwhite.com/tags/%E6%B6%A8%E5%A7%BF%E5%8A%BF/"/>
    
  </entry>
  
  <entry>
    <title>破解一加五长截图限制</title>
    <link href="https://blog.xxwhite.com/2018/OP5LongShot.html"/>
    <id>https://blog.xxwhite.com/2018/OP5LongShot.html</id>
    <published>2018-06-19T08:26:58.000Z</published>
    <updated>2018-12-21T14:20:14.103Z</updated>
    
    <content type="html"><![CDATA[<p>这两天我的一加五重回OOS，自然免不了折腾一番，本着向大神学习的态度（主要是太久没折腾了，好多都不会了），折腾的东西很多都参考了大侠阿木的博客。</p><p>这一篇<a href="http://www.daxiaamu.com/4584/" target="_blank" rel="noopener">OPLongshot Screentshot pages hack to 10000（from 12）</a>文字介绍了怎么破解截图长度，但是很可惜已经过时了，不再适用于当前版本。包括<a href="http://www.daxiaamu.com/4656/" target="_blank" rel="noopener">Magisk包</a>也不能用了。于是我就自己对照当前版本，简单修改了一下教程，并且基于大侠阿木的Magisk包重新制作了Magisk包。</p><a id="more"></a><h2 id="工具"><a class="markdownIt-Anchor" href="#工具"></a> 工具</h2><p>工具很简单，MT管理器，这货真TM的强。</p><h2 id="步骤"><a class="markdownIt-Anchor" href="#步骤"></a> 步骤</h2><h3 id="提取文件"><a class="markdownIt-Anchor" href="#提取文件"></a> 提取文件</h3><p>提取 <code>/system/app/OPLongshot/OPLongshot.apk</code>，如果要制作Magisk模块的话，最好把oat文件夹也一起提取了。</p><h3 id="修改参数"><a class="markdownIt-Anchor" href="#修改参数"></a> 修改参数</h3><p>使用MT管理器打开<code>OPLongshot.apk</code>，然后打开<code>resources.arsc</code>，打开方式为<code>Arsc编辑器</code>。然后依次打开<code>com.oneplus.screenshot -&gt; integer -&gt; integer -&gt; max_pages</code>。</p><p>修改其值为120（感觉1000有点过分了，120就好，改成多少随意）。</p><p>然后右上角，保存并退出，然后点击确定就可以了。</p><p>虽然我改成了120，但是实测只能截到60多，再继续就会提示文件被占用，不知道是什么原因。</p><p><img src="https://s1.ax2x.com/2018/06/19/gAEVH.png" alt=""></p><h3 id="替换文件"><a class="markdownIt-Anchor" href="#替换文件"></a> 替换文件</h3><p>这里提供两个思路</p><ul><li>第一个是之间替换回去，然后修改权限，这种方法操作简单，但是升级就要重新搞；</li><li>第二个是制作成Magisk模块，这种方法，升级的话，兼容性应该也可以，但是操作稍微麻烦一点，看我后面的步骤；</li></ul><p>如果你的系统是OOS 5.1.2、OOS 5.1.3 OOS Beta16（以后会更新的），那你可以直接使用我的Magisk包。</p><p>如果不是，就请替换我Magisk包里的文件，最好再签一下名。改天有时间的话，我会写一份Magisk包制作的教程的。</p><p>签名的话，直接用JAVA签就可以，安装好JDK，并配置好环境变量</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">jarsigner</span> -verbose -keystore <span class="string">"密钥位置"</span> -signedjar <span class="string">"输出文件"</span> <span class="string">"输入文件"</span> <span class="string">'密钥别名'</span></span><br></pre></td></tr></table></figure><p>Magisk包下载地址：</p><p><a href="https://dl.sm9.top/blog/op5Longshot/" target="_blank" rel="noopener">https://dl.sm9.top/blog/op5Longshot/</a></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAEYCAYAAACHjumMAAASo0lEQVR4nO2aQZIkSwpD+/6X9ln0rMN/Qz4kIiSz2KWDJECbqj8nCIIAwh81gSAI3osETBAEGBIwQRBgSMAEQYAhARMEAYYETBAEGB4D5s+fP6/4Nmmk4MTnK3N246PY1wSMAb9/GVgVTny+Mmc3Pop9TcAY8PuXgVXhxOcrc3bjo9jXBIwBv38ZWBVOfL4yZzc+in1NwBjw+5eBVeHE5ytzduOj2NcEjAG/fxlYFU58vjJnNz6KfU3AGPD7l4FV4cTnK3N246PY13LAuIHgSumnhqnQUumnWnaCK9HTDQmYk4BRaan0S8B857YSMMM1b3UTMF7HnoBJwJxzEjAqLZV+CZjv3FYCZrjmrW4CxuvYEzAJmHNOAkalpdIvAfOd20rADNe81U3AeB17AsYwYBQL5HZATlxvmJ7Hm452ege23VYCpohNXG+YnkenbrUnhekd2HZbCZgiNnG9YXoenbrVnhSmd2DbbSVgitjE9YbpeXTqVntSmN6BbbeVgCliE9cbpufRqVvtSWF6B7bdVgKmiE1cb5ieR6dutSeF6R3YdlsJmCI2cb1heh6dutWeFKZ3YNttfT5gKI1VbOKj4Oqk0XHOTrd1TgJGciRv4aPg6qTRcc5Ot3VOAkZyJG/ho+DqpNFxzk63dU4CRnIkb+Gj4Oqk0XHOTrd1TgJGciRv4aPg6qTRcc5Ot3VOAkZyJG/ho+DqpNFxzk63dU4CRnIkb+Gj4Oqk0XHOTrd1TgLmNXA7BIqr206+RQfB9ZwEzGvQ8a5aV8HVbSffooPgek4C5jXoeFetq+DqtpNv0UFwPScB8xp0vKvWVXB128m36CC4npOAeQ063lXrKri67eRbdBBcz0nAvAYd76p1FVzddvItOgiu5yRgXoOOd9W6Cq5uO/kWHQTXcxIwr0HHu2pdBVe3nXyLDoLrOVDAKLDluG51qcWb5kP0UxyQ49FOIwFzEjAJmAQMhQTMScAkYBIwFBIwJwGTgEnAUEjAnARMAiYBQyEBcxIwCZgEDIUEzEnAJGASMBQkAbPpI8xz63lDuNbeqXpu+W5IwLxkKW8I19o7Vc8t3w0JmJcs5Q3hWnun6rnluyEB85KlvCFca+9UPbd8NyRgXrKUN4Rr7Z2q55bvhgTMS5byhnCtvVP13PLdkIB5yVLeEK61d6qeW74b/P7oboRNR9KBoudbEO+eERcekIDJetwQ754RFx6QgMl63BDvnhEXHpCAyXrcEO+eERcekIDJetwQ754RFx6QgMl63BDvnhEXHpCAyXrcEO+egbhAHFfnI7i6oeMB1ZOYV5UPpVPBZ7pnp2YCJgGD9UzAJGASMAkYrGcCJgGTgEnAYD0TMAmYBEwCBuuZgEnAJGASMFjPBEwCJgGTgMF6JmASMI+/oBZoS4i0jB3WQR0txWd6ByidxLtqTXJ/yncwTUixXIoFmdbRXYQK1DOf0HjTSbyr1iT3p3wH04QUy6VYkGkd3UWoQD3zCY03ncS7ak1yf8p3ME1IsVyKBZnW0V2ECtQzn9B400m8q9Yk96d8B9OEFMulWJBpHd1FqEA98wmNN53Eu2pNcn/KdzBNSLFcigWZ1tFdhArUM5/QeNNJvKvWJPenfAfThBTLpViQaR3dRahAPfMJjTedxLtqTXJ/yndACXX6qjoo/W7Y5J3iSAhQfKZncuVDCHH7qjoo/W7Y5N30flCg+EzP5MqHEOL2VXVQ+t2wybvp/aBA8ZmeyZUPIcTtq+qg9Lthk3fT+0GB4jM9kysfQojbV9VB6XfDJu+m94MCxWd6Jlc+hBC3r6qD0u+GTd5N7wcFis/0TK58CCFuX1UHpd8Nm7yb3g8KFJ/pmVz5EELcvqoOSr8bNnk3vR8UKD7TM7nymW66aUkUS7DpEBQ6qP2Z3nVKP4FOvwRMkStVd1ojxdXNO8XeER5su4METJErVXdaI8XVzTvF3hEebLuDBEyRK1V3WiPF1c07xd4RHmy7gwRMkStVd1ojxdXNO8XeER5su4METJErVXdaI8XVzTvF3hEebLuDBEyRK1V3WiPF1c07xd4RHmy7A+T/YCi8YUEUOihs4rNplq2Ddtv18sMEzBodFDbx2TTLBAxIqNozATOPTXw2zTIBAxKq9kzAzGMTn02zTMCAhKo9EzDz2MRn0ywTMCChas8EzDw28dk0ywQMSKjaMwEzj018Ns3yMwEzvUCKA1MtwjRXJz6dum6wO2hgJq1ZUoUrSMBwXJ34dOq6IQFz4UMVriABw3F14tOp64YEzIUPVbiCBAzH1YlPp64bEjAXPlThChIwHFcnPp26bkjAXPhQhStIwHBcnfh06rohAXPhQxWuIAHDcXXi06nrhgTMhU9LTYEQdSRUz+lFn9ah0Om2Awot1ZoKrh0+CRijw1PoUOh02wGFlmpNBdcOnwSM0eEpdCh0uu2AQku1poJrh08CxujwFDoUOt12QKGlWlPBtcMnAWN0eAodCp1uO6DQUq2p4Nrhk4AxOjyFDoVOtx1QaKnWVHDt8EnAGB2eQodCp9sOKLRUayq4dviU/w9m07K7cXWqSS37V+bstjvT3l3rEk0VxrvpIPhQGqt1FXyonk5fR+O0d9e6RFOF8W46CD6UxmpdBR+qp9PX0Tjt3bUu0VRhvJsOgg+lsVpXwYfq6fR1NE57d61LNFUY76aD4ENprNZV8KF6On0djdPeXesSTRXGu+kg+FAaq3UVfKieTl9H47R317pEU4XxbjoIPpTGal0FH6qn09fROO3dtS7RVGG8mw6CD6WxWlfBh+rp9HU0Tnt3rVttSpB1HFjZWDMdVWzaAUKHwoMOFP481p0mu2nxqKVU6Khi0w4QOhQedKDw57HuNNlNi0ctpUJHFZt2gNCh8KADhT+PdafJblo8aikVOqrYtAOEDoUHHSj8eaw7TXbT4lFLqdBRxaYdIHQoPOhA4c9j3WmymxaPWkqFjio27QChQ+FBBwp/HutOk920eNRSKnRUsWkHCB0KDzpQ+PNYt9qUIkRgeplvPae5dmZC8SF0KHZyes7r+CiaTkNxsNODpmZC8SF0KHbS7qDd+CiaTkNxsNODpmZC8SF0KHbS7qDd+CiaTkNxsNODpmZC8SF0KHbS7qDd+CiaTkNxsNODpmZC8SF0KHbS7qDd+CiaTkNxsNODpmZC8SF0KHbS7qDd+CiaTkNxsNODpmZC8SF0KHbS7qDd+Fx/MYhNx0VpIbi6edfp6aSxA2pe075edf7KsF9g05FQWgiubt4pDoHQ2AE1r2lfrzp/ZdgvsOlIKC0EVzfvFIdAaOyAmte0r1edvzLsF9h0JJQWgqubd4pDIDR2QM1r2terzl8Z9gtsOhJKC8HVzTvFIRAaO6DmNe3rVeevDPsFNh0JpYXg6uad4hAIjR1Q85r29arzV4b9ApuOhNJCcHXzTnEIhMYOqHlN+3rV+SvD/is2LbtCBzboFywztQMdxJ9L3dbrSkMz89yWgPKmw9dFo+UBxZ/nuq3XlYZm5rktAeVNh6+LRssDij/PdVuvKw3NzHNbAsqbDl8XjZYHFH+e67ZeVxqamee2BJQ3Hb4uGi0PKP481229rjQ0M89tCShvOnxdNFoeUPx5rtt6XWloZp7bElDedPi6aLQ8oPjzXLfadFqkYtk7XAm4HXy1JqXzLXym94rkk4CBFoSAwoNpX8Nnfq9IPgkYaEEIKDyY9jV85veK5JOAgRaEgMKDaV/DZ36vSD4JGGhBCCg8mPY1fOb3iuSTgIEWhIDCg2lfw2d+r0g+CRhoQQgoPJj2NXzm94rkUw6Y6Xcq46uY5qo6PgIEny9opPgkYBIwCRhBzQ428UnAJGASMIKaHWzik4BJwCRgBDU72MQnAZOAScAIanawiU8CJgGTgBHU7GATnwRMAiYBI6jZwSY+CZgETAJGULODTXywgCHIVt9R4YMZC2l5C58qFDtQfTv9zvIOrr8oQGGenbGQlrfwqUKxA9W30+8s7+D6iwIU5tkZC2l5C58qFDtQfTv9zvIOrr8oQGGenbGQlrfwqUKxA9W30+8s7+D6iwIU5tkZC2l5C58qFDtQfTv9zvIOrr8oQGGenbGQlrfwqUKxA9W30+8s7+D6iwIU5tkZC2l5C58qFDtQfTv9zvIOFE1/3Y8cStnYYR0UpneA4kPO2gluu5WAScCM61DwScAkYBIwCRiMTwImAZOAScBgfBIwCZgETAIG45OAScAkYBIwGJ8ETAImAZOAwfgkYAwDplx00eIRNR0XfbrnpoNVzIvaSTckYICaCZgETALmLxIwQM0ETAImAfMXCRigZgImAZOA+YsEDFAzAZOAScD8RQIGqJmAScAkYP4iAQPUTMAkYBIwfzEeMG7DdOPjhmlvOj2ndXR1VrhSwGbpRFZx0G583KA4vC/sQJUrBWyWTmQVB+3Gxw2Kw/vCDlS5UsBm6URWcdBufNygOLwv7ECVKwVslk5kFQftxscNisP7wg5UuVLAZulEVnHQbnzcoDi8L+xAlSsFbJZOZBUH7cbHDYrD+8IOVLlSwGZZbUoI6WB6KG9avGmuCu86ILgq9CvmkYAB+iVgEjAJmP/3rBIiRHaQgGG0EDUTMAmYKyFCZAcJGEYLUTMBk4C5EiJEdpCAYbQQNRMwCZgrIUJkBwkYRgtRMwGTgLkSIkR2kIBhtBA1EzAJmCshQmQHCRhGC1EzAZOAaZEl3lE9qZqUB7/W6Hjs0/OiuE6/s/Sn/FAgZHoonZqUB7/WSC1sB6sOaJgPNS/Mn/JDgZDpoXRqUh78WiO1sB2sOqBhPtS8MH/KDwVCpofSqUl58GuN1MJ2sOqAhvlQ88L8KT8UCJkeSqcm5cGvNVIL28GqAxrmQ80L86f8UCBkeiidmpQHv9ZILWwHqw5omA81L8yf8kOBkOmhdGpSHvxaI7WwHaw6oGE+1LwwfxRNK/1I44l+BNe3gNJJ+UrsFvUR3nWQgIH6EVzfAsWRdPqpQ2NiR6i9S8BA/Qiub4HiSDr91KExsSPU3iVgoH4E17dAcSSdfurQmNgRau8SMFA/gutboDiSTj91aEzsCLV3CRioH8H1LVAcSaefOjQmdoTauwQM1I/g+hYojqTTTx0aEztC7d17trYIt0EruBIaqYMm/KF8J6AImJZ3ZUYvQQImAUP5TiABswwJmAQM5TuBBMwyJGASMJTvBBIwy5CAScBQvhNIwCxDAiYBQ/lOIAGzDAmYBAzlO4FXBYx6gScOoaqfervJH0rHJj5O79y4npOA4YyFFsjJH0rHJj5O79y4npOA4YyFFsjJH0rHJj5O79y4npOA4YyFFsjJH0rHJj5O79y4npOA4YyFFsjJH0rHJj5O79y4npOA4YyFFsjJH0rHJj5O79y4npOA4YyFFsjJH0rHJj5O79y4ntMIGDfkoJmeih3YpCNzvtRVNCWQgNm1eNM9EzD1ui2+iqYEEjC7Fm+6ZwKmXrfFV9GUQAJm1+JN90zA1Ou2+CqaEkjA7Fq86Z4JmHrdFl9FUwIJmF2LN90zAVOv2+KraEogAbNr8aZ7JmDqdVt8iaaKw3R6l4+bMzGTDtRe/Uon5g/RdJNBbhrzJWAUvmL+EE03GeSmMV8CRuEr5g/RdJNBbhrzJWAUvmL+EE03GeSmMV8CRuEr5g/RdJNBbhrzJWAUvmL+EE03GeSmMV8CRuEr5g/RdJNBbhrzJWAUvmL+EE3fZBABxSFs4kNwdfOV0kjVrXqXgBFg0yG4+ZqAScAkYC7YdAhuviZgEjAJmAs2HYKbrwmYBEwC5oJNh+DmawImAZOAuWDTIbj5moBJwCRgLth0CG6+JmASMKsChuI6/d0Qz+e92+QPMedzEjDy5Z7wpqPzC55T3m3yh5jzOQkY+XJPeNPR+QXPKe82+UPM+ZwEjHy5J7zp6PyC55R3m/wh5nxOAka+3BPedHR+wXPKu03+EHM+JwEjX+4Jbzo6v+A55d0mf4g5n5OAkS/3hDcdnV/wnPJukz/EnM+BAkYBgiulX+HrqqVcdJjTs3Sc12NdRVMCCZh6T7eFTcAwGqt1W3wVTQkkYOo93RY2AcNorNZt8VU0JZCAqfd0W9gEDKOxWrfFV9GUQAKm3tNtYRMwjMZq3RZfRVMCCZh6T7eFTcAwGqt1W3wVTQkkYOo93RY2AcNorNZt8aXEOH1uUCzBJn+e4OYdwUcxZ4wP0dTtc4PbkWyCm3d2B+3Gh2jq9rnB7Ug2wc07u4N240M0dfvc4HYkm+Dmnd1Bu/Ehmrp9bnA7kk1w887uoN34EE3dPje4HckmuHlnd9BufIimbp8b3I5kE9y8sztoNz7XXwRBEBSRgAmCAEMCJggCDAmYIAgwJGCCIMCQgAmCAEMCJggCDAmYIAgw/A9bOoQGpCoYXQAAAABJRU5ErkJggg==" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这两天我的一加五重回OOS，自然免不了折腾一番，本着向大神学习的态度（主要是太久没折腾了，好多都不会了），折腾的东西很多都参考了大侠阿木的博客。&lt;/p&gt;
&lt;p&gt;这一篇&lt;a href=&quot;http://www.daxiaamu.com/4584/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;OPLongshot Screentshot pages hack to 10000（from 12）&lt;/a&gt;文字介绍了怎么破解截图长度，但是很可惜已经过时了，不再适用于当前版本。包括&lt;a href=&quot;http://www.daxiaamu.com/4656/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Magisk包&lt;/a&gt;也不能用了。于是我就自己对照当前版本，简单修改了一下教程，并且基于大侠阿木的Magisk包重新制作了Magisk包。&lt;/p&gt;
    
    </summary>
    
    
      <category term="搞机" scheme="https://blog.xxwhite.com/tags/%E6%90%9E%E6%9C%BA/"/>
    
      <category term="炎黄幼儿园" scheme="https://blog.xxwhite.com/tags/%E7%82%8E%E9%BB%84%E5%B9%BC%E5%84%BF%E5%9B%AD/"/>
    
  </entry>
  
  <entry>
    <title>免费家庭版Xshell6下载</title>
    <link href="https://blog.xxwhite.com/2018/FreeXshell6.html"/>
    <id>https://blog.xxwhite.com/2018/FreeXshell6.html</id>
    <published>2018-06-18T06:05:55.000Z</published>
    <updated>2018-12-21T14:20:14.101Z</updated>
    
    <content type="html"><![CDATA[<p>Xshell一直是很多人喜欢的一款ssh连接工具，而且官方对家庭版和教育版，一直都是免费的。但是由于某些特殊的原因，很多人下载不到免费的Xshell。今天我来教一下官网应该怎么用。</p><a id="more"></a><h2 id="填写信息"><a class="markdownIt-Anchor" href="#填写信息"></a> 填写信息</h2><p>首先打开官网，<a href="https://www.netsarang.com/" target="_blank" rel="noopener">https://www.netsarang.com</a>，看 <code>download</code> 下有个 <code>Free License</code>。就是在这里下载，或者是直接进下载页面也可以，许可证要选择家庭和教育版。</p><p><img src="https://s1.ax2x.com/2018/06/18/gKZPG.png" alt=""></p><p>然后自己找到下载页面，填写信息，注意要选择家庭和教育用户。</p><p><img src="https://s1.ax2x.com/2018/06/18/gKh8n.png" alt=""></p><p><img src="https://s1.ax2x.com/2018/06/18/gKP4Q.png" alt=""></p><p>然后去自己的邮箱查看邮件，然后点击链接下载就可以了，注意一下，邮件可能会被某些黑名单规则屏蔽。</p><h2 id="使用测试"><a class="markdownIt-Anchor" href="#使用测试"></a> 使用测试</h2><p>最后放一张使用测试的图片好了</p><p><img src="https://s1.ax2x.com/2018/06/18/gKyHE.png" alt=""></p><p>大家看看就好，其实有很多更简单的办法去下载，但是官网下载始终是最靠谱的方法。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Xshell一直是很多人喜欢的一款ssh连接工具，而且官方对家庭版和教育版，一直都是免费的。但是由于某些特殊的原因，很多人下载不到免费的Xshell。今天我来教一下官网应该怎么用。&lt;/p&gt;
    
    </summary>
    
    
      <category term="涨姿势" scheme="https://blog.xxwhite.com/tags/%E6%B6%A8%E5%A7%BF%E5%8A%BF/"/>
    
      <category term="软件" scheme="https://blog.xxwhite.com/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>毕业了，顺便立个Flag</title>
    <link href="https://blog.xxwhite.com/2018/graduation-and-flag.html"/>
    <id>https://blog.xxwhite.com/2018/graduation-and-flag.html</id>
    <published>2018-05-25T12:49:49.000Z</published>
    <updated>2018-12-21T14:20:14.107Z</updated>
    
    <content type="html"><![CDATA[<p>马上就要毕业了，最近经常被毕业论文烦的睡不着觉。思来想去，今天抽出来一点时间更新一下博客吧。</p><a id="more"></a>    <div id="aplayer-iOannsbm" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="0008yfgO0dmovi" data-server="tencent" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"></div><p>大学这四年吧，感觉白过了，学也没学好，玩也没玩好。</p><p>现在已经是两只脚都要迈出校门的人了。最近一直在忙，等忙过这阵，有时间了就来做点自己喜欢的事吧。</p><p>在这立个flag，等毕设做完了，先把评论系统提醒功能完善一下，如果可以的话，就做成一个平台。</p><p>然后，还要做一款自己的音乐播放器。对，自用的，我对现有的都不是很满意。</p><p>如果可能的话，再做一款自用的下载器，如果做不出来就算了。</p><p>以上目标预期三到五年内完成。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;马上就要毕业了，最近经常被毕业论文烦的睡不着觉。思来想去，今天抽出来一点时间更新一下博客吧。&lt;/p&gt;
    
    </summary>
    
    
      <category term="随便水水" scheme="https://blog.xxwhite.com/tags/%E9%9A%8F%E4%BE%BF%E6%B0%B4%E6%B0%B4/"/>
    
  </entry>
  
  <entry>
    <title>香橙派初体验</title>
    <link href="https://blog.xxwhite.com/2018/orangepi.html"/>
    <id>https://blog.xxwhite.com/2018/orangepi.html</id>
    <published>2018-03-25T07:17:46.000Z</published>
    <updated>2018-12-21T14:20:14.109Z</updated>
    
    <content type="html"><![CDATA[<p>最近一直想折腾一下，于是就在某宝买了一个香橙派回来，这个东西可真够坑的，不推荐去买。</p><a id="more"></a><h2 id="orange-pi-lite-2介绍"><a class="markdownIt-Anchor" href="#orange-pi-lite-2介绍"></a> Orange Pi Lite 2介绍</h2><p>这个东西介绍自己去<a href="http://www.orangepi.cn/Orange%20Pi%20Lite%202/index_cn.html" target="_blank" rel="noopener">官网</a></p><p>反正这东西很坑爹就是了，到写这篇文章为止我还没有正常用上。</p><h2 id="烧录系统"><a class="markdownIt-Anchor" href="#烧录系统"></a> 烧录系统</h2><p>安装官网给的步骤一步一步来就好，格式化SD卡，然后直接烧就行了，这里没啥说的。</p><p><img src="https://s1.ax2x.com/2018/03/25/KRsh6.png" alt=""></p><h2 id="扩容"><a class="markdownIt-Anchor" href="#扩容"></a> 扩容</h2><p>如果把烧录完的系统直接装上用的话，容量会非常的小，我们需要先将系统扩容。</p><p><img src="https://s1.ax2x.com/2018/03/26/1dN9h.png" alt=""><br><img src="https://s1.ax2x.com/2018/03/26/1d6IS.png" alt=""></p><h2 id="连接"><a class="markdownIt-Anchor" href="#连接"></a> 连接</h2><p>这里就稍微有点麻烦了，我一开始是打算用HDMI转VGA线，将HDMI信号转成VGA信号，但是不知道什么原因，转过去就是不能显示，于是只能再另想办法了。</p><p>后来又在某宝买了一个USB转TTL线，CH340g，有了小板应该能用了吧。</p><p>先是安装驱动，然后修改参数<br><img src="https://s1.ax2x.com/2018/03/26/1d8nu.png" alt=""></p><p>连接我用的是比较熟悉的XShell6<br><img src="https://s1.ax2x.com/2018/03/26/1dicA.png" alt=""> <img src="https://s1.ax2x.com/2018/03/26/1dfW9.png" alt=""></p><p>接线方式是这样的</p><table><thead><tr><th style="text-align:center">Orange Pi</th><th style="text-align:center">小板</th></tr></thead><tbody><tr><td style="text-align:center">GND</td><td style="text-align:center">GND</td></tr><tr><td style="text-align:center">RX</td><td style="text-align:center">TXD</td></tr><tr><td style="text-align:center">TX</td><td style="text-align:center">RXD</td></tr></tbody></table><p><img src="https://s1.ax2x.com/2018/03/26/1ZaeB.jpg" alt=""></p><p>把上面的都弄好了，然后连接好了，不出意外通电会自动开机的，这个时候直接连接就行了（别等到已经开机了再去连，那个时候是连不上的，就要强制关机再来一次了）<br><img src="https://s1.ax2x.com/2018/03/26/1jbkz.png" alt=""></p><p>开机之后登陆，账号root，密码orangepi，然后修改密码</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">passwd</span></span><br></pre></td></tr></table></figure><p>接下来连接Wi-Fi</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/network/<span class="built_in">int</span>erfaces</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax2x.com/2018/03/26/1jOha.png" alt=""></p><p>然后重启网卡或者直接重启系统，登陆校园网（有些人整天说Linux登陆不方便，看看，瞬间打脸）</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --post-data <span class="string">'DDDDD=02学号@zndx&amp;upass=密码&amp;0MKKey= +Login'</span> <span class="string">http:</span><span class="comment">//119.39.119.2/</span></span><br></pre></td></tr></table></figure><p>由于是学校的路由器，限制贼多，有的时候用局域网还连不上，所以我又搞了一个内网穿透。</p><h2 id="体验"><a class="markdownIt-Anchor" href="#体验"></a> 体验</h2><p>搞完前面的这些就可以愉快的玩耍了。具体体验怎么样，我下次再来说吧，到现在还没摸索透呢。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近一直想折腾一下，于是就在某宝买了一个香橙派回来，这个东西可真够坑的，不推荐去买。&lt;/p&gt;
    
    </summary>
    
    
      <category term="随便水水" scheme="https://blog.xxwhite.com/tags/%E9%9A%8F%E4%BE%BF%E6%B0%B4%E6%B0%B4/"/>
    
      <category term="香橙派" scheme="https://blog.xxwhite.com/tags/%E9%A6%99%E6%A9%99%E6%B4%BE/"/>
    
  </entry>
  
  <entry>
    <title>Fusion App非官方介绍（上）</title>
    <link href="https://blog.xxwhite.com/2018/FusionApp1.html"/>
    <id>https://blog.xxwhite.com/2018/FusionApp1.html</id>
    <published>2018-03-20T03:16:10.000Z</published>
    <updated>2018-12-21T14:20:14.102Z</updated>
    
    <content type="html"><![CDATA[<p>最近在酷安发现一个神器——Fusion App，今天就来简单介绍一下这个小东西怎么用。</p><a id="more"></a><p>作者自己的介绍：</p><blockquote><p>FusionApp是一款新概念&quot;网页转应用&quot;的应用。<br>它可以将网页翻新改造，获得优异至近乎的客户端的体验。它会让你爱上调教网页的感觉。<br>【概念】<br>它提倡将网页中的组件元素删除，并使用安卓原生组件替代，以此获得良好的交互体验并让整个网页焕然一新，就像真的客户端一样。<br>相比于一个木函中的&quot;网页转应用&quot;，此物可谓是比之强千百倍。<br>FusionApp提出UI模板制，您可对照需要转应用的网页，选取合适的UI模板，进行定制。<br>【灵活动态，简单易用】<br>FusionApp的UI模板的组件可自由装卸与定制，这使它可以与网页内容充分融合。它可自由的定制应用元素的点击事件，和方方面面的东西，且配置起来也非常简单，任何人都能轻松上手。<br>【免费无广】<br>即使本应用在将来的日子里会独占市场，且消耗了作者许多心血。<br>本人也不会向酷友收取任何费用以及添加广告，但请注意，本应用虽然用起来较为简单，但是也需要经过一番摸索才能上手哦。<br>【一条龙服务】<br>为了方便起见与降低门槛，FusionApp资瓷了如下辅助功能:<br>1.图标仓库<br>内含一千多矢量的质感图标与扁平图标，它可解决您在配置应用UI时需要用到图标的需求。<br>2.图标设计器<br>它可为你设计美观大方的应用图标，且也可方便的从图标仓库中选取素材。<br>3.自动生成包名<br>它可根据你填写的应用名称自动生成包名。<br>4.应用配色参考<br>欢迎加入官方群交流:165419162<br>特别感谢:pdc为fusion app做的美工工作(启动图宣传图与图标)。</p></blockquote><p>大概的意思就是这个东西可以把网页转成应用，并且可以做一些自定义的设置，下载的话请自行到酷安搜索下载。</p><div id="dplayer1" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer1"),"loop":true,"screenshot":true,"video":{"url":"https://dl.sm9.top/Video/2018/FusionApp.mp4"},"danmaku":{"api":"https://api.prprpr.me/dplayer/","addition":["https://api.prprpr.me/dplayer/v3/bilibili?aid=21014286"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <p>视频链接：<a href="https://www.bilibili.com/video/av21014286/" target="_blank" rel="noopener">https://www.bilibili.com/video/av21014286/</a></p><h2 id="基本规则"><a class="markdownIt-Anchor" href="#基本规则"></a> 基本规则</h2><p>使用之前请看一下帮助文档以及作品演示</p><h2 id="演示"><a class="markdownIt-Anchor" href="#演示"></a> 演示</h2><p>我将以侧栏版淘宝演示一下基本使用规则</p><h3 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h3><ul><li>启动网页 也就是你要打开的网页，<a href="https://h5.m.taobao.com" target="_blank" rel="noopener">https://h5.m.taobao.com</a></li><li>网页控制 这一部分难点在于如何确定元素的类名（class）</li></ul><p><img src="https://s1.ax2x.com/2018/03/20/UJ4BO.png" alt=""></p><h3 id="获取元素类名"><a class="markdownIt-Anchor" href="#获取元素类名"></a> 获取元素类名</h3><p>我推荐在电脑是使用Chrome帮助分析网页结构，手机上一直没找到合适的工具。</p><p><img src="https://s1.ax2x.com/2018/03/20/UJa2Y.gif" alt=""></p><p>我们一层一层的分析，找到需要去除的元素，然后将类名填入就可以了。</p><p>或者是直接在你需要查看的元素上右键点击“检查”。</p><p><img src="https://s1.ax2x.com/2018/03/20/UZVYY.png" alt=""></p><p>将鼠标放到右侧区域里，左侧相应的元素会有高亮提示，这样很快就能找到我们需要的元素，同时，还可以很清晰的看到网页的结构。</p><p><img src="https://s1.ax2x.com/2018/03/20/UJrzi.png" alt=""></p><p>我们只需要将class填入“删除元素”就可以了，有多个元素，class之间用<code>,</code>分隔。</p><h3 id="组件"><a class="markdownIt-Anchor" href="#组件"></a> 组件</h3><p>这里就说一下项目栏目这里</p><p><code>设置点击事件</code>里面有一些内置动作代码，基本上已经够大部分人使用了。</p><p>具体怎么获取“点击事件”，笨方法就是你点一下那个按钮，看他跳到那个页面，直接复制这个页面地址就可以了。</p><p>正确的方法应该是像我一样，找到点击事件所对应的JS，然后到JS里去分析（吐槽一下淘宝，做的好混乱，看得我头疼）<br><img src="https://s1.ax2x.com/2018/03/20/UJElX.png" alt=""></p><h3 id="属性"><a class="markdownIt-Anchor" href="#属性"></a> 属性</h3><p>这里基本都是一些所见即所得的东西，没啥要说的</p><h3 id="js注入和lua编写事件"><a class="markdownIt-Anchor" href="#js注入和lua编写事件"></a> JS注入和Lua编写事件</h3><p>貌似在这个App里JS并不是无所不能的，高级一点的东西都需要Lua才能实现，但是Lua我也不懂，等我看完了再说怎么做吧。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近在酷安发现一个神器——Fusion App，今天就来简单介绍一下这个小东西怎么用。&lt;/p&gt;
    
    </summary>
    
    
      <category term="搞机" scheme="https://blog.xxwhite.com/tags/%E6%90%9E%E6%9C%BA/"/>
    
      <category term="炎黄幼儿园" scheme="https://blog.xxwhite.com/tags/%E7%82%8E%E9%BB%84%E5%B9%BC%E5%84%BF%E5%9B%AD/"/>
    
  </entry>
  
  <entry>
    <title>推荐几个不错的小工具</title>
    <link href="https://blog.xxwhite.com/2018/recommended-tools.html"/>
    <id>https://blog.xxwhite.com/2018/recommended-tools.html</id>
    <published>2018-03-04T12:38:22.000Z</published>
    <updated>2018-12-21T14:20:14.110Z</updated>
    
    <content type="html"><![CDATA[<p>推荐几个不错的小工具，反正本人用着感觉不错。</p><a id="more"></a><h2 id="翻译软件"><a class="markdownIt-Anchor" href="#翻译软件"></a> 翻译软件</h2><p>首先推荐几个翻译软件，首先是桌面端的。</p><h3 id="qtranslate"><a class="markdownIt-Anchor" href="#qtranslate"></a> QTranslate</h3><p><a href="https://quest-app.appspot.com/home" target="_blank" rel="noopener">https://quest-app.appspot.com/home</a></p><p>个人用起来体验最好的翻译软件，不流氓，不瞎乱弹窗，支持多种语言，支持多种翻译服务（谷歌，必应，有道，百度，Yandex还有一些忘了是啥了），最主要的是还支持OCR功能，这个简直是太强大了，翻译论文什么的很方便。</p><p>特别说明一下，日常使用需要在<code>选项</code>里将谷歌域名改成cn，OCR功能需要自己申请一个key，就是填个邮箱，然后用邮箱验证一下就可以了，整个过程不超过两分钟。</p><p>还有快捷键也需要好好设置一下。才能达到最高的效率，默认快捷键双击<code>Ctrl</code>和Listary的快捷键是冲突的。</p><p><img src="https://s1.ax2x.com/2018/03/04/rmSUH.gif" alt=""></p><p><img src="https://s1.ax2x.com/2018/03/04/rmfgN.gif" alt=""></p><h3 id="谷歌翻译fooview"><a class="markdownIt-Anchor" href="#谷歌翻译fooview"></a> 谷歌翻译+fooView</h3><p>安卓手机上的翻译神器组合，如果要再加一个的话，那就把Chrome加上吧，网页全文翻译还是加上Chrome最好用。</p><p>翻译是Google翻译最好用，fooView可以用来取词和OCR，放个视频简单介绍一下</p><div id="dplayer4" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer4"),"loop":true,"screenshot":true,"video":{"url":"https://dl.sm9.top/Video/2018/%E6%8E%A8%E8%8D%90%E5%B0%8F%E5%B7%A5%E5%85%B7.mp4"},"danmaku":{"id":"3794E7DE856BF55BD6EA05A8A0694B86","api":"https://api.prprpr.me/dplayer/"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script> <h2 id="截屏软件"><a class="markdownIt-Anchor" href="#截屏软件"></a> 截屏软件</h2><h3 id="snipaste"><a class="markdownIt-Anchor" href="#snipaste"></a> Snipaste</h3><p>桌面软件，最大的特点是截图+贴图，很好用的一个生产力工具，虽然功能不多，但是很专一功能很强，非常推荐。</p><h3 id="ashampoo-snap"><a class="markdownIt-Anchor" href="#ashampoo-snap"></a> Ashampoo Snap</h3><p>桌面软件，截图很漂亮，而且功能也很强大。注意，这货不是免费软件。</p><h3 id="qq截图"><a class="markdownIt-Anchor" href="#qq截图"></a> QQ截图</h3><p>有单文件提取版，很方便的软件，也是用的最多的截图软件。</p><h3 id="screentogif"><a class="markdownIt-Anchor" href="#screentogif"></a> ScreenToGif</h3><p>桌面软件，用于录制GIF图片，支持多种编码，清晰度很高，压缩率也不错，支持视频转GIF，支持GIF编辑，支持先编辑后保存。我博客里的GIF图片基本都是用这货录制的。</p><h3 id="fooview"><a class="markdownIt-Anchor" href="#fooview"></a> fooView</h3><p>安卓软件，截图仅仅是一部分功能，功能强大，最主要是支持OCR，这个很方便。</p><h3 id="screenshot-hookbox"><a class="markdownIt-Anchor" href="#screenshot-hookbox"></a> Screenshot Hookbox</h3><p>一个Xposed插件，能将截图转webp格式，并且可以静音截图，对于魔趣ROM很方便，就顺便推荐一下。</p><h2 id="图床"><a class="markdownIt-Anchor" href="#图床"></a> 图床</h2><p>推荐几个图床，介绍什么的也就不罗嗦了，直接上地址：</p><ol><li>SM图床<a href="https://sm.ms/" target="_blank" rel="noopener">https://sm.ms/</a> 这个图床是真的快，但是个人感觉不太稳，去年有一段时间经常炸，不知道是不是我这DNS的问题；</li><li>简单图床<a href="https://simimg.com/" target="_blank" rel="noopener">https://simimg.com/</a></li><li>路过图床 <a href="https://imgchr.com/" target="_blank" rel="noopener">https://imgchr.com/</a></li><li>爱信息图床 <a href="https://tu.aixinxi.net/" target="_blank" rel="noopener">https://tu.aixinxi.net/</a> 这个稳不稳我不知道，但是这个不仅仅是一个图床，支持的格式特别多，而且速度也很快，但是图片会压缩。</li></ol><h2 id="图片处理工具"><a class="markdownIt-Anchor" href="#图片处理工具"></a> 图片处理工具</h2><p>直接放名字，具体都是干啥的可以去百度</p><ul><li>gluttonyFLIF （图片压缩，用于储存）</li><li>gluttonyPNG （PNG和JPG无损压缩，用于快速批量）</li><li>limitPNG2 （PNG无损压缩和有损压缩，用于极限压缩）</li><li>Loxclip （可以将剪切板内图片直接复制成文件储存）</li><li>Inpaint （去水印）</li></ul><h2 id="文本分享工具"><a class="markdownIt-Anchor" href="#文本分享工具"></a> 文本分享工具</h2><p>这里提到的都是网站，可以用于分享一个静态页面</p><h3 id="幕布"><a class="markdownIt-Anchor" href="#幕布"></a> 幕布</h3><p>反正个人感觉不是很好用，网址就不放了，直接百度就行。</p><h3 id="fox-txt-service"><a class="markdownIt-Anchor" href="#fox-txt-service"></a> Fox Txt Service</h3><p>MarkDown写作，然后可以生成一个静态页面，就类似于本博客一样，但是只是一个单个的页面，插图的话需要配合上面的图床使用。</p><p>用这个工具写一个单个的页面，然后拿出去分享，其实还是挺不错的。</p><p>网址：<a href="https://foxtxt.com/" target="_blank" rel="noopener">https://foxtxt.com/</a></p><p>示例页面：<a href="https://foxtxt.com/v/rkZESqK_f" target="_blank" rel="noopener">https://foxtxt.com/v/rkZESqK_f</a></p><h3 id="notepad"><a class="markdownIt-Anchor" href="#notepad"></a> Notepad</h3><p>和上面介绍的那个功能基本一样。</p><p>网址：<a href="https://notepad.pw/" target="_blank" rel="noopener">https://notepad.pw/</a></p><p>示例页面：<a href="https://notepad.pw/markdown/w3r692s1r" target="_blank" rel="noopener">https://notepad.pw/markdown/w3r692s1r</a></p><h2 id="写在后面的"><a class="markdownIt-Anchor" href="#写在后面的"></a> 写在后面的</h2><p>其他方面的一些小工具暂时就不介绍了，以后会慢慢补充了，让我说一时也想不起来那么多，如果你有什么效率小工具的，欢迎在下面的评论区补充。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;推荐几个不错的小工具，反正本人用着感觉不错。&lt;/p&gt;
    
    </summary>
    
    
      <category term="随便水水" scheme="https://blog.xxwhite.com/tags/%E9%9A%8F%E4%BE%BF%E6%B0%B4%E6%B0%B4/"/>
    
  </entry>
  
  <entry>
    <title>写一个Drcom第三方客户端</title>
    <link href="https://blog.xxwhite.com/2018/drcom-develop.html"/>
    <id>https://blog.xxwhite.com/2018/drcom-develop.html</id>
    <published>2018-03-01T04:22:55.000Z</published>
    <updated>2018-12-21T14:20:14.107Z</updated>
    
    <content type="html"><![CDATA[<p>前一阵子弄了一个Drcom登陆客户端，用于登陆校园网，具体可以看<a href="https://www.xxwhite.com/2018/Drcom.html" target="_blank" rel="noopener">中南大学联通校园网络第三方客户端</a>，这次简单说一下这个东西是怎么做出来的。</p><p>这也是我第二次写WPF程序，很多地方都是一边学习一边瞎搞的。</p><a id="more"></a><p>项目地址：<a href="https://github.com/MonoLogueChi/Drcom" target="_blank" rel="noopener">https://github.com/MonoLogueChi/Drcom</a></p><h2 id="原理分析"><a class="markdownIt-Anchor" href="#原理分析"></a> 原理分析</h2><p>首先是自己抓吧，还有参考GitHub上已有的项目，得出了登陆方式，然后写了一个简单的网页版，测试了一下。</p><p>就是利用POST提交表单登陆，用Get方式注销，表单为：</p><table><thead><tr><th style="text-align:left">Name</th><th style="text-align:left">Value</th></tr></thead><tbody><tr><td style="text-align:left">DDDDD</td><td style="text-align:left">账号</td></tr><tr><td style="text-align:left">upass</td><td style="text-align:left">密码</td></tr><tr><td style="text-align:left">0MKKey</td><td style="text-align:left"></td></tr><tr><td style="text-align:left">Submit</td><td style="text-align:left">%E7%99%BB+%E5%BD%95 （转义过来也就是<code>登 陆</code>）</td></tr></tbody></table><p>前面都是很常规的东西，我个人觉得最有意思的就是后面获取登陆IP和登陆提示那一部分了。</p><h2 id="界面和交互"><a class="markdownIt-Anchor" href="#界面和交互"></a> 界面和交互</h2><h3 id="设计界面"><a class="markdownIt-Anchor" href="#设计界面"></a> 设计界面</h3><p>界面设计部分xaml没啥意思，就不放了，最后大概就是下面这张图这样<br><img src="https://s1.ax2x.com/2018/02/26/ayUKY.png" alt=""></p><h3 id="交互逻辑"><a class="markdownIt-Anchor" href="#交互逻辑"></a> 交互逻辑</h3><p>其中包括功能：</p><ul><li>IP输入和自动获取IP；</li><li>账号输入和记住账号；</li><li>密码输入和记住密码；</li><li>登陆和注销按钮；</li><li>检查更新和关于软件；</li></ul><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Diagnostics;</span><br><span class="line"><span class="keyword">using</span> System.Windows;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> Drcom.net;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Drcom</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> MainWindow.xaml 的交互逻辑</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">MainWindow</span> : <span class="title">Window</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MainWindow</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">            Settings();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//初始化配置</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Settings</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">if</span> (Setting.GetSetting(<span class="string">"nip"</span>) == <span class="string">""</span> || Setting.GetSetting(<span class="string">"nip"</span>) == <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                GetIp.IsChecked = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                TextIp.Text = Setting.GetSetting(<span class="string">"nip"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (Setting.GetSetting(<span class="string">"uid"</span>) != <span class="string">""</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                SaveUid.IsChecked = <span class="literal">true</span>;</span><br><span class="line">                TextUid.Text = Setting.GetSetting(<span class="string">"uid"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (Setting.GetSetting(<span class="string">"pwd"</span>) != <span class="string">""</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                SavePwd.IsChecked = <span class="literal">true</span>;</span><br><span class="line">                TextPwd.Password = Setting.GetSetting(<span class="string">"pwd"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//登陆按钮</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LoginNet</span>(<span class="params"><span class="keyword">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//获取账号密码ip</span></span><br><span class="line">            <span class="keyword">string</span> nip = TextIp.Text;</span><br><span class="line">            <span class="keyword">string</span> uid = TextUid.Text;</span><br><span class="line">            <span class="keyword">string</span> pwd = TextPwd.Password;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取登陆IP</span></span><br><span class="line">            <span class="keyword">if</span> (GetIp.IsChecked == <span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                TextIp.Text = CsuNet.LoginIP();</span><br><span class="line">                nip = TextIp.Text;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//保存IP，账号和密码</span></span><br><span class="line">            <span class="keyword">if</span> (TextIp.Text != <span class="literal">null</span> &amp; TextIp.Text != <span class="string">""</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Setting.UpdateSetting(<span class="string">"nip"</span>, nip);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (SaveUid.IsChecked == <span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Setting.UpdateSetting(<span class="string">"uid"</span>, uid);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (SavePwd.IsChecked == <span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Setting.UpdateSetting(<span class="string">"pwd"</span>, pwd);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> relust = CsuNet.LoginCsuNet(nip, uid, pwd);</span><br><span class="line"></span><br><span class="line">            MessageBox.Show(relust);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//注销按钮</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">LogoutNet</span>(<span class="params"><span class="keyword">object</span> sender, RoutedEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">string</span> nip = TextIp.Text;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> relust = CsuNet.LogoutCsuNet(nip);</span><br><span class="line"></span><br><span class="line">            MessageBox.Show(relust);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//关于软件</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">About</span>(<span class="params"><span class="keyword">object</span> sender, System.Windows.Input.MouseButtonEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Process.Start(<span class="string">"http://url.xxwhite.com?id=5a884de19f5454543ef4201e"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//检查更新</span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">FindNew</span>(<span class="params"><span class="keyword">object</span> sender, System.Windows.Input.MouseButtonEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">string</span>[] version = NewApp.IsNew();</span><br><span class="line">            MessageBox.Show(<span class="string">"当前版本为："</span> + version[<span class="number">0</span>] + <span class="string">"\r\n"</span> +</span><br><span class="line">                            <span class="string">"最新版本为："</span> + version[<span class="number">1</span>] + <span class="string">"\r\n"</span> +</span><br><span class="line">                            <span class="string">"最后更新时间为："</span> + version[<span class="number">2</span>]);</span><br><span class="line">            <span class="keyword">if</span> (version[<span class="number">0</span>] != version[<span class="number">1</span>])</span><br><span class="line">            &#123;</span><br><span class="line">                Process.Start(<span class="string">"https://gitee.com/monologuechi/Drcom/releases"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来就是各项功能的实现了</p><h2 id="核心功能"><a class="markdownIt-Anchor" href="#核心功能"></a> 核心功能</h2><p>我们的核心功能便是登陆和注销功能，对于这两部分，其实很好理解，就是POST和GET。这两部分的代码我都写在了<code>Drcom.net.CsuNet.cs</code>中了</p><h3 id="登陆"><a class="markdownIt-Anchor" href="#登陆"></a> 登陆</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">LoginCsuNet</span>(<span class="params"><span class="keyword">string</span> nip, <span class="keyword">string</span> uid, <span class="keyword">string</span> pwd</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nip == <span class="string">""</span> || uid == <span class="string">""</span> || pwd == <span class="string">""</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"请检查登陆ip，账号和密码是否输入正确"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">string</span> content = <span class="string">"DDDDD="</span> + uid + <span class="string">"@zndx&amp;upass="</span> + pwd + <span class="string">"&amp;0MKKey= +Login"</span>;</span><br><span class="line">            <span class="keyword">string</span> posthost = <span class="string">"http://"</span> + nip + <span class="string">"/"</span>;</span><br><span class="line">            <span class="keyword">string</span> result = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">            HttpWebRequest req = (HttpWebRequest)WebRequest.Create(posthost);</span><br><span class="line">            req.Method = <span class="string">"POST"</span>;</span><br><span class="line">            req.ContentType = <span class="string">"application/x-www-form-urlencoded"</span>;</span><br><span class="line">            <span class="keyword">byte</span>[] data = Encoding.UTF8.GetBytes(content);</span><br><span class="line">            req.ContentLength = data.Length;</span><br><span class="line">            <span class="keyword">using</span> (Stream reqStream = req.GetRequestStream())</span><br><span class="line">            &#123;</span><br><span class="line">                reqStream.Write(data, <span class="number">0</span>, data.Length);</span><br><span class="line">                reqStream.Close();</span><br><span class="line">            &#125;</span><br><span class="line">            HttpWebResponse resp = (HttpWebResponse)req.GetResponse();</span><br><span class="line">            Stream stream = resp.GetResponseStream();</span><br><span class="line">            <span class="comment">//获取响应内容  </span></span><br><span class="line">            <span class="keyword">using</span> (StreamReader reader = <span class="keyword">new</span> StreamReader(stream, Encoding.ASCII))</span><br><span class="line">            &#123;</span><br><span class="line">                result = reader.ReadToEnd();</span><br><span class="line">                <span class="keyword">return</span> LoginCaes(result);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"发生未知错误\r\n请检查登陆IP是否填写正确"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="注销"><a class="markdownIt-Anchor" href="#注销"></a> 注销</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">LogoutCsuNet</span>(<span class="params"><span class="keyword">string</span> nip</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">string</span> gethost = <span class="string">"http://"</span> + nip + <span class="string">"/F.htm"</span>;</span><br><span class="line">        HttpWebRequest req = (HttpWebRequest)WebRequest.Create(gethost);</span><br><span class="line">        HttpWebResponse resp = (HttpWebResponse)req.GetResponse();</span><br><span class="line">        Stream stream = resp.GetResponseStream();</span><br><span class="line">        <span class="comment">//获取响应内容  </span></span><br><span class="line">        <span class="keyword">using</span> (StreamReader reader = <span class="keyword">new</span> StreamReader(stream, Encoding.ASCII))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">string</span> result = reader.ReadToEnd();</span><br><span class="line">            <span class="keyword">return</span> LoginCaes(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"发生未知错误"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>至此，软件的基本功能就都已经实现了。</p><h3 id="获取错误提示"><a class="markdownIt-Anchor" href="#获取错误提示"></a> 获取错误提示</h3><p>这一部分纯粹靠抓包获得，我们抓 GET <a href="http://119.39.119.2/F.htm%EF%BC%8C%E5%9C%A8%E8%BF%94%E5%9B%9E%E5%93%8D%E5%BA%94%E4%B8%AD%E8%8E%B7%E5%BE%97%E4%BA%86%E9%94%99%E8%AF%AF%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%BE%97%E5%88%B0%E4%BA%86%E7%99%BB%E9%99%86%E6%97%B6%E9%95%BF%E5%92%8C%E6%B5%81%E9%87%8F%E4%BD%BF%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%9C%89%E7%94%A8" target="_blank" rel="noopener">http://119.39.119.2/F.htm，在返回响应中获得了错误代码，并且得到了登陆时长和流量使用的数据，有用</a> 的信息包括：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">Msg=<span class="number">14</span>;time=<span class="string">'5         '</span>;flow=<span class="string">'200       '</span>;fsele=<span class="number">1</span>;fee=<span class="string">'0         '</span>;xsele=<span class="number">0</span>;xip=<span class="string">'000.000.000.000.'</span>;mac=<span class="string">'00-00-00-00-00-00'</span>;va=<span class="number">00</span>;vb=<span class="number">00</span>;vc=<span class="number">00</span>;vd=<span class="number">0000</span>;ve=<span class="number">0000</span>;vf=<span class="number">0000</span>;</span><br><span class="line">ipm=<span class="string">"77277702"</span>;ss1=<span class="string">"000d48462d8d"</span>;ss2=<span class="string">"3905"</span>;ss3=<span class="string">"0a000104"</span>;ss4=<span class="string">"28d244d94383"</span>;msga=<span class="string">''</span>;<span class="comment">/* can not modify !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!*/</span></span><br><span class="line">pp=<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">flow0=flow%<span class="number">1024</span>;flow1=flow-flow0;flow0=flow0*<span class="number">1000</span>;flow0=flow0-flow0%<span class="number">1024</span>;fee1=fee-fee%<span class="number">100</span>;</span><br><span class="line">flow3=<span class="string">'.'</span>;</span><br><span class="line"><span class="keyword">if</span>(flow0/<span class="number">1024</span>&lt;<span class="number">10</span>)flow3=<span class="string">'.00'</span>;</span><br><span class="line"><span class="keyword">else</span>&#123;<span class="keyword">if</span>(flow0/<span class="number">1024</span>&lt;<span class="number">100</span>)flow3=<span class="string">'.0'</span>;&#125;</span><br><span class="line">UT=<span class="string">"已使用时间 : "</span>+time +<span class="string">" Min"</span>+pp;</span><br><span class="line">UF=<span class="string">"已使用流量 : "</span>+flow1/<span class="number">1024</span>+flow3+flow0/<span class="number">1024</span>+<span class="string">" MByte"</span>+pp;</span><br><span class="line"><span class="keyword">if</span>(fsele==<span class="number">1</span>)UM=<span class="string">"本账号余额 : "</span>+<span class="string">"RMB"</span>+fee1/<span class="number">10000</span>;</span><br><span class="line"><span class="keyword">else</span> UM=<span class="string">""</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DispTFM</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(Msg)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span>((Msg==<span class="number">1</span>)&amp;&amp;(msga!=<span class="string">""</span>))&#123;</span><br><span class="line">            <span class="keyword">switch</span>(msga)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'error0'</span>:</span><br><span class="line">                <span class="built_in">document</span>.write(<span class="string">"本IP不允许Web方式登录"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'error1'</span>:</span><br><span class="line">                <span class="built_in">document</span>.write(<span class="string">"本账号不允许Web方式登录"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'error2'</span>:</span><br><span class="line">                <span class="built_in">document</span>.write(<span class="string">"本账号不允许修改密码"</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="built_in">document</span>.write(msga);</span><br><span class="line">                <span class="keyword">break</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">document</span>.write(<span class="string">"账号或密码不对，请重新输入"</span>);</span><br><span class="line">        <span class="keyword">break</span>;      </span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"该账号正在使用中，请您与网管联系"</span>+pp+xip+pp+mac);</span><br><span class="line">        <span class="keyword">break</span>;      </span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"本账号只能在指定地址使用&lt;br&gt;This account can be used on the appointed address only."</span>+pp+xip);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"本账号费用超支或时长流量超过限制"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"本账号暂停使用"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"System buffer full"</span>);</span><br><span class="line">        <span class="keyword">break</span>;      </span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"本账号正在使用,不能修改"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"新密码与确认新密码不匹配,不能修改"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"密码修改成功"</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"本账号只能在指定地址使用 :"</span>+pp+mac);</span><br><span class="line">        <span class="keyword">break</span>;      </span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">          <span class="built_in">document</span>.write(UT+UF+UM);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">14</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"注销成功"</span>+pp+UT+UF+UM);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">15</span>:</span><br><span class="line">        <span class="built_in">document</span>.write(<span class="string">"登录成功"</span>+pp+UT+UF+UM);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        &#125;&#125;</span><br></pre></td></tr></table></figure><p>内容有点长，我们使用字符串拆分，获取有用的信息</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">LoginCaes</span>(<span class="params"><span class="keyword">string</span> result</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (result.Contains(<span class="string">"Msg="</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">string</span>[] FMsg = Regex.Split(result, <span class="string">"Msg="</span>, RegexOptions.IgnoreCase);</span><br><span class="line">        <span class="keyword">int</span> Msg = Convert.ToInt32(FMsg[<span class="number">1</span>].Substring(<span class="number">0</span>, <span class="number">2</span>));</span><br><span class="line">        <span class="keyword">switch</span> (Msg)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>: <span class="keyword">return</span> <span class="string">"未知错误"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">string</span> msga = Regex.Split(FMsg[<span class="number">1</span>], <span class="string">"msga="</span>, RegexOptions.IgnoreCase)[<span class="number">1</span>].Substring(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (msga != <span class="string">"\'"</span>) &#123; <span class="keyword">return</span> <span class="string">"错误代码："</span> + msga; &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="string">"账号或密码错误"</span>; &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: <span class="keyword">return</span> <span class="string">"该账号正在使用中，请您与网管联系"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>: <span class="keyword">return</span> <span class="string">"本账号只能在指定地址使用"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>: <span class="keyword">return</span> <span class="string">"本账号费用超支或时长流量超过限制"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>: <span class="keyword">return</span> <span class="string">"本账号暂停使用"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>: <span class="keyword">return</span> <span class="string">"System buffer full"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>: <span class="keyword">return</span> <span class="string">"本账号正在使用,不能修改"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>: <span class="keyword">return</span> <span class="string">"未知错误"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">9</span>: <span class="keyword">return</span> <span class="string">"新密码与确认新密码不匹配,不能修改"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">10</span>: <span class="keyword">return</span> <span class="string">"密码修改成功"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">11</span>: <span class="keyword">return</span> <span class="string">"本账号只能在指定地址使用"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">12</span>: <span class="keyword">return</span> <span class="string">"未知错误"</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">13</span>: <span class="keyword">return</span> <span class="string">"未知错误"</span>;</span><br><span class="line">            <span class="comment">//注销成功，还要获取一些信息</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">14</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">try</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">int</span> time = Convert.ToInt32(Regex.Split(FMsg[<span class="number">1</span>], <span class="string">"time="</span>, RegexOptions.IgnoreCase)[<span class="number">1</span>].Substring(<span class="number">1</span>, <span class="number">9</span>));</span><br><span class="line">                    <span class="keyword">float</span> flow = Convert.ToSingle(Regex.Split(FMsg[<span class="number">1</span>], <span class="string">"flow="</span>, RegexOptions.IgnoreCase)[<span class="number">1</span>].Substring(<span class="number">1</span>, <span class="number">9</span>));</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">"注销成功 \r\n"</span> +</span><br><span class="line">                    <span class="string">"本次使用时长："</span> + time + <span class="string">" Min \r\n"</span> +</span><br><span class="line">                    <span class="string">"本次使用流量："</span> + (flow / <span class="number">1024f</span>).ToString(<span class="string">"F2"</span>) + <span class="string">" MByte"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">catch</span> (Exception) &#123; <span class="keyword">return</span> <span class="string">"注销成功"</span>; &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">15</span>: <span class="keyword">return</span> <span class="string">"登录成功"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"未知错误"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="string">"您应该大概也许可能已经成功登陆了"</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="获取登陆ip"><a class="markdownIt-Anchor" href="#获取登陆ip"></a> 获取登陆IP</h3><p>这一项功能的发现，纯属偶然，抓包中无意抓到的，在未登录状态下，随便发送一个GET请求，返回响应里就会有登陆IP的信息。</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">LoginIP</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        HttpWebRequest req = (HttpWebRequest)WebRequest.Create(<span class="string">"http://pingtcss.qq.com/"</span>);</span><br><span class="line">        HttpWebResponse resp = (HttpWebResponse)req.GetResponse();</span><br><span class="line">        Stream stream = resp.GetResponseStream();</span><br><span class="line">        <span class="comment">//获取响应内容</span></span><br><span class="line">        <span class="keyword">using</span> (StreamReader reader = <span class="keyword">new</span> StreamReader(stream, Encoding.ASCII))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">string</span> result = reader.ReadToEnd();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (result.Contains(<span class="string">"v4serip"</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">string</span>[] Fnip = Regex.Split(result, <span class="string">"v4serip='"</span>, RegexOptions.IgnoreCase);</span><br><span class="line">                <span class="keyword">string</span>[] nip = Regex.Split(Fnip[<span class="number">1</span>], <span class="string">"'"</span>, RegexOptions.IgnoreCase);</span><br><span class="line">                <span class="keyword">return</span> nip[<span class="number">0</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">null</span>; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception) &#123; <span class="keyword">return</span> <span class="literal">null</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="保存设置和检查更新"><a class="markdownIt-Anchor" href="#保存设置和检查更新"></a> 保存设置和检查更新</h2><h3 id="读取和保存配置"><a class="markdownIt-Anchor" href="#读取和保存配置"></a> 读取和保存配置</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Drcom.net</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Setting</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//获取设置</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">GetSetting</span>(<span class="params"><span class="keyword">string</span> key</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">string</span> <span class="keyword">value</span> = ConfigurationManager.AppSettings[key].ToString();</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception) &#123; <span class="keyword">return</span> <span class="literal">null</span>; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//写入设置</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">UpdateSetting</span>(<span class="params"><span class="keyword">string</span> key, <span class="keyword">string</span> <span class="keyword">value</span></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Configuration config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (config.AppSettings.Settings[key] != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    config.AppSettings.Settings.Remove(key);</span><br><span class="line">                &#125;</span><br><span class="line">                config.AppSettings.Settings.Add(key, <span class="keyword">value</span>);</span><br><span class="line">                config.Save(ConfigurationSaveMode.Modified);</span><br><span class="line">                ConfigurationManager.RefreshSection(<span class="string">"appSettings"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception) &#123; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="软件检查更新"><a class="markdownIt-Anchor" href="#软件检查更新"></a> 软件检查更新</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"><span class="keyword">using</span> System.Xml.Linq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Drcom.net</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NewApp</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span>[] <span class="title">IsNew</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">string</span> version = Assembly.GetExecutingAssembly().GetName().Version.ToString();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">string</span> versionxml = <span class="string">"http://v.xxwhite.com/version/Drcom.xml?t="</span> + DateTime.Now.ToFileTimeUtc().ToString();</span><br><span class="line">                XDocument oXDoc = XDocument.Load(versionxml);</span><br><span class="line">                XElement root = oXDoc.Root;</span><br><span class="line">                XElement lastversion = root.Element(<span class="string">"version"</span>);</span><br><span class="line">                XElement data = root.Element(<span class="string">"data"</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">string</span>[] versiondata = <span class="keyword">new</span> <span class="keyword">string</span>[<span class="number">3</span>] &#123; version, lastversion.Value, data.Value &#125;;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> versiondata;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> (<span class="keyword">new</span> <span class="keyword">string</span>[<span class="number">3</span>] &#123; version, <span class="string">"未检测到最新版本"</span>, <span class="string">"未检测到更新时间"</span> &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="写在后面的"><a class="markdownIt-Anchor" href="#写在后面的"></a> 写在后面的</h2><p>至此，所有功能均已介绍完毕，有兴趣的同学可以接盘继续开发，项目地址在<a href="https://www.xxwhite.com/2018/Drcom.html" target="_blank" rel="noopener">中南大学联通校园网络第三方客户端</a>中。</p><p>友情提示，修改密码功能其实实现也很简单，GitHub上已经找到有事项该功能的项目了，只要把IP改成自己的，剩下基本照抄就能实现了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前一阵子弄了一个Drcom登陆客户端，用于登陆校园网，具体可以看&lt;a href=&quot;https://www.xxwhite.com/2018/Drcom.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;中南大学联通校园网络第三方客户端&lt;/a&gt;，这次简单说一下这个东西是怎么做出来的。&lt;/p&gt;
&lt;p&gt;这也是我第二次写WPF程序，很多地方都是一边学习一边瞎搞的。&lt;/p&gt;
    
    </summary>
    
    
      <category term="C#" scheme="https://blog.xxwhite.com/tags/C/"/>
    
      <category term="软件" scheme="https://blog.xxwhite.com/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>中南大学联通校园网络第三方客户端</title>
    <link href="https://blog.xxwhite.com/2018/Drcom.html"/>
    <id>https://blog.xxwhite.com/2018/Drcom.html</id>
    <published>2018-02-24T05:09:25.000Z</published>
    <updated>2018-12-21T14:20:14.100Z</updated>
    
    <content type="html"><![CDATA[<p>这是中南大学联通校园网络第三方客户端，供Windows系统登陆校园网使用。</p><a id="more"></a><h2 id="软件特点"><a class="markdownIt-Anchor" href="#软件特点"></a> 软件特点</h2><p>小巧精悍（<s>仅20K</s> 26K），无需安装，下载即用。</p><p>本软件仅仅是为了方便登陆而又不想安装臃肿的客户端而产生的，使用本软件本不会有网速提升或者其他加成。</p><h2 id="需求"><a class="markdownIt-Anchor" href="#需求"></a> 需求</h2><p>本软件基于 .Net Framework开发，需安装.Net4.0及以上版本。大部分电脑都能直接用，如不能正常运行，请安装： <a href="https://www.microsoft.com/en-us/download/details.aspx?id=17851" target="_blank" rel="noopener">.Net 4.0</a></p><h2 id="关于软件"><a class="markdownIt-Anchor" href="#关于软件"></a> 关于软件</h2><p>本软件为开源软件，项目地址：<br><a href="https://github.com/MonoLogueChi/Drcom" target="_blank" rel="noopener">GitHub</a><br><a href="https://gitee.com/monologuechi/Drcom" target="_blank" rel="noopener">码云</a></p><p>下载地址：<br><a href="https://dl.sm9.top/blog/drcom/2.0.0.1/Drcom.exe" target="_blank" rel="noopener">直接下载</a>（推荐）<br><a href="https://gitee.com/monologuechi/Drcom/releases" target="_blank" rel="noopener">码云</a>（不推荐）<br><a href="https://github.com/MonoLogueChi/Drcom/releases" target="_blank" rel="noopener">GitHub</a>（可能有点慢）</p><p><strong>移动端</strong>：<s>开发中</s> 毕业了，不搞了</p><h2 id="食用方法"><a class="markdownIt-Anchor" href="#食用方法"></a> 食用方法</h2><p>开袋即食，但建议认真阅读本说明</p><p>目前本软件在升华基本没问题，其他校区如果有问题，请<s>联系作者解决</s>自行解决。</p><h3 id="主界面"><a class="markdownIt-Anchor" href="#主界面"></a> 主界面</h3><center>![主界面](https://s1.ax2x.com/2018/06/01/7cjbN.png)</center>  <ul><li>登陆IP：<s>这一部分可以在联通指定的客户端中获得，也就是出口IP</s> （已添加自动获取登陆IP功能）；</li><li>自动获取IP：在离线状态下勾选此项，登陆时可以自动获取IP；</li><li>账号：02+你的学号；</li><li>密码：就是密码；</li><li>登录后关闭本软件即可，电脑不断网的情况下自动保持登陆，如联通以后修改验证方式，<s>会另行调整</s>改了我也不知道；</li><li>强制离线：使用非正常方法加入此功能，Bug较多，不要过分依赖；</li><li>不建议将本软件直接放在桌面上使用，可以放在磁盘任意文件夹，比如我放到了<code>D:\Program Files (x86)\Drcom</code>，然后创建快捷方式复制到桌面。</li></ul><h3 id="注销"><a class="markdownIt-Anchor" href="#注销"></a> 注销</h3><center>![注销成功](https://s1.ax2x.com/2018/06/01/7cQNh.png) </center><p>注销后可查看登陆时长和流量消耗，算是一个没用的小功能吧，很简单的一个功能顺手实现了。</p><h3 id="强制离线"><a class="markdownIt-Anchor" href="#强制离线"></a> 强制离线</h3><center>![强制离线](https://s1.ax2x.com/2018/06/01/7cdDH.png) </center><p>憋了两个月的大招，最后还是没完成，只能以这种很蛋疼的形式实现。</p><p>此功能瑕疵过多，没事不要点开这个页面，有可能会把主程序卡死，如果后面有人要接手的话，可以尝试解决一下这个问题。</p><p>打开页面，对照自己的MAC地址选择下线相应的设备。</p><h2 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h2><p>详见软件下载页面，<s>可能会出现不可预测的错误</s>（目前已基本稳定）</p><h2 id="更新日志"><a class="markdownIt-Anchor" href="#更新日志"></a> 更新日志</h2><ul><li>0.2.0.1<ul><li>更新日期：2018年7月30日</li><li>修改更新方式，不再默认通过码云下载</li></ul></li><li>0.2.0.0<ul><li>更新日期：2018年6月1日</li><li>重大更新，添加强制离线功能</li></ul></li><li>0.1.0.5<ul><li>更新日期：2018年4月18日</li><li>最终版本，建议升级到此版本</li></ul></li><li>0.1.0.2<ul><li>更新日期：2018年3月1日</li><li>注销时可以显示在线时长和流量使用情况</li></ul></li><li>0.1.0.1<ul><li>更新日期：2018年2月26日</li><li>优化逻辑，以后基本不会有重大更新了，建议升级到此版本</li></ul></li><li>0.1.0.0<ul><li>更新日期：2018年2月25日</li><li>尝试添加自动获取登陆IP功能，因自动获取IP为实验性功能，未取代手动输入IP功能</li></ul></li><li>0.0.1.0<ul><li>更新日期：2018年2月25日</li><li>修正登陆状态提示和错误代码提醒</li></ul></li><li>0.0.0.2<ul><li>更新日期：2018年2月24日</li><li>这是第一个可用版本，能正常使用的功能包括登陆和注销</li><li>已知一个小错误，即使登陆成功也会提示失败，检查发现是逻辑判断问题，今天刚到学校就忙活了大半天，也够累了，就等明天或者后天修复了，更新后只需要在软件中点击<code>检查更新</code>即可</li></ul></li><li>0.0.0.1<ul><li>更新日期：2018年2月19日</li><li>不能用的一个版本</li></ul></li></ul><h2 id="功能一览"><a class="markdownIt-Anchor" href="#功能一览"></a> 功能一览</h2><ul><li>[x] 登陆，包括自动获取登陆IP</li><li>[x] 注销，包括注销时显示在线时长和流量使用</li><li>[x] 无共享热点限制</li><li>[ ] <s>修改密码功能（因某些原因已放弃该功能开发）</s></li><li>[x] 强制离线功能</li></ul><h2 id="公告"><a class="markdownIt-Anchor" href="#公告"></a> 公告</h2><p>这个小小的第三方客户端做到这样基本就OK啦，该有的基本功能都有了，如果无法正常使用，<s>请及时反馈给我</s>反馈给我也没用啦，爸爸毕业啦。</p><p><strong>另外，<font color="red">有没有懂设计的同学可以帮忙设计一个图标</font>，直接用校徽做图标感觉有点不太好</strong>。如果有意向的，可以直接将设计稿发到我的邮箱。</p><h2 id="意见反馈"><a class="markdownIt-Anchor" href="#意见反馈"></a> 意见反馈</h2><p>联系作者方式有（按处理优先级排序）：</p><ol><li>邮件，这个邮箱随便骚扰就好 <a href="mailto:xxwhite@foxmail.com" target="_blank" rel="noopener">xxwhite@foxmail.com</a></li><li>Issues <a href="https://github.com/MonoLogueChi/Drcom/issues" target="_blank" rel="noopener">GitHub</a></li><li>微信提问，扫描左侧（电脑）或者上方（手机）<a href="https://xxwhite.nos-eastchina1.126.net/wechat.png" target="_blank" rel="noopener">微信二维码</a>，向作者提问</li><li>博客评论 直接在下面留言（为了能尽快得到回复，建议留下真实邮箱，仅用作回复提醒）</li><li>死皮赖脸的求博主微企鹅号（仅限小姐姐）</li></ol><h2 id="投食"><a class="markdownIt-Anchor" href="#投食"></a> 投食</h2><p>虽然现在做的也不咋样，但是该有的功能基本都有了，想来打赏就打赏一波吧，<strong>起价2元，上不封顶</strong>。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是中南大学联通校园网络第三方客户端，供Windows系统登陆校园网使用。&lt;/p&gt;
    
    </summary>
    
    
      <category term="软件" scheme="https://blog.xxwhite.com/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>自己精简制作Win系统镜像</title>
    <link href="https://blog.xxwhite.com/2018/simplify-windows.html"/>
    <id>https://blog.xxwhite.com/2018/simplify-windows.html</id>
    <published>2018-02-12T15:00:32.000Z</published>
    <updated>2018-12-21T14:20:14.112Z</updated>
    
    <content type="html"><![CDATA[<p>回家之后麻麻就一直说要我捣鼓捣鼓电脑，没办法，只能硬着头皮上了。顺便自己做了两个精简系统，简单的把制作过程分享一下。</p><a id="more"></a><h2 id="工具"><a class="markdownIt-Anchor" href="#工具"></a> 工具</h2><p>本文使用的是非常经典的方法，这种方法在百度上随便一搜就可以搜到。</p><p>这两个工具中的单独一个其实都可以完成本文所示工作，但是组合起来使用会更加方便。</p><p><a href="http://www.majorgeeks.com/files/details/msmg_toolkit.html" target="_blank" rel="noopener">MSMG ToolKit</a><br><a href="http://www.chuyu.me/zh-Hans/index.html" target="_blank" rel="noopener">Dism++</a></p><p>下载好MSMG ToolKit之后解压，建议路径中不要出现中文或者空格，也就是说最好把解压出来的东西放到非系统盘的根目录里，就像我下面图片所示一样。</p><p>MSMG ToolKit是英文工具，虽然有汉化版的，但是最新版的有没有就不确定的，英文都很简单，不懂的去翻译就好。本文所用版本为8.0。</p><h2 id="步骤"><a class="markdownIt-Anchor" href="#步骤"></a> 步骤</h2><h3 id="win原版镜像下载"><a class="markdownIt-Anchor" href="#win原版镜像下载"></a> Win原版镜像下载</h3><p>下载Win原版镜像，建议去<a href="https://msdn.itellyou.cn/" target="_blank" rel="noopener">I tell you</a>找，下载方式建议用迅雷，国内还是迅雷比较稳。</p><h3 id="挂载镜像"><a class="markdownIt-Anchor" href="#挂载镜像"></a> 挂载镜像</h3><p>下载好镜像之后，解压或者挂载光盘，然后把文件全部复制到MSMG ToolKit的DVD文件夹里，就像下图这样。</p><p><img src="https://s1.ax2x.com/2018/02/12/yhgAu.png" alt=""></p><p>然后使用<code>Start.cmd</code>开启程序，然后按A同意协议。进入主界面之后使用<code>Source</code>挂载镜像</p><p><img src="https://s1.ax2x.com/2018/02/12/yhnw9.png" alt=""></p><p>然后选择挂载哪个镜像，想修改哪个就挂载哪个。</p><p><img src="https://s1.ax2x.com/2018/02/12/yv32q.png" alt=""></p><h3 id="精简系统"><a class="markdownIt-Anchor" href="#精简系统"></a> 精简系统</h3><p>挂载完成之后使用<code>[4] Remove</code>精简系统，进入之后可以使用1、3选项按照个人喜好精简，或者等下用Dism++精简。</p><p><img src="https://s1.ax2x.com/2018/02/12/yvBlR.png" alt=""></p><p>做完前面的这一部分之后，可以使用Dism<ins>对系统进一步更改，Dism</ins>怎么用我是不会教的，CUI的东西简单说一下还可以，GUI的东西要是不会用就不要继续了，鬼知道你做完的东西能不能用。</p><p><img src="https://s1.ax2x.com/2018/02/12/yvHFr.png" alt=""></p><p>使用Dism++弄完了之后，还可以去修改一下注册表，不会弄的话就别弄了，反正我都懒得去弄注册表，都是装完系统之后一点一点完善的，那么多要修改的东西我是记不住，哪天想起来就修改一点。</p><h3 id="封装镜像"><a class="markdownIt-Anchor" href="#封装镜像"></a> 封装镜像</h3><p>做完精简之后就要封装了，首先使用<code>[6] Apply</code>将修改保存一下。进去之后先使用<code>[1] Cleanup Source Images</code>，然后再使用<code>[2] Apply &amp; Save Changes to Source Images</code>。</p><p><img src="https://s1.ax2x.com/2018/02/12/yvTuY.png" alt=""></p><p>这个时候刚才修改的东西就已经保存了，但是如果这样直接封装，生成的系统镜像体积会很大，因为没有使用压缩。</p><p>使用Dism<ins>打开刚才生成的镜像<code>菜单-打开镜像</code>，然后选中你需要的镜像，也就是刚才编辑过的，然后导出映像，可以选择启用压缩。导出之后关掉Dism</ins>，然后用导出的映像文件去替换原来的映像文件。</p><p><img src="https://s1.ax2x.com/2018/02/12/yvXAi.png" alt=""></p><p>最后使用<code>[7] Target</code>封装镜像，生成的镜像会<s>爆粗</s>保存到ISO文件夹里。</p><p><img src="https://s1.ax2x.com/2018/02/12/yvYEl.png" alt=""></p><h2 id="写在后面的"><a class="markdownIt-Anchor" href="#写在后面的"></a> 写在后面的</h2><p>本文设涉及到的精简过程都是最简单的步骤，仅面向新手，如果没有特殊需求，还是去用原版吧，谁都不敢保证精简版不会出问题。</p><p>另外，最好不要使用精简版升级安装，特别是从原版升级，可能会导致无法正常使用。</p><p>我自己制作的几个镜像也放出来，都是我自己用过之后才放的，但是不能保证你们用就没问题，有需要的可以直接拿去用，注意下载下来校验一下MD5。</p><p><a href="http://url.xxwhite.com/?id=5a81ba00128fe1003795eae0" target="_blank" rel="noopener">下载地址</a> 密码注意看网址参数</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;回家之后麻麻就一直说要我捣鼓捣鼓电脑，没办法，只能硬着头皮上了。顺便自己做了两个精简系统，简单的把制作过程分享一下。&lt;/p&gt;
    
    </summary>
    
    
      <category term="涨姿势" scheme="https://blog.xxwhite.com/tags/%E6%B6%A8%E5%A7%BF%E5%8A%BF/"/>
    
  </entry>
  
  <entry>
    <title>使用又拍云托管静态网站</title>
    <link href="https://blog.xxwhite.com/2018/using-upyun.html"/>
    <id>https://blog.xxwhite.com/2018/using-upyun.html</id>
    <published>2018-02-11T14:26:30.000Z</published>
    <updated>2018-12-21T14:20:14.114Z</updated>
    
    <content type="html"><![CDATA[<p>昨天有人问怎么在又拍云托管静态网站，其实这是很简单的一件事，我就大概讲一下要怎么做。</p><a id="more"></a><p>以前也写过几篇关于建站的事情，比如备案，在阿里云建站，七牛云托管静态网站等等，想看的可以看这里<a href="https://www.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/" target="_blank" rel="noopener">建站笔记</a></p><h2 id="前提条件"><a class="markdownIt-Anchor" href="#前提条件"></a> 前提条件</h2><p><strong>备案</strong>，网站需要备案，这一条应该就会卡死大部分人。备案的过程其实也不麻烦，但是备案之后就不能为所欲为了，以为你是需要对网站负责的。喜欢瞎搞事情的就被想这蛋疼的事情了。但是不备案，国内很多服务你都用不了。</p><p>还有，如果正在打算弄的，买域名之前一定要看好哪些域名可以备案，哪些不能备案。</p><h2 id="又拍云免费额度"><a class="markdownIt-Anchor" href="#又拍云免费额度"></a> 又拍云免费额度</h2><p>又拍云有<a href="https://www.upyun.com/league" target="_blank" rel="noopener">又拍云联盟</a>，只要在站点加入又拍云logo，每个月会获赠10G空间和15G流量（<strong>支持HTTPS！！！</strong>），会折合成代金卷发放给用户。一年是67元，普通用户足够用了。我这个月有一篇PV5000+的文章，也才一共用了不到3毛钱。</p><h2 id="使用过程"><a class="markdownIt-Anchor" href="#使用过程"></a> 使用过程</h2><p>官方有个大概的教程，可以对比着看一下，有些地方我说的可能没有官方的详细<a href="http://docs.upyun.com/cdn/service/#_6" target="_blank" rel="noopener">http://docs.upyun.com/cdn/service/#_6</a></p><h3 id="注册账号"><a class="markdownIt-Anchor" href="#注册账号"></a> 注册账号</h3><p>在这里注册账号 <a href="https://console.upyun.com/register/?invite=B1Tr4zsVf" target="_blank" rel="noopener">又拍云注册</a>，使用我的邀请链接注册，我可以获得30G流量，你可以获得代金卷。不想用我的邀请链接就自己去百度，然后到官网自己去注册，反正这点奖励对我来说也没啥用。</p><p><img src="https://s1.ax2x.com/2018/02/11/yOWVG.png" alt=""></p><p>注册账户之后记得要实名，不实名是不能使用的。关于实名这一点，感觉又拍云很方便，芝麻信用大于700分的可以直接使用支付宝实名，小于700分的只能乖乖的拿身份证拍照了。</p><h3 id="加入又拍云联盟可选"><a class="markdownIt-Anchor" href="#加入又拍云联盟可选"></a> 加入又拍云联盟（可选）</h3><p>前面说了又拍云联盟的免费额度，<a href="https://www.upyun.com/league" target="_blank" rel="noopener">这里</a>说的很清楚了，反正就是要在你站点要加上又拍云的LOGO，并且加上官网链接，就像我现在这样。</p><p>然后等审核通过了，你就会获得代金卷。审核没用通过这段时间，你也是不需要自己掏钱的，因为他会送你一张61元的代金卷（有效期一个月）。</p><h3 id="上传静态文件"><a class="markdownIt-Anchor" href="#上传静态文件"></a> 上传静态文件</h3><ul><li>使用<code>云存储</code>功能，创建服务，这一步很简单，我就不罗嗦了；</li><li>搞完之后就需要上传文件了，新手建议使用FTP方式，可以参考这里：<a href="http://docs.upyun.com/guide/#ftpftps" target="_blank" rel="noopener">FTP/FTPS</a>，或者使用第三方工具，可以看这里：<a href="http://docs.upyun.com/download/#third-party-plugin" target="_blank" rel="noopener">又拍云第三方工具和插件</a>。熟悉的可以使用<a href="https://github.com/polym/upx" target="_blank" rel="noopener">命令行工具</a>，然后搞个批处理脚本，操作简单方便；</li><li>到设置里绑定域名，是使用CNAME的方式绑定的，不会搞就点下面的help；</li><li>缓存控制，这个根据需求自己去配置，如果不懂的可以看一下我的（HEXO这样配置应该都没啥大问题）；<br><img src="https://s1.ax2x.com/2018/02/11/yOCwe.png" alt=""></li><li>性能优化，把页面压缩给打开就可以了，其他的都不用管。</li><li>HTTPS，等下说；</li><li>其他内容，不懂的就不要动了。</li></ul><h3 id="开启https可选"><a class="markdownIt-Anchor" href="#开启https可选"></a> 开启HTTPS（可选）</h3><p>如果只是想用HTTPS的话，其实可以直接在又拍云申请证书，还支持自动续期，简单方便</p><p>证书管理地址：<a href="https://console.upyun.com/toolbox/ssl/" target="_blank" rel="noopener">证书服务</a></p><p>申请证书可以按照又拍云的教程来，想自己申请的可以去百度，也可以看我以前的文章，建站笔记里有一些申请方法。</p><p>搞好证书之后，在<code>云存储</code>的设置里，开启HTTPS服务。</p><h2 id="测试"><a class="markdownIt-Anchor" href="#测试"></a> 测试</h2><p>把上面的都搞完了之后，访问域名测试一下站点是不是一切正常。</p><p>最后再称赞一下又拍云，不需要自己手动刷缓存真的很赞，尤其是这种需要经常更新和更改的博客站点，以前用七牛云的时候都不得不搞CDN穿透来满足需求了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;昨天有人问怎么在又拍云托管静态网站，其实这是很简单的一件事，我就大概讲一下要怎么做。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>增加一个MarkDown文件下载功能</title>
    <link href="https://blog.xxwhite.com/2018/add-download-markdown.html"/>
    <id>https://blog.xxwhite.com/2018/add-download-markdown.html</id>
    <published>2018-02-03T08:10:01.000Z</published>
    <updated>2018-12-21T14:20:14.105Z</updated>
    
    <content type="html"><![CDATA[<p>昨天给博客加了一个下载MarkDown文件的功能，原本是很简单的一件事，但是中间涉及到了很多麻烦东西，所以就决定简单记录以下。</p><a id="more"></a><h2 id="起因"><a class="markdownIt-Anchor" href="#起因"></a> 起因</h2><p>这件事的起因是前两天我写的一篇文章意外火了一遍，引来了一大波PV，又有很多人转了这篇文章，还有人问我要MarkDown源文件。受到<a href="https://imququ.com/post/about.html" target="_blank" rel="noopener">Jerry Qu的小站</a>的启发，决定做一个MarkDown文件下载的功能。</p><h2 id="捋一下过程"><a class="markdownIt-Anchor" href="#捋一下过程"></a> 捋一下过程</h2><h3 id="hexo修改部分"><a class="markdownIt-Anchor" href="#hexo修改部分"></a> Hexo修改部分</h3><p><strong>本文介绍修改方法仅使用于Yilia主题，其他主题请参考原理，自行寻找食用方法</strong></p><p>修改\layout_partial\post\nav.ejs，我找了好久才发现加在这里最合适，由于技术比较渣，暂时只能做到这样了，以后会继续进步的。</p><p>在<code>&lt;% if (post.next){ %&gt; … &lt;% } %&gt;</code>和<code>&lt;/nav&gt;</code>之间添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.mdhost)&#123; %&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;a href=&quot;&lt;%- url_for(theme.mdhost) %&gt;&lt;%- url_for(post.path) %&gt;.txt&quot; target=&quot;_blank&quot;&gt;获取文章MarkDown文件&lt;/a&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>在Yilia主题的<code>_config.yml</code>中添加</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mdhost:</span>  <span class="comment">#MarkDown文件下载地址,如：http://md.xxwhite.com/</span></span><br></pre></td></tr></table></figure><p>这样点击下面的按钮的时候，就会调到同名的txt文件了。</p><p>比如这篇文章，点击获取MarkDown文件，就会跳转到页面<code>http://md.xxwhite.xom/2018/add-download-markdown.txt</code></p><h3 id="markdown文件"><a class="markdownIt-Anchor" href="#markdown文件"></a> MarkDown文件</h3><p>MarkDown文件我是传到了网易云的对象存储服务中，如果要是把文件传到相同位置，那就更简单了（我接下来就是打算要这么做的，不闲着蛋疼去薅羊毛了）</p><p>首先是要把MarKDown文件转码为ANSI，UTF-8会乱码，不是自己搭的服务，请求头没办法改，接下来要改后缀为.txt，.md默认Content-Type为application/octet-stream，会自动变成下载。</p><p>我使用一个批处理自动化完成这个东西</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> D:\MonoLogueChi\Documents\Hexo\blog-<span class="built_in">md</span>\</span><br><span class="line"><span class="built_in">del</span> /S /Q .\*</span><br><span class="line"></span><br><span class="line"><span class="built_in">Xcopy</span> /Y /S D:\MonoLogueChi\Documents\Hexo\blog\source\_posts\* D:\MonoLogueChi\Documents\Hexo\blog-<span class="built_in">md</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="variable">%%i</span> <span class="keyword">in</span> (*.<span class="built_in">md</span>) <span class="keyword">do</span> (</span><br><span class="line">  iconv -f UTF-<span class="number">8</span> -t GBK <span class="variable">%%i</span> &gt; <span class="variable">%%i</span>.b</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">exist</span> <span class="variable">%%i</span>.b (</span><br><span class="line">    <span class="built_in">del</span> <span class="variable">%%i</span></span><br><span class="line">    <span class="built_in">ren</span> <span class="variable">%%i</span>.b <span class="variable">%%~</span>nxi</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line"><span class="built_in">ren</span> *.<span class="built_in">md</span> *.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> .\<span class="number">2017</span>\</span><br><span class="line"><span class="keyword">for</span> <span class="variable">%%i</span> <span class="keyword">in</span> (*.<span class="built_in">md</span>) <span class="keyword">do</span> (</span><br><span class="line">  iconv -f UTF-<span class="number">8</span> -t GBK <span class="variable">%%i</span> &gt; <span class="variable">%%i</span>.b</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">exist</span> <span class="variable">%%i</span>.b (</span><br><span class="line">    <span class="built_in">del</span> <span class="variable">%%i</span></span><br><span class="line">    <span class="built_in">ren</span> <span class="variable">%%i</span>.b <span class="variable">%%~</span>nxi</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line"><span class="built_in">ren</span> *.<span class="built_in">md</span> *.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ..\<span class="number">2018</span>\</span><br><span class="line"><span class="keyword">for</span> <span class="variable">%%i</span> <span class="keyword">in</span> (*.<span class="built_in">md</span>) <span class="keyword">do</span> (</span><br><span class="line">  iconv -f UTF-<span class="number">8</span> -t GBK <span class="variable">%%i</span> &gt; <span class="variable">%%i</span>.b</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">exist</span> <span class="variable">%%i</span>.b (</span><br><span class="line">    <span class="built_in">del</span> <span class="variable">%%i</span></span><br><span class="line">    <span class="built_in">ren</span> <span class="variable">%%i</span>.b <span class="variable">%%~</span>nxi</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line"><span class="built_in">ren</span> *.<span class="built_in">md</span> *.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /d %~dp0</span><br><span class="line"><span class="built_in">pause</span></span><br></pre></td></tr></table></figure><p>这个用到了iconv.exe这个东西，可以在这里下载 <a href="https://t1.aixinxi.net/o_1c5fbqvmj3u11pp6ml5v6dnfa.7z" target="_blank" rel="noopener">iconv.7z</a></p><p>后面再加上自动上传就可以啦，很简单的一步式操作。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tool.bat -putfile D:\MonoLogueChi\Documents\Hexo\blog-<span class="built_in">md</span> &lt;你的桶名称&gt; -<span class="built_in">replace</span> true</span><br></pre></td></tr></table></figure><h2 id="写在后面的"><a class="markdownIt-Anchor" href="#写在后面的"></a> 写在后面的</h2><p>目前技术比较渣，暂时只能写到这样了，如果有什么更好的想法发话，欢迎在下面的评论区一起讨论。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;昨天给博客加了一个下载MarkDown文件的功能，原本是很简单的一件事，但是中间涉及到了很多麻烦东西，所以就决定简单记录以下。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>一点微小的改动</title>
    <link href="https://blog.xxwhite.com/2018/alittlechange.html"/>
    <id>https://blog.xxwhite.com/2018/alittlechange.html</id>
    <published>2018-01-29T13:02:01.000Z</published>
    <updated>2018-12-21T14:20:14.106Z</updated>
    
    <content type="html"><![CDATA[<p>虽然本站的速度已经能看得上了，但是追求极致的我，还是继续做着微小的改动。</p><a id="more"></a><p>本站是托管在又拍云上的静态网站，所以基础的东西就不需要我去做了，不得不说，对又拍云很满意，对于静态网站，尤其是个人博客的托管，比七牛要好很多，另外CDN服务有熟悉的也可以来反馈一下。</p><p>想要搞个人博客的可以尝试一下，平均每个月免费15G流量，包括https流量，足够大部分人使用了。<br><a href="https://console.upyun.com/register/?invite=B1Tr4zsVf" target="_blank" rel="noopener">注册又拍云账号</a></p><p>下面是正题</p><h2 id="ecc证书"><a class="markdownIt-Anchor" href="#ecc证书"></a> ECC证书</h2><p>以前用的COMODO的RSA证书，撸了一个免费三年的，相当棒，但是证书链相当的长。</p><p>薅羊毛别太狠了，我就是给我的两个域名各搞了一个泛域名证书。</p><p>虽然是野卡，但是有个小绿锁就不错了，而且有效期还是一年，稳不稳不知道，万一翻车了就再换回原来的吧 <a href="https://assl.space/" target="_blank" rel="noopener">薅羊毛</a>，<a href="https://www.chinassl.net/ssltools/generator-csr.html" target="_blank" rel="noopener">CSR在线生成工具</a></p><p>具体怎么做，看不懂的请用谷歌翻译，申请过程中需要邮箱，如果开了隐私保护，也就是whois查不到你的邮箱，可能会稍微有点麻烦，不想自己搭邮件服务的，可以尝试用一下腾讯企业邮箱。</p><p>换上新证书，又拍云也支持TLS1.3，唯一可惜的是不支持双证书，去测试一下看看</p><p><img src="https://s1.ax2x.com/2018/01/29/J7cH3.png" alt=""></p><p>这就是躺着上A+的感觉，我自己也尝试用Nginx建站，实测也可以上A+，不过另一个域名去搞飞机场了，就不放了，顺便打个广告，想建飞机场的可以来找我。另外说一句和本文没啥关系的，最近携带酸酸乳的小飞机被击落了很多，建议使用布鲁克或者V2雷等装备。</p><h2 id="资源压缩"><a class="markdownIt-Anchor" href="#资源压缩"></a> 资源压缩</h2><p>经过科学的分析，限制网站加载速度主要是等待事件，这个没办法，自己建站的话还可以尝试搞搞优化什么的，用别人的东西，算了吧。所以只能从另一方面下手，资源压缩。</p><p>本站使用的是Hexo博客，主题是Yilia，Yilia主题的话，JS和CSS资源压缩的不错，基本压不下去了，压了也没啥用，图片资源的话，倒是可以极限压缩一波（虽然也没啥卵用），例如：<br><img src="https://s1.ax2x.com/2018/01/29/JgyB3.png" alt=""></p><p>PNG图片压缩我推荐压缩工具<a href="http://nullice.com/limitPNG/" target="_blank" rel="noopener">limitPNG</a>，无损极限压缩，虽然速度非常非常非常的慢，但是效果是我见过最好的，注意，是无损压缩。</p><p>顺便再提一句，本站所有图片都是经过压缩的，不单单是那些公共资源，文章内的每一张图片都是我压缩之后才上传图床的，而且使用了一个比较靠谱的图床（虽然有点慢，但是很稳，主要事件都浪费在了TTFB上），所以图片资源加载的速度也说得过去。</p><p>JS和CSS资源经过压缩之后都只能缩减不到1K，所以就没有压缩的必要了。</p><p>另外，处于节约考虑，本站并不是所有资源都在又拍云上，有一部分在网易蜂巢的对象存储里，并且没有使用CDN加速，所以一部分资源加载会比较慢（但是对用户体验没什么实质上的影响）</p><p>下一步的话，想学学node.js，看看能不能对yilia主题做一些优化（估计很难），反正有这个想法，以后看看能不能实施吧。</p><h2 id="获取文章markdown文件"><a class="markdownIt-Anchor" href="#获取文章markdown文件"></a> 获取文章MarkDown文件</h2><p>最近<a href="https://www.xxwhite.com/2018/Clipboard.html" target="_blank" rel="noopener">强奸你的剪切板</a>一文被转载了好多，但是发现转载的排版实在是太乱了，而且经过特殊处理之后变成了禁止复制，这就很蛋疼了。</p><p>受到<a href="https://imququ.com/post/about.html" target="_blank" rel="noopener">Jerry Qu的小站</a>的启发，我决定把MarkDown原文发出来，供想要转载的朋友使用（估计本站这辈子也不会有几篇文章能火）。想要获取MarkDown原文链接，请往下翻。</p><h2 id="又拍云边缘规则重定向"><a class="markdownIt-Anchor" href="#又拍云边缘规则重定向"></a> 又拍云边缘规则重定向</h2><p>现在我已经把xxwhite.com重定向到www.xxwhite.com了，具体怎么做的请看我下面的操作</p><p>直接按照截图这样修改边缘规则就可以了<br><img src="https://s1.ax2x.com/2018/04/22/8BUbH.png" alt=""></p><p><strong>这里有个坑</strong>注意一下，就是跳转规则前面不能有break，我一开始把404规则放在第一个，但是怎么都不生效，最后把这个规则放第一个就好了</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;虽然本站的速度已经能看得上了，但是追求极致的我，还是继续做着微小的改动。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>强奸你的剪切板</title>
    <link href="https://blog.xxwhite.com/2018/Clipboard.html"/>
    <id>https://blog.xxwhite.com/2018/Clipboard.html</id>
    <published>2018-01-27T07:43:35.000Z</published>
    <updated>2019-02-09T03:05:28.074Z</updated>
    
    <content type="html"><![CDATA[<p>最近因为种种原因，经常有网页强奸你的手机剪切板，今天我们就来探究一下，这些网页究竟是怎么强奸你的剪切板的。</p><a id="more"></a><h2 id="起因"><a class="markdownIt-Anchor" href="#起因"></a> 起因</h2><p>事情的起因其实很奇怪，我昨天晚上去查资料的时候，无意中发现我的剪切板被强奸的，所以就仔细研究了一下这个东西。</p><p>本来我对JS也是一窍不通，这是我第二次写JS脚本，上一次是写那个跳转页面。如果本文有什么错误，欢迎大佬指正。</p><p>先说一下我访问的网页，菜鸟教程手机版<a href="https://m.runoob.com/" target="_blank" rel="noopener">https://m.runoob.com/</a></p><p>发现剪切板被强奸之后，我就去下载了一个剪切板监控插件<a href="https://www.coolapk.com/apk/com.chili.ClipboardManager" target="_blank" rel="noopener">https://www.coolapk.com/apk/com.chili.ClipboardManager </a></p><p>然后找到了一点线索<br><img src="https://s1.ax2x.com/2018/01/27/4unqR.md.png" alt=""></p><p><img src="https://s1.ax2x.com/2018/01/27/44IHl.md.png" alt=""></p><p>这里说明一下，显示的操作应用时系统web内核，其实时via调用了系统web内核，而这个复制操作又是在via浏览器中执行的，所以会提示web内核访问了剪切板。</p><h2 id="原理解析"><a class="markdownIt-Anchor" href="#原理解析"></a> 原理解析</h2><p>好了，元凶找到了，我们就要看看他是怎么作案的，手机浏览器调试不太方便，我就等到第二天到电脑上来看看。</p><p>首先打开网页，然后打开调试工具，然后重新刷新一下网页看看。</p><p>看看我找到了什么，果然是通过JS实现的<br><img src="https://s1.ax2x.com/2018/01/27/4432i.png" alt=""><br>这个clipboard.min.js就是用于实现复制文本到剪切板的，而且兼容性非常好。</p><p>好了，既然知道是怎么作案的，那就再往深了查一点，咱们看看index.html里都写了什么。</p><p>先把网页复制出来，然后搜索<code>clipboard</code>，找到相关的线索。<br><img src="https://s1.ax2x.com/2018/01/27/44DyX.png" alt=""><br>简单解释一下，他先通过<a href="https://m.runoob.com/api/codexx.php" target="_blank" rel="noopener">https://m.runoob.com/api/codexx.php</a>这个接口获取数据，你们有兴趣的可以自己去看一下，这个时候我得到的是</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"flag"</span>:<span class="literal">true</span>,<span class="attr">"ins_data"</span>:<span class="string">"\uffe5Sh7p0Osu3GO\uffe5"</span>&#125;</span><br></pre></td></tr></table></figure><p>然后接着往下看，接下来就是改变body的id和data-clipboard-text，这两步都是给接下来强奸你的剪切板做准备，然后就是强奸你剪切板的方法咯，再后面就是验证有没有强奸成功。</p><p>除此之外，还要判断你是不是移动设备，因为强奸你电脑的剪切板是完全没用的。</p><h2 id="验证一下"><a class="markdownIt-Anchor" href="#验证一下"></a> 验证一下</h2><p>看到别人剧本写的挺好的，难免想要验证一下，所以自己改了一个剧本</p><p><img src="https://s1.ax2x.com/2018/01/27/44J7N.png" alt=""></p><p>结果：<br><img src="https://s1.ax2x.com/2018/01/27/44WVn.md.png" alt=""></p><p>好了我已经可以成功强奸剪切板了。</p><h3 id="附代码"><a class="markdownIt-Anchor" href="#附代码"></a> 附代码</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"x-ua-compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>测试页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"copy"</span> <span class="attr">data-clipboard-text</span>=<span class="string">"测试剪切板"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>准备强奸</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        结束<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cat.net/ajax/libs/jquery/3.3.1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cat.net/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">     $(<span class="string">"body"</span>).onclick = copycode();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">copycode</span><span class="params">()</span></span></span></span><br><span class="line"><span class="undefined">    &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="regexp">/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i</span>.test(navigator.userAgent))</span></span><br><span class="line"><span class="undefined">        &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> clipboard = <span class="keyword">new</span> Clipboard(<span class="string">'#copy'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">            clipboard.on(<span class="string">'success'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(e)</span></span></span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="actionscript">                alert(<span class="string">"复制成功"</span>);</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="actionscript">            clipboard.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(e)</span></span></span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="actionscript">                alert(<span class="string">"复制失败"</span>);</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="写在后面的"><a class="markdownIt-Anchor" href="#写在后面的"></a> 写在后面的</h2><p>我很负责任的告诉你，当你看到这里时，你的手机剪切板八成已经被我强奸了。如果你对这篇文章感兴趣的话，可以支持我一下哟，点击下方赞赏，请我吃包辣条啥的都行。</p><p>关于网页中插入强奸剪切板代码这件事，我不反对，但是最起码要有个说明什么的，在显眼的位置说一下，我加了强奸剪切板的代码。</p><h3 id="附本文所用代码"><a class="markdownIt-Anchor" href="#附本文所用代码"></a> 附本文所用代码</h3><p>想用直接拿去用，我也不搞什么加密收费的，连我这个对JS一窍不通的都能捣鼓出来一个，原本很简单的一个东西，却要拿去收费，真TMZZ。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cat.net/ajax/libs/jquery/3.3.1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cat.net/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="string">"body"</span>).onclick = copycode();</span></span><br><span class="line"><span class="javascript">    $(<span class="string">"body"</span>).attr(<span class="string">"id"</span> ,<span class="string">"copy"</span>);</span></span><br><span class="line"><span class="javascript">    $(<span class="string">"body"</span>).attr(<span class="string">"data-clipboard-text"</span> ,<span class="string">"强奸你的剪切板 lieetD58G4"</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">copycode</span><span class="params">()</span></span></span></span><br><span class="line"><span class="undefined">    &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))</span></span></span><br><span class="line"><span class="undefined">        &#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> clipboard = <span class="keyword">new</span> Clipboard(<span class="string">'#copy'</span>);</span></span><br><span class="line"><span class="actionscript">            clipboard.on(<span class="string">'success'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(e)</span></span></span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">//alert("我强奸了你的剪切板");</span></span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="actionscript">            clipboard.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(e)</span></span></span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="comment">//alert("复制失败");</span></span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><script src="https://cdnjs.cat.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cat.net/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script><script>    $(".article-entry").onclick = copycode();    $(".article-entry").attr("id" ,"copy");    $(".article-entry").attr("data-clipboard-text" ,"magnet:?xt=urn:btih:469588C7A49D318EC314D56A791C1F4007945491");    function copycode()    {        //if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))        {            var clipboard = new Clipboard('#copy');            clipboard.on('success', function (e)            {                //alert("复制成功");            });            clipboard.on('error', function (e)            {                //alert("复制失败");            });        }    }</script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近因为种种原因，经常有网页强奸你的手机剪切板，今天我们就来探究一下，这些网页究竟是怎么强奸你的剪切板的。&lt;/p&gt;
    
    </summary>
    
    
      <category term="涨姿势" scheme="https://blog.xxwhite.com/tags/%E6%B6%A8%E5%A7%BF%E5%8A%BF/"/>
    
  </entry>
  
  <entry>
    <title>炎黄幼儿园</title>
    <link href="https://blog.xxwhite.com/2018/YHKindergarten.html"/>
    <id>https://blog.xxwhite.com/2018/YHKindergarten.html</id>
    <published>2018-01-21T14:54:58.000Z</published>
    <updated>2018-12-21T14:20:14.105Z</updated>
    
    <content type="html"><![CDATA[<p>筹办已久的炎黄幼儿园开课啦！！！</p><a id="more"></a><hr>        <div id="aplayer-XEJIywjx" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <pre class="aplayer-lrc-content"></pre>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-XEJIywjx"),            narrow: false,            autoplay: true,            showlrc: 3,            music: {              title: "大漠英雄",              author: "成龙",              url: "https://t1.aixinxi.net/o_1c4ckoamk6pt19d01bpi28r1rh0a.ogg",              pic: "",              lrc: "https://t1.aixinxi.net/o_1c4ckse89kial1s18ue13051p8qa.txt"            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script><hr><h2 id="园规"><a class="markdownIt-Anchor" href="#园规"></a> 园规</h2><ol><li>文明上网，不搞事情</li><li>文明上网，不搞事情</li><li>文明上网，不搞事情</li></ol><h2 id="办学宗旨"><a class="markdownIt-Anchor" href="#办学宗旨"></a> 办学宗旨</h2><p>PY小白，PY机佬</p><h2 id="初衷"><a class="markdownIt-Anchor" href="#初衷"></a> 初衷</h2><p>上面的那部分都是在瞎扯淡，我下面要说的才是有用的。<br>当初我搞这个微信公众号只是闲的没事，想搞一个玩玩，然后就这样玩下来了。<br>我的公众号的创办时间是2017年9月10日，很巧合的一个日期。<br>先简单介绍一下我的博客和公众号是干什么的，就是分享一些玩机技巧，从零开始教搞机。</p><p>刚才说从零开始教搞机，我以前也写过几篇教程，大概是一年半之前吧。我也想重新整理一下，再搞一套教程出来，但是发现现在搞机普及了，门槛也变高了，而且各家的门槛也不一样了，没有一个统一的办法跨过这道门槛，所以整理教程的事前我就暂时放下来了。<br>想找几个机油PY一下，一起写一点文章，尽量凑一个能看的“<font color="#00FF00">教科书</font>”出来.</p><h2 id="诚聘教师"><a class="markdownIt-Anchor" href="#诚聘教师"></a> 诚聘教师</h2><p><font color="#B22222"><b>幼儿园诚聘教师，工资面议，每月按时PY，如有意向，请将个人简历发邮件至园长邮箱。 </b></font></p><h2 id="招生方式"><a class="markdownIt-Anchor" href="#招生方式"></a> 招生方式</h2><h3 id="园长个人联系方式"><a class="markdownIt-Anchor" href="#园长个人联系方式"></a> 园长个人联系方式</h3><ul><li>酷安：<a href="https://www.coolapk.com/u/561054" target="_blank" rel="noopener">炎黄</a></li><li>个人博客：<a href="http://www.xxwhite.com" target="_blank" rel="noopener">www.xxwhite.com</a></li><li>BiliBili：<a href="https://space.bilibili.com/28474682/#/" target="_blank" rel="noopener">MonoLogueChi</a></li><li>邮箱：<a href="mailto:xxwhite@foxmail.com" target="_blank" rel="noopener">xxwhite@foxmail.com</a></li></ul><h2 id="报名流程"><a class="markdownIt-Anchor" href="#报名流程"></a> 报名流程</h2><p>关注微信公众号，或订阅本博客均可获取最新推送</p><p><img src="https://s1.ax2x.com/2018/01/21/pXvKh.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;筹办已久的炎黄幼儿园开课啦！！！&lt;/p&gt;
    
    </summary>
    
    
      <category term="搞机" scheme="https://blog.xxwhite.com/tags/%E6%90%9E%E6%9C%BA/"/>
    
      <category term="炎黄幼儿园" scheme="https://blog.xxwhite.com/tags/%E7%82%8E%E9%BB%84%E5%B9%BC%E5%84%BF%E5%9B%AD/"/>
    
  </entry>
  
  <entry>
    <title>一个页面跳转的小工具</title>
    <link href="https://blog.xxwhite.com/2018/PanHtml.html"/>
    <id>https://blog.xxwhite.com/2018/PanHtml.html</id>
    <published>2018-01-21T06:56:43.000Z</published>
    <updated>2018-12-21T14:20:14.104Z</updated>
    
    <content type="html"><![CDATA[<p>在分享文件的时候，经常会用到网盘，但是网盘链接一旦挂了，再去改链接就会很麻烦了。如果只发在了一个地方，那还好说，但如果一篇文章发在了很多地方，那还要每个地方去改链接，好麻烦啊。<br>正为了解决这个问题，我才做了这个小工具。</p><a id="more"></a><p>先举个栗子<br><a href="http://url.xxwhite.com?id=5a64230c9f5454007907ef7c" target="_blank" rel="noopener">我的博客</a></p><h2 id="需求"><a class="markdownIt-Anchor" href="#需求"></a> 需求</h2><p>我有一些分享的资源，原始链接挂掉了，但是又不想重新去改，所以就做了一个跳转页面，方便更改分享的链接。</p><p>其他不为人知的需求</p><h2 id="制作过程"><a class="markdownIt-Anchor" href="#制作过程"></a> 制作过程</h2><h3 id="原始方案"><a class="markdownIt-Anchor" href="#原始方案"></a> 原始方案</h3><h4 id="方案1"><a class="markdownIt-Anchor" href="#方案1"></a> 方案1</h4><p>使用 .net core + MySQL；</p><h4 id="方案2"><a class="markdownIt-Anchor" href="#方案2"></a> 方案2</h4><p>使用 js脚本 + LeanCloud；</p><h4 id="方案3"><a class="markdownIt-Anchor" href="#方案3"></a> 方案3</h4><p>使用 js脚本 + JSON文件；</p><p>综合比较三种方案，方案1原本是我最看好的，但是需要一个长期稳定的vps，所以pass了，没钱没办法。<br>方案2和方案3都不需要成本，但是方案2可拓展性比较高，可以做一个很方便的后端管理程序，方案3的话，做后端应该是可以的，但是肯定没有方案2方便。</p><h3 id="官方文档"><a class="markdownIt-Anchor" href="#官方文档"></a> 官方文档</h3><p>既然是使用了LeanCloud，那就先去看看人家官方文档吧。</p><p><a href="https://leancloud.cn/docs/leanstorage_guide-js.html" target="_blank" rel="noopener">https://leancloud.cn/docs/leanstorage_guide-js.html</a></p><p>说实话，这是我第一次写JS脚本，压力很大啊，这东西就是一窍不通啊。</p><h3 id="原理"><a class="markdownIt-Anchor" href="#原理"></a> 原理</h3><p>我使用了LeanCloud的数据存储功能，我创建了一个Class，这个Class增加一列“url”，专门用来保存链接。</p><p><img src="https://s1.ax2x.com/2018/01/21/bkI1H.png" alt=""></p><p>单独做一个页面，每次访问这个页面时自动获取网址参数，然后查询到相应的链接，然后跳转访问，就是这么简单。</p><h3 id="开始撸吧"><a class="markdownIt-Anchor" href="#开始撸吧"></a> 开始撸吧</h3><p>首先是要获取网址参数，我根本没写过js，所以只能靠百度咯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetQueryString</span>(<span class="params">name</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(^|&amp;)"</span> + name + <span class="string">"=([^&amp;]*)(&amp;|$)"</span>);</span><br><span class="line">    <span class="keyword">var</span> r = <span class="built_in">window</span>.location.search.substr(<span class="number">1</span>).match(reg);</span><br><span class="line">    <span class="keyword">if</span> (r != <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">unescape</span>(r[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>纯复制粘贴，毫无手打。</p><p>然后需要引入LeanCloud的SDK</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn1.lncld.net/static/js/3.5.0/av-min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> APP_ID = <span class="string">''</span>;</span><br><span class="line"><span class="keyword">var</span> APP_KEY = <span class="string">''</span>;</span><br><span class="line">AV.init(&#123;</span><br><span class="line">    appId: APP_ID,</span><br><span class="line">    appKey: APP_KEY</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>前面一切顺利，然后看LeanCloud官方文档，找到查询方法。<br>这里顺便提一句，我最开始是单独创建了一列“hurl”来充当网址参数的，但是发现这样就是多此一举，自己搞个参数，一旦一不小心重复了怎么办？还不如直接用objectId当参数呢。但是直接用objectId作为参数也有不方便的地方，就是删除这条分享之后，以后不能再补一条一样的链接出来，因为objectId是随机产生的，并且是不会重复的。<br>废话不多说，直接撸代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> id = GetQueryString(<span class="string">"id"</span>);</span><br><span class="line"><span class="keyword">var</span> query = <span class="keyword">new</span> AV.Query(<span class="string">''</span>);</span><br><span class="line">query.get(id).then(<span class="function"><span class="keyword">function</span> (<span class="params">xxwhiteurl</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url = xxwhiteurl.get(<span class="string">'url'</span>);</span><br><span class="line">    <span class="built_in">window</span>.onload = <span class="built_in">window</span>.location.href = url;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>代码写的好丑啊，写完了都不敢看。</p><h3 id="完整实例"><a class="markdownIt-Anchor" href="#完整实例"></a> 完整实例</h3><p>把完整实例贴出来，如果有人想用的话可以先尝试一下</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">""</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>页面跳转中<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn1.lncld.net/static/js/3.5.0/av-min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">GetQueryString</span><span class="params">(name)</span></span></span></span><br><span class="line"><span class="undefined">    &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(^|&amp;)"</span> + name + <span class="string">"=([^&amp;]*)(&amp;|$)"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> r = <span class="built_in">window</span>.location.search.substr(<span class="number">1</span>).match(reg);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (r != <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">unescape</span>(r[<span class="number">2</span>]);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="literal">null</span>;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> APP_ID = <span class="string">'你的APP_ID'</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> APP_KEY = <span class="string">'你的APP_KEY'</span>;</span></span><br><span class="line"><span class="undefined">    AV.init(&#123;</span></span><br><span class="line"><span class="undefined">        appId: APP_ID,</span></span><br><span class="line"><span class="undefined">        appKey: APP_KEY</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> id = GetQueryString(<span class="string">"id"</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> query = <span class="keyword">new</span> AV.Query(<span class="string">'你的存储链接的Class名称'</span>);</span></span><br><span class="line"><span class="actionscript">    query.get(id).then(<span class="function"><span class="keyword">function</span> <span class="params">(xxwhiteurl)</span></span></span></span><br><span class="line"><span class="undefined">    &#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> url = xxwhiteurl.get(<span class="string">'url'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload = <span class="built_in">window</span>.location.href = url;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="后续"><a class="markdownIt-Anchor" href="#后续"></a> 后续</h2><p>目前完成度 10%，下一步打算看看能不能做个后端出来，如果把后端做出来，再看看能不能弄个用户管理系统出来，如果可以把用户管理系统做出来，完成度基本就能达到90%了。</p><p>我一个完全不懂js的渣渣只能看着官方文档一步一步的摸索了，等完全做出来，我在小范围分享试用一下吧。</p><p>如果有什么想法，或者是有什么指教，欢迎在下面的评论区指出。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在分享文件的时候，经常会用到网盘，但是网盘链接一旦挂了，再去改链接就会很麻烦了。如果只发在了一个地方，那还好说，但如果一篇文章发在了很多地方，那还要每个地方去改链接，好麻烦啊。&lt;br&gt;
正为了解决这个问题，我才做了这个小工具。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
      <category term="小工具" scheme="https://blog.xxwhite.com/tags/%E5%B0%8F%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>关于Hexo的一些小问题</title>
    <link href="https://blog.xxwhite.com/2018/HexoKeng.html"/>
    <id>https://blog.xxwhite.com/2018/HexoKeng.html</id>
    <published>2018-01-20T04:11:27.000Z</published>
    <updated>2018-12-21T14:20:14.102Z</updated>
    
    <content type="html"><![CDATA[<p>这里记录了使用Hexo博客的一些小问题（坑），如果刚刚开始使用Hexo博客的，建议看一下这篇文章，以后遇到的问题我也会加在这里面的。</p><a id="more"></a><h2 id="hexo"><a class="markdownIt-Anchor" href="#hexo"></a> Hexo</h2><h3 id="hexo安装和使用"><a class="markdownIt-Anchor" href="#hexo安装和使用"></a> Hexo安装和使用</h3><p>搭建过程，详情见标签<code>建站笔记</code></p><p>常用命令</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo</span> g          <span class="comment">#生成静态页面，在pubilc文件夹中</span></span><br><span class="line">hexo s          <span class="comment">#启动hexo服务，可以在本地预览</span></span><br><span class="line">hexo clean      <span class="comment">#清除生成的静态文件，也就是删除public文件夹</span></span><br></pre></td></tr></table></figure><h3 id="hexo写作"><a class="markdownIt-Anchor" href="#hexo写作"></a> Hexo写作</h3><p>文件开头属性</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">关于Hexo的一下小问题</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2018</span><span class="bullet">-01</span><span class="bullet">-20</span> <span class="number">12</span><span class="string">:11:27</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">[建站笔记,涨姿势]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">true</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>可以自定义的属性有很多，这里是用yaml语法写的，具体怎么用可以百度，有哪些参数可以定义，我也不知道，因为Hexo本省就有很多可以定义的东西，再加上不同的主题，我也不知道有哪些。</p><h3 id="多标签"><a class="markdownIt-Anchor" href="#多标签"></a> 多标签</h3><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tags:</span> [建站笔记,涨姿势]</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tags:</span> </span><br><span class="line">    - 建站笔记</span><br><span class="line">    - 涨姿势</span><br></pre></td></tr></table></figure><h3 id="description"><a class="markdownIt-Anchor" href="#description"></a> description</h3><p>前面说了yaml语法了，那么description怎么写应该就很简单了</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">description: </span><br><span class="line">  <span class="number">1</span></span><br><span class="line">  <span class="number">2</span></span><br><span class="line">  <span class="number">3</span></span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">description: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure><h2 id="yilia主题"><a class="markdownIt-Anchor" href="#yilia主题"></a> Yilia主题</h2><h3 id="自定义畅言评论样式"><a class="markdownIt-Anchor" href="#自定义畅言评论样式"></a> <s>自定义畅言评论样式</s></h3><p>博客已更换为Valine评论<br>修改CSS，具体可百度</p><h3 id="使用valine评论"><a class="markdownIt-Anchor" href="#使用valine评论"></a> 使用Valine评论</h3><p><a href="http://www.xxwhite.com/2017/Valine.html" target="_blank" rel="noopener">https://www.xxwhite.com/2017/Valine.html</a></p><h3 id="js文件"><a class="markdownIt-Anchor" href="#js文件"></a> Js文件</h3><p>这个纯碎是为了薅羊毛，我把一些文件放在了网易的对象存储上，那边有20G免费流量，又拍云这边有免费15G流量，如果一个闲着不用就有些浪费了。</p><p>虽然没有使用CDN，直接裸连速度也是够的，而且不需要等那边的文件加载完就可以正常渲染网页，并不会影响用户体验。</p><h2 id="文件编码方式"><a class="markdownIt-Anchor" href="#文件编码方式"></a> 文件编码方式</h2><p>今天是2018年1月31日，今天终于解决了困扰我好久的一个问题——网站一些位置不支持中文。</p><p>这特么是个神坑啊，我特么知道原因之后都想抽自己两巴掌。</p><p>我修改Hexo配置文件和做一些微小的改动，都是直接拿notepad2去改的，因为我NotePad2没设置好，很多文件打开变成了<code>ANSI</code>编码，这就造成了中文不能被正确解析，只需要把文件转换成<code>UTF-8</code>编码就可以了，遇到相同情况的朋友可以尝试一下。</p><h2 id="写在后面的"><a class="markdownIt-Anchor" href="#写在后面的"></a> 写在后面的</h2><p>有些地方修改完了就忘记哪里修改过了，想起来就会接着写的。还有，以后发现其他的坑，也会接着写在这里的。</p><p>如果大家发现了比较坑人的地方，欢迎在下面的评论区交流。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这里记录了使用Hexo博客的一些小问题（坑），如果刚刚开始使用Hexo博客的，建议看一下这篇文章，以后遇到的问题我也会加在这里面的。&lt;/p&gt;
    
    </summary>
    
    
      <category term="建站笔记" scheme="https://blog.xxwhite.com/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/"/>
    
      <category term="涨姿势" scheme="https://blog.xxwhite.com/tags/%E6%B6%A8%E5%A7%BF%E5%8A%BF/"/>
    
  </entry>
  
  <entry>
    <title>如何优雅的将DWG图纸打印成为PDF文件</title>
    <link href="https://blog.xxwhite.com/2018/DwgToPdf.html"/>
    <id>https://blog.xxwhite.com/2018/DwgToPdf.html</id>
    <published>2018-01-15T07:36:21.000Z</published>
    <updated>2018-12-21T14:20:14.100Z</updated>
    
    <content type="html"><![CDATA[<p>这两天有同学问我怎么将CAD图纸打印成PDF文档，我这里就简单的记录一下，怎么制作图册。</p><a id="more"></a><h2 id="dwg图纸打印成pdf文件"><a class="markdownIt-Anchor" href="#dwg图纸打印成pdf文件"></a> DWG图纸打印成PDF文件</h2><p>第一步就是将图纸打印成单个的PDF文件，这一步不算麻烦，但是有几个坑我需要提醒一下，免得在下一步造成不必要的麻烦。</p><p>打印方式就用最简单的方法，单张打印，批量打印的话需要制图有一定的规范，反而会变得更麻烦。</p><p>用AutoCAD打开图纸，然后按<code>Ctrl+P</code>打印图纸。</p><h3 id="打印设置"><a class="markdownIt-Anchor" href="#打印设置"></a> 打印设置</h3><p>打印界面按照这张图配置就好：<br><img src="https://s1.ax2x.com/2018/01/15/MQR6a.png" alt=""><br>如果说低版本的CAD，就按照这个来：<br><img src="https://s1.ax2x.com/2018/01/15/MQoMS.png" alt=""></p><p>居中打印和布满图纸这两个一定要勾选上，图形方向要选择和图纸一致的，不确定的话可以预览一下，如果没有右边那一栏的话，就点右下角那个小箭头按钮显示出来。</p><h3 id="pdf选项"><a class="markdownIt-Anchor" href="#pdf选项"></a> PDF选项</h3><p>另外，PDF选项建议不要勾选<code>创建书签</code>，因为这里创建书签之后，合并图册的时候会稍微麻烦一点。<br><img src="https://s1.ax2x.com/2018/01/15/MWuUp.png" alt=""></p><h3 id="文件命名"><a class="markdownIt-Anchor" href="#文件命名"></a> 文件命名</h3><p>设置完成之后用预览看一下，没问题的话就按<code>确定</code>打印就可了。</p><p>打印文件命名建议直接使用图纸编号，这样可以方便等下创建图册。<br><img src="https://s1.ax2x.com/2018/01/15/MW4n3.png" alt=""></p><hr><h2 id="合并图册"><a class="markdownIt-Anchor" href="#合并图册"></a> 合并图册</h2><p>我制作图册使用的工具主要是Adobe Acrobat，这东西功能很强大，但是正版贼贵，所以只能试用一下了。应该也有其他类似的工具，这里就不多啰嗦了。</p><p>制作图册这里讲的可能有点麻烦了，可能一般要求没有这么高，但是对自己要求高一点没坏处，别人也不容易挑出刺来。</p><h3 id="合并小图册"><a class="markdownIt-Anchor" href="#合并小图册"></a> 合并小图册</h3><p>按照习惯，先合并小图册，就是把相同类型的图纸合并到同一个小图册里。比如PFD图合在一起，PID图合在一起，设备装配图合在一起。</p><p>这样做有什么好处呢？书签整理方便，而且图层也特别清晰。</p><p>要怎么做，看图：<br><img src="https://s1.ax2x.com/2018/01/15/Mdlvn.gif" alt=""><br>先选中文件，然后用右键菜单合并，再看看有没有需要调整顺序的，如果顺序没错的话，就直接点<code>合并</code>按钮，然后<code>Ctrl+S</code>保存文件。</p><h3 id="制作图册"><a class="markdownIt-Anchor" href="#制作图册"></a> 制作图册</h3><p>当把小图册都制作完了，封面目录也都做好了，就可以制作图册了。</p><p>按照同样的方法合并<br><img src="https://s1.ax2x.com/2018/01/15/Md8lE.png" alt=""></p><h3 id="书签目录"><a class="markdownIt-Anchor" href="#书签目录"></a> 书签目录</h3><p>合并完成之后看一下书签有没有需要修改的地方<br><img src="https://s1.ax2x.com/2018/01/15/MdfFQ.png" alt=""></p><p>如果书签也没问题的话，再给目录加上链接就OK啦<br><img src="https://s1.ax2x.com/2018/01/15/MdxAa.gif" alt="MdxAa.gif"></p><p>添加链接方法：选中文字，调出右键菜单，创建链接，然后就按图配置就行了，然后翻到自己想要设置链接的页面，点击设置链接就可以了，剩下的就是重复这一项工作。</p><h2 id="再检查一遍"><a class="markdownIt-Anchor" href="#再检查一遍"></a> 再检查一遍</h2><p>最后一定要再检查一遍，自己查出错来和别人查出错来完全那就完全不一样了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这两天有同学问我怎么将CAD图纸打印成PDF文档，我这里就简单的记录一下，怎么制作图册。&lt;/p&gt;
    
    </summary>
    
    
      <category term="涨姿势" scheme="https://blog.xxwhite.com/tags/%E6%B6%A8%E5%A7%BF%E5%8A%BF/"/>
    
  </entry>
  
  <entry>
    <title>50年后要看的文章</title>
    <link href="https://blog.xxwhite.com/2018/50YearsLater.html"/>
    <id>https://blog.xxwhite.com/2018/50YearsLater.html</id>
    <published>2018-01-13T09:30:07.000Z</published>
    <updated>2018-12-21T14:20:14.097Z</updated>
    
    <content type="html"><![CDATA[<p>刚才在V站看到一篇有意思的帖子，说100年后的人们会不会看到现在咱们发的东西。</p><a id="more"></a><hr>    <div id="aplayer-cvVlaFhU" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="004KvnQu2AnzoV" data-server="tencent" data-type="song" data-mode="circulation" data-autoplay="false" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"></div><hr><p><img src="https://s1.ax2x.com/2018/01/13/G8y1G.png" alt=""></p><p>原文链接：<a href="https://www.v2ex.com/t/422579" target="_blank" rel="noopener">https://www.v2ex.com/t/422579</a></p><p>在这立一个Flag，100年太长，50年之后再去考古，看看V站还在不在。</p><h2 id="一点感慨"><a class="markdownIt-Anchor" href="#一点感慨"></a> 一点感慨</h2><p>科技发展的速度是很快，各大网站的数据能不能保存50年我不知道，我的小站能不能撑50年我也不知道，博客用的图床能不能撑50年我不知道，用的评论能不能撑50年更不知道。</p><p>尽力撑下去吧，等我老了就当是翻日记了。可惜我从小就没有记日记的习惯，记日记也是从大学开始的，如果以前就一直记日记那该有多好啊。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;刚才在V站看到一篇有意思的帖子，说100年后的人们会不会看到现在咱们发的东西。&lt;/p&gt;
    
    </summary>
    
    
      <category term="随便水水" scheme="https://blog.xxwhite.com/tags/%E9%9A%8F%E4%BE%BF%E6%B0%B4%E6%B0%B4/"/>
    
  </entry>
  
  <entry>
    <title>使用JetBrains Rider作为Unity的IDE</title>
    <link href="https://blog.xxwhite.com/2018/UseJB.html"/>
    <id>https://blog.xxwhite.com/2018/UseJB.html</id>
    <published>2018-01-10T16:10:27.000Z</published>
    <updated>2019-02-02T13:57:34.817Z</updated>
    
    <content type="html"><![CDATA[<p>今天看到Unity官方微信公众号推送消息</p><blockquote><p>从Unity 2018.1开始，我们将不再把MonoDevelop-Unity与Unity一起捆绑发行，并且在Unity 2018.1及后续版本中，将不再支持使用MonoDevelop-Unity进行开发。</p></blockquote><a id="more"></a><h2 id="事情的起因"><a class="markdownIt-Anchor" href="#事情的起因"></a> 事情的起因</h2><blockquote><p><a href="http://xn--Unity-9n1hj76v8l9b.NET" target="_blank" rel="noopener">随着Unity中.NET</a> 4.6脚本运行库(当前处于实验阶段)的升级，我们开始支持C# 6.0及更高版本中所提供的许多令人兴奋的全新C#特性。与此同时，为这些新的C#特性提供一个相匹配的良好IDE体验，对于我们来说也十分重要。<br>现在与Unity一同发行的MonoDevelop-Unity 5.9.6并不支持最新的C#特性，<a href="http://xn--Unity-ni1hsb05bs64dgwqvylklgik7d.NET" target="_blank" rel="noopener">并且也不支持在Unity的.NET</a> 4.6脚本运行时中调试C#脚本。为此我们将做出二项改变。</p><ol><li>在MacOS和Windows上，移除Unity 2018.1中的MonoDevelop-Unity 5.9.6安装程序，并从Unity 2018.1开始，不在支持使用它进行Unity开发。</li><li>在Unity 2018.1中，仅将Visual Studio for Mac作为MacOS上的唯一C# IDE。在Windows上，我们将继续保留Visual Studio 2017 Community，并不再将MonoDevelop-Unity作为可选项。<br>自Unity 5.6.1开始，Visual Studio for Mac已集成 Unity插件，即支持最新的C#特性，<a href="http://xn--for81f7vo08b.NET" target="_blank" rel="noopener">又支持在.NET</a> 4.6脚本运行时上调试C#脚本。MacOS上的MonoDevelop-Unity用户可以下载并安装Visual Studio for Mac，并即刻开始使用。</li></ol></blockquote><p>上面这一段内容挺长，大概总结起来就说，从下个版本开始，Unity将不会捆绑MonoDevelop-Unity，Visual Studio将会成为官方指定IDE。<br>额，这是普天同庆吗，早就受不了MonoDevelop了，这东西真的不好用，不少新人还都要用这个。至于宇宙最强IDE <code>Visual Studio</code> ，虽然用了很长时间，但是这个东西启动是真的慢，而且不装JB插件（JetBrains ReSharper）裸奔的话，也不太好用。</p><p>在Unity官方微信公众号推文里，还意外的发现了</p><blockquote><p>除了Visual Studio for Mac和Visual Studio 2017 Community之外，现在还有一些其它的C# IDE替代品可用。</p><ol><li>Visual Studio Code (Windows, macOS, Linux)；</li><li>JetBrains Rider (Windows, macOS, Linux)。</li></ol></blockquote><p>WTF？朕的大清亡了？JB家还有C#的IDE？看来有必要搞一下了。</p><h2 id="安装过程"><a class="markdownIt-Anchor" href="#安装过程"></a> 安装过程</h2><h3 id="下载"><a class="markdownIt-Anchor" href="#下载"></a> 下载</h3><p>下载就不必多说了，随便百度一下就有一堆的。找到官网去下载就好，这里给贴出来一个下载地址：</p><p><a href="https://www.jetbrains.com/dotnet/promo/unity/" target="_blank" rel="noopener">https://www.jetbrains.com/dotnet/promo/unity/</a></p><h3 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h3><p>安装过程也不难，按照步骤点下一步就行了，建议安装在C盘，不差这点空间的。选择你想要的界面，到最后一步是需要你激活或者试用，可以免费试用30天。如果你想要激活的话，价格也不便宜，当然也可以用学生账户，当然如果想偷着用的话，请百度怎么激活，至于我的激活方法，也就不透露了。</p><p>最常用的激活方式：<br><img src="https://s1.ax2x.com/2018/01/11/jTNrq.png" alt=""></p><h3 id="student-license"><a class="markdownIt-Anchor" href="#student-license"></a> Student License</h3><p>如果是大学生的话，可以用edu邮箱申请Student License免费使用，下面简单介绍一下申请流程。</p><ul><li>首先在这个页面申请 <a href="https://www.jetbrains.com/zh/student/" target="_blank" rel="noopener">https://www.jetbrains.com/zh/student/</a></li><li>填写申请信息<br><img src="https://s1.ax2x.com/2018/01/11/jM1sJ.png" alt=""></li><li>等那边发邮件确认，这个有一定的延时，注意一下是不是被判为垃圾邮件了。收到邮件之后点链接过去确认。确认之后，过一会就会再发邮件过来邀请你注册账号，这个时候通过邮件的链接过去注册一个账号，就可以使用Student License了<br><img src="https://s1.ax2x.com/2018/01/11/jMIjp.png" alt=""><br><img src="https://s1.ax2x.com/2018/01/11/jMtq6.png" alt=""></li><li>最后用Student License激活就可以了（最后这个贴的不是Rider的图）。<br><img src="https://s1.ax2x.com/2018/01/11/jMKBl.png" alt=""></li></ul><h2 id="unity里使用jb-rider"><a class="markdownIt-Anchor" href="#unity里使用jb-rider"></a> Unity里使用JB Rider</h2><p>上面说了怎么安装JB，这里说一下怎么在Unity里用JB（以64位Win10装的Unity2017.3为例）。</p><ul><li>在<code>Edit-Preferences</code>里找到<code>External Tools</code>，然后选择脚本编辑工具<code>External Script Editor</code>；</li><li>选择最后一项<code>Browse</code>，然后找到Rider的安装位置，我的是在<code>C:\Program Files\JetBrains\JetBrains Rider 2017.3\bin</code>，然后选择<code>rider64.exe</code>；</li><li>稍微等电脑反应一下，就大功告成了，第一次打开Riders的时候会提示加载Unity资源包。</li></ul><p>放张图欣赏一下吧</p><p><img src="https://s1.ax2x.com/2018/01/11/GDCs9.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天看到Unity官方微信公众号推送消息&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;从Unity 2018.1开始，我们将不再把MonoDevelop-Unity与Unity一起捆绑发行，并且在Unity 2018.1及后续版本中，将不再支持使用MonoDevelop-Unity进行开发。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="Unity" scheme="https://blog.xxwhite.com/tags/Unity/"/>
    
  </entry>
  
</feed>
