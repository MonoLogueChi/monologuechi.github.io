<div id="vcomment"></div>
<script>
    loadScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js',function(){
        new Valine({
            el: '#vcomment',
            notify: <%= theme.valine.notify %>,
            verify: <%= theme.valine.verify %>,
            appId: '<%= theme.valine.appid %>',
            appKey: '<%= theme.valine.appkey %>',
            placeholder: '<%= theme.valine.placeholder %>',
            avatar: '<%= theme.valine.avatar %>',
            avatar_cdn: '<%= theme.valine.avatar_cdn %>',
            pageSize: <%= theme.valine.pageSize %>,
            path: '<%- url_for(post.path) %>',
            visitor: <%= theme.valine.visitor %>,
            recordIP: <%= theme.valine.recordIP %>
        });
        if(window.location.hash){
          var checkExist = setInterval(function() {
            if (document.getElementById(window.location.hash.replace("#",""))) {
              location.href = window.location.hash;
              clearInterval(checkExist);
            }
          }, 250);
        }
    });
</script>