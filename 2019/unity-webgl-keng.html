<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="renderer" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="dns-prefetch" href="https://blog.xxwhite.com"><link rel="preconnect" href="//cdn.jsdelivr.net"><title>Unity WebGL平台开发遇到的坑 | 叉叉白</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="最近在用 Unity 做一个 WebGL 平台的项目，开发过程中遇到了各种各样的坑，这里简单记录一下，以免以后再踩。"><meta property="og:type" content="article"><meta property="og:title" content="Unity WebGL平台开发遇到的坑"><meta property="og:url" content="https://blog.xxwhite.com/2019/unity-webgl-keng.html"><meta property="og:site_name" content="叉叉白"><meta property="og:description" content="最近在用 Unity 做一个 WebGL 平台的项目，开发过程中遇到了各种各样的坑，这里简单记录一下，以免以后再踩。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://s2.ax1x.com/2019/04/29/E1c9i9.png"><meta property="article:published_time" content="2019-04-29T20:48:35.000Z"><meta property="article:modified_time" content="2021-03-25T02:35:30.816Z"><meta property="article:author" content="MonoLogueChi"><meta property="article:tag" content="Unity"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://s2.ax1x.com/2019/04/29/E1c9i9.png"><link rel="alternative" href="/atom.xml" title="叉叉白" type="application/atom+xml"><link rel="icon" href="/assets/img/favicon.png"><link rel="stylesheet" href="/assets/./main.18a6af.css"><style type="text/css">#container.show{background:linear-gradient(200deg,#a0cfe4,#e8c37e)}</style><script>function loadScript(e,t){d=document,o=d.createElement("script"),s=d.getElementsByTagName("head")[0].appendChild(o),o.setAttribute("src",e),t&&o.addEventListener("load",function(e){t(e)}),s.parentNode.insertBefore(o,s)}</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="container" q-class="show:isCtnShow"><canvas id="anm-canvas" class="anm-canvas"></canvas><div class="left-col" q-class="show:isShow"><div class="overlay" style="background:#4d4d4d"></div><div class="intrude-less"><header id="header" class="inner"><a href="" class="profilepic"><img src="/assets/img/avatar.jpg" class="js-avatar"></a><hgroup><h1 class="header-author"><a href=""></a></h1></hgroup><nav class="header-menu"><ul><li><a href="/">主页</a></li><li><a href="/tags/%E6%90%9E%E6%9C%BA/">搞机</a></li><li><a href="/MessageBoard/">留言</a></li><li><a href="/aboutme/">关于</a></li><li><a href="/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/">笔记</a></li><li><a href="/tags/timeline/">时光</a></li></ul></nav><nav class="header-smart-menu"><a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)" target="_self">所有文章</a> <a q-on="click: openSlider(e, 'friends')" href="javascript:void(0)" target="_self">友链</a> <a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)" target="_self">关于本站</a></nav><nav class="header-nav"><div class="social"><a class="rss" target="_blank" href="/atom.xml" title="rss"><i class="icon-rss"></i></a> <a class="github" target="_blank" href="https://github.com/MonoLogueChi" title="github"><i class="icon-github"></i></a> <a class="qq" target="_blank" href="/assets/html/qq-groups.html" title="qq"><i class="icon-qq"></i></a> <a class="bilibili" target="_blank" href="https://space.bilibili.com/28474682/" title="bilibili"><i class="icon-bilibili"></i></a> <a class="mail" target="_blank" href="mailto:xxwhite@foxmail.com" title="mail"><i class="icon-mail"></i></a></div></nav></header></div></div><div class="mid-col" q-class="show:isShow,hide:isShow|isFalse"><nav id="mobile-nav"><div class="overlay js-overlay" style="background:#4d4d4d"></div><div class="btnctn js-mobile-btnctn"><div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div></div><div class="intrude-less"><header id="header" class="inner"><div class="profilepic"><a href="/"><img src="/assets/img/avatar.jpg" class="js-avatar"></a></div><hgroup><h1 class="header-author js-header-author"></h1></hgroup><nav class="header-nav"><div class="social"><a class="rss" target="_blank" href="/atom.xml" title="rss"><i class="icon-rss"></i></a> <a class="github" target="_blank" href="https://github.com/MonoLogueChi" title="github"><i class="icon-github"></i></a> <a class="qq" target="_blank" href="/assets/html/qq-groups.html" title="qq"><i class="icon-qq"></i></a> <a class="bilibili" target="_blank" href="https://space.bilibili.com/28474682/" title="bilibili"><i class="icon-bilibili"></i></a> <a class="mail" target="_blank" href="mailto:xxwhite@foxmail.com" title="mail"><i class="icon-mail"></i></a></div></nav><nav class="header-menu js-header-menu"><ul style="width:70%"><li style="width:16.666666666666668%"><a href="/">主页</a></li><li style="width:16.666666666666668%"><a href="/tags/%E6%90%9E%E6%9C%BA/">搞机</a></li><li style="width:16.666666666666668%"><a href="/MessageBoard/">留言</a></li><li style="width:16.666666666666668%"><a href="/aboutme/">关于</a></li><li style="width:16.666666666666668%"><a href="/tags/%E5%BB%BA%E7%AB%99%E7%AC%94%E8%AE%B0/">笔记</a></li><li style="width:16.666666666666668%"><a href="/tags/timeline/">时光</a></li></ul></nav></header></div><div class="mobile-mask" style="display:none" q-show="isShow"></div></nav><div id="wrapper" class="body-wrap"><div class="menu-l"><div class="canvas-wrap"><canvas data-colors="#eaeaea" data-sectionheight="100" data-contentid="js-content" id="myCanvas1" class="anm-canvas"></canvas></div><div id="js-content" class="content-ll"><article id="post-2019/unity-webgl-keng" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">Unity WebGL平台开发遇到的坑</h1><a href="/2019/unity-webgl-keng.html" class="archive-article-date"><time datetime="2019-04-29T20:48:35.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-04-29</time></a></header><div class="article-entry" itemprop="articleBody"><p>最近在用 Unity 做一个 WebGL 平台的项目，开发过程中遇到了各种各样的坑，这里简单记录一下，以免以后再踩。</p><span id="more"></span><h2 id="WebRequest-请求（异步的问题）">WebRequest 请求（异步的问题）<a class="header-anchor" href="#WebRequest-请求（异步的问题）">➴</a></h2><p>首先是 Http 请求的问题，我最开始想的是，直接用 C#里的写法，编辑器里测试毫无问题，但是一打包出来就不行，会报出 <code>SystemException: Thread creation failed.</code> 的错误，无奈只能用 Unity 自己的 <code>UnityWebRequest</code>。</p><p>错误的示范 0：</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">WrongGet</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> (HttpClient httpClient = <span class="keyword">new</span> HttpClient())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> text = httpClient.GetStringAsync(<span class="string">&quot;https://www.baidu.com/艹&quot;</span>).Result;</span><br><span class="line">        Debug.Log(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>错误的示范 1：</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">WrongGet</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> (WebClient webClient = <span class="keyword">new</span> WebClient())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> text = webClient.DownloadString(<span class="string">&quot;https://www.baidu.com/艹&quot;</span>);</span><br><span class="line">        Debug.Log(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样写后果会比上面这种更严重，整个程序直接崩溃</p><p><img src="https://s2.ax1x.com/2019/04/29/E1c9i9.png" alt="后果"></p><p>正确的示范：</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> IEnumerator <span class="title">Get</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> (<span class="keyword">var</span> webRequest = UnityWebRequest.Get(<span class="string">&quot;https://www.baidu.com/艹&quot;</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">return</span> webRequest.SendWebRequest();</span><br><span class="line">        <span class="keyword">if</span> (!webRequest.isNetworkError &amp;&amp; !webRequest.isHttpError)</span><br><span class="line">            Debug.Log(webRequest.downloadHandler.text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>感觉这是异步的问题，因为 js 是单线程的。</p><p><strong>如果确定要打包 WebGL 平台，就不要用异步，用协程比较稳，另外，尽量用 Unity 自己的那一套东西</strong></p><h2 id="SSL-证书">SSL 证书<a class="header-anchor" href="#SSL-证书">➴</a></h2><p>这个不知道是什么鬼问题，Unity 编辑器不支持 ECC 证书？还是其他什么问题，测试是在我的服务器上测试的，我的服务器配的是 ECC 证书，最开始在我的电脑上是不支持的，一直报错，后来不知道发生了什么，竟然莫名奇妙的支持了，这件事也就网了，但是后面代码合并的时候，到我同事的电脑上，又出现了这个问题，没办法，只能暂时先用 http 顶着了，后面再说申请 RSA 证书的事。</p><p>到后面打包出来测试的时候，又出问题了，里面的资源已经数据请求，都是用的 http 协议，但是我最后访问页面的时候，用的是 https 协议，https 页面里，会阻断不安全的 http 请求，没办法，RSA 证书的事提上日程，先搞定。</p><p><strong>Unity Editor 中发起 https 请求，如果后端是 RSA 证书没问题，后端是 ECC 证书可能会出问题</strong></p><h2 id="JSON">JSON<a class="header-anchor" href="#JSON">➴</a></h2><p>接下来是 JSON 序列化和反序列化，一提到 JSON，最先想到的是 <code>JSON.NET库</code>，也就是<code>Newtonsoft.Json</code>库。用这个没毛病，从 nuget 上下载下来，然后把 dll 文件拖进去，OK。在编辑器里一切都没问题，但是一打包成网页就出问题。</p><p>什么问题呢？写一段正常的代码</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> json = <span class="string">&quot;json字符串&quot;</span>;</span><br><span class="line">Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; dic = JsonConvert.DeserializeObject&lt;Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt;&gt;(json);</span><br></pre></td></tr></table></figure><p>这样没毛病，一切 OK，但是要按照下面这样写，就会踩雷</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Dic</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> code &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> Dictionary&lt;<span class="built_in">string</span>, <span class="built_in">string</span>&gt; data &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Dic <span class="title">DeDic</span>(<span class="params"><span class="built_in">string</span> json</span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        <span class="keyword">return</span> JsonConvert.DeserializeObject&lt;Dic&gt;(json);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果是按照上面这样写，恭喜你，打包出来的东西肯定报错，反序列化得到的全都是 null。</p><p>而且网上搜索的话，很难搜到原因，貌似遇到这个问题的人并不多？没办法，求着后端小哥哥帮忙改接口，把接口全都写成 key-value 的形式就可以用了。</p><p>为什么会出现这个问题？在原本都已经放弃的时候，无意中发现了这个插件 <a target="_blank" rel="noopener" href="https://assetstore.unity.com/packages/tools/input-management/json-net-for-unity-11347">JSON.NET FOR UNITY</a>，在这个插件的介绍里找到了答案</p><blockquote><p>While many in the Unity Community have succeeded in getting JSON .NET to work for their games, it has never worked properly with iOS or IL2CPP. The iOS errors are due to incompatibilities with AOT (Ahead of Time Compilation) that is used by Mono/IL2CPP in iOS.</p></blockquote><p>大致的意思就是，<a target="_blank" rel="noopener" href="http://JSON.NET">JSON.NET</a> 在 iSO 平台上因为 ATO 的问题不能直接用，我想 WebGL 应该也是类似的问题吧，看着这个插件的支持平台上，写了 WebGL，抱着试一试的想法尝试了一下，还真的可以，行得通，这个坑算是解决了，反序列化 Json 不能直接用 <a target="_blank" rel="noopener" href="http://JSON.NET">JSON.NET</a> 库，要用 Unity 商店里的那个插件。</p><p><strong>在 Unity 里，非桌面平台，尽量少用 nuget 仓库里的东西，如果要用，也要先确保 Unity 不同平台的支持情况，尽量用 Unity 商店里的插件，因为 Unity 商店里的插件一般都会注明平台支持情况</strong></p><blockquote><p>更新 推荐使用 <a target="_blank" rel="noopener" href="https://github.com/neuecc/Utf8Json">Utf8Json</a> 更快，但相比 <a target="_blank" rel="noopener" href="http://Json.Net">Json.Net</a> 缺少 JArray 和 JObject 等特性，推荐使用 <a target="_blank" rel="noopener" href="https://github.com/jilleJr/Newtonsoft.Json-for-Unity">Newtonsoft.Json-for-Unity</a>，版本更新，功能更多。</p></blockquote><h2 id="跨域">跨域<a class="header-anchor" href="#跨域">➴</a></h2><p>相比其他问题，这个问题已经不能叫问题了，只要稍微有点 Web 开发经要就能解决，因为所有请求都是从 js 里发出的，所以很容易遇到跨域问题，只要加上对应的返回头就可以了 <code>Access-Control-Allow-Origin</code>。</p><p><strong>Unity 打包 WebGL 平台文件时，要尤其注意跨域问题，一定要提前和后端讲明</strong></p><h2 id="AB-包">AB 包<a class="header-anchor" href="#AB-包">➴</a></h2><p>相比之下，AB 包就没什么坑了，中规中矩，常规用法就可以了，建议按场景打包，虽然会有重复资源，但是操作简单啊，如果自己手动分包的话，麻烦的要死。</p><p>唯一要注意的一点就是 IL2CPP 编译时代码剥离的问题，这一点随便一百度，都会有很多教程告诉你怎么做。</p><h2 id="音频">音频<a class="header-anchor" href="#音频">➴</a></h2><p>我们使用了网络音频，所以要注意网络音频的格式，打包出来的网页网络音频要用 wav 格式的，而在客户端可以使用 ogg 格式。</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> IEnumerator <span class="title">PlayWebAudio</span>(<span class="params"><span class="built_in">string</span> url, <span class="built_in">float</span> d</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> UNITY_EDITOR || !UNITY_WEBGL</span></span><br><span class="line">    <span class="keyword">using</span> (<span class="keyword">var</span> www = UnityWebRequestMultimedia.GetAudioClip(url, AudioType.OGGVORBIS))</span><br><span class="line"><span class="meta">#<span class="meta-keyword">elif</span> UNITY_WEBGL</span></span><br><span class="line">    <span class="keyword">using</span> (<span class="keyword">var</span> www = UnityWebRequestMultimedia.GetAudioClip(url, AudioType.WAV))</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="keyword">return</span> www.SendWebRequest();</span><br><span class="line">        <span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForSeconds</span>(<span class="params">d</span>)</span>;</span><br><span class="line">        <span class="keyword">if</span> (www.isNetworkError || www.isHttpError)</span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(www.error);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> clip = DownloadHandlerAudioClip.GetContent(www);</span><br><span class="line">            PlayAudioClip(clip);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Unity 在使用网络资源的时候，要注意音频格式，不同平台的支持情况不一样，不确定的时候就用 wav 格式吧</strong></p><h2 id="程序内与网页传参">程序内与网页传参<a class="header-anchor" href="#程序内与网页传参">➴</a></h2><p>这个看了半天也没搞懂真正的用法，只能写个简单点的函数</p><p>先说明一下，能百度到的东西，很多都是过时的，而且大家都是你抄我，他抄你，抄来抄去，没啥意思。我找了一圈，就发现一篇是比较实用的，而且写得也挺易懂的 <a target="_blank" rel="noopener" href="https://blog.csdn.net/beihuanlihe130/article/details/76214551">链接</a></p><p>最好的工具是 Unity 的官方文档，这个文档写的真不错，很多方法都有很详细的示例 <a target="_blank" rel="noopener" href="https://docs.unity3d.com/Manual/webgl-interactingwithbrowserscripting.html">文档</a></p><p>因为以前在 UE4 上也研究过这个东西，所以对 Emscripten 也有一定的了解。看一下文档就大致该知道怎么做了。</p><p>首先是在 <code>Plugins目录下</code> 创建一个 <code>.jslib</code> 文件，名字叫什么都无所谓，然后在里面写一些函数，尽量简单一点，越简单越好，函数的形式可以参考官方文档，要注意，官方文档给的这几个示例函数都是比较具有代表性的，基本上你能用到的东西，都已经告诉你该怎么处理了，传参，返回值，资源处理，该有的都有了。</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">mergeInto(LibraryManager.library, &#123;</span><br><span class="line">  <span class="attribute">Hello</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.alert(<span class="string">&quot;Hello, world!&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attribute">HelloString</span>: <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.alert(Pointer_stringify(str));</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attribute">PrintFloatArray</span>: <span class="function"><span class="keyword">function</span> (<span class="params">array, size</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">size</span>; i++)</span><br><span class="line">    <span class="built_in">console</span>.log(HEAPF32[(array &gt;&gt; <span class="number">2</span>) + i]);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attribute">AddNumbers</span>: <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attribute">StringReturnValueFunction</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> returnStr = <span class="string">&quot;bla&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> bufferSize = lengthBytesUTF8(returnStr) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> buffer = _malloc(bufferSize);</span><br><span class="line">    stringToUTF8(returnStr, buffer, bufferSize);</span><br><span class="line">    <span class="keyword">return</span> buffer;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attribute">BindWebGLTexture</span>: <span class="function"><span class="keyword">function</span> (<span class="params">texture</span>) </span>&#123;</span><br><span class="line">    GLctx.bindTexture(GLctx.TEXTURE_2D, GL.textures[texture]);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>在需要调用的时候，这样写</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.InteropServices;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">NewBehaviourScript</span> : <span class="title">MonoBehaviour</span> &#123;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="meta-string">&quot;__Internal&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">void</span> <span class="title">Hello</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="meta-string">&quot;__Internal&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">void</span> <span class="title">HelloString</span>(<span class="params"><span class="built_in">string</span> str</span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="meta-string">&quot;__Internal&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">void</span> <span class="title">PrintFloatArray</span>(<span class="params"><span class="built_in">float</span>[] array, <span class="built_in">int</span> size</span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="meta-string">&quot;__Internal&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">int</span> <span class="title">AddNumbers</span>(<span class="params"><span class="built_in">int</span> x, <span class="built_in">int</span> y</span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="meta-string">&quot;__Internal&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">string</span> <span class="title">StringReturnValueFunction</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">    [<span class="meta">DllImport(<span class="meta-string">&quot;__Internal&quot;</span>)</span>]</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="keyword">void</span> <span class="title">BindWebGLTexture</span>(<span class="params"><span class="built_in">int</span> texture</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        Hello();</span><br><span class="line"></span><br><span class="line">        HelloString(<span class="string">&quot;This is a string.&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">float</span>[] myArray = <span class="keyword">new</span> <span class="built_in">float</span>[<span class="number">10</span>];</span><br><span class="line">        PrintFloatArray(myArray, myArray.Length);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">int</span> result = AddNumbers(<span class="number">5</span>, <span class="number">7</span>);</span><br><span class="line">        Debug.Log(result);</span><br><span class="line"></span><br><span class="line">        Debug.Log(StringReturnValueFunction());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> texture = <span class="keyword">new</span> Texture2D(<span class="number">0</span>, <span class="number">0</span>, TextureFormat.ARGB32, <span class="literal">false</span>);</span><br><span class="line">        BindWebGLTexture(texture.GetNativeTextureID());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个示例，能看懂的人肯定是一看就懂，看不懂的估计还要再补一下基础知识，仿照这个示例，咱们自己来写一个</p><p>jslib：</p><figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mergeInto(<span class="type">LibraryManager</span>.library, &#123;</span><br><span class="line">  <span class="type">GetUrlParam</span>: function (str) &#123;</span><br><span class="line">    <span class="keyword">var</span> paraName = <span class="type">Pointer_stringify</span>(str);</span><br><span class="line">    <span class="keyword">var</span> <span class="literal">result</span> = <span class="type">GetUrlParamFun</span>(paraName);</span><br><span class="line">    <span class="keyword">var</span> bufferSize = lengthBytesUTF8(<span class="literal">result</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> buffer = _malloc(bufferSize);</span><br><span class="line">    stringToUTF8(<span class="literal">result</span>, buffer, bufferSize);</span><br><span class="line">    <span class="keyword">return</span> buffer;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>简单分析一下，有个方法叫<code>GetUrlParam</code>，带有一个参数，已经确定需要传字符串进来，所以需要使用<code>Pointer_stringify()</code>方法，注意传参是将内容写入内存，使用指针去指的所以要用<code>Pointer_stringify</code>，再下面，调用一个叫<code>GetUrlParamFun</code>的函数，获取返回值，再后面就是将结果返回给 Unity，也是将结果写入内存，然后用指针去指。（我指针理解的不够透彻，上面这段话难免会有一些问题）</p><p>需要在网页中插入一段 js：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetUrlParamFun</span>(<span class="params">paraName</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url = <span class="built_in">document</span>.location.toString();</span><br><span class="line">    <span class="keyword">var</span> arrObj = url.split(<span class="string">&quot;?&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (arrObj.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> arrPara = arrObj[<span class="number">1</span>].split(<span class="string">&quot;&amp;&quot;</span>);</span><br><span class="line">            <span class="keyword">var</span> arr;</span><br><span class="line">            arr = arrPara[i].split(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (arr != <span class="literal">null</span> &amp;&amp; arr[<span class="number">0</span>] == paraName) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">decodeURIComponent</span>(arr[<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面这一段代码是用来获取页面 url 中的参数的</p><p>C#脚本中写</p><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !UNITY_EDITOR &amp;&amp; UNITY_WEBGL</span></span><br><span class="line"><span class="keyword">using</span> System.Runtime.InteropServices;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">XXXX</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !UNITY_EDITOR &amp;&amp; UNITY_WEBGL</span></span><br><span class="line">    [<span class="meta">DllImport(<span class="meta-string">&quot;__Internal&quot;</span>)</span>] <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">extern</span> <span class="built_in">string</span> <span class="title">GetUrlParam</span>(<span class="params"><span class="built_in">string</span> str</span>)</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !UNITY_EDITOR &amp;&amp; UNITY_WEBGL</span></span><br><span class="line">    	<span class="built_in">string</span> <span class="keyword">from</span> = GetUrlParam(<span class="string">&quot;from&quot;</span>);</span><br><span class="line">    	Debug.Log(<span class="keyword">from</span>);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样就会打印出来我们访问地址参数 form，例如访问 <code>http://localhost?id=0&amp;from=kkkkkk</code>，会打印出来 <code>kkkkkk</code></p><p><strong>Unity 调用 JS 代码，一点都不难，只要按照官方文档走就可以了，Unity 的生态真的非常好，对新手友好，吐槽一下辣鸡 UE4，文档乱的像坨翔</strong></p><div class="page-reward"><a href="javascript:;" class="page-reward-btn tooltip-top"><div class="tooltip tooltip-east"><span class="tooltip-item">赏 </span><span class="tooltip-content"><span class="tooltip-text"><span class="tooltip-inner"><p class="reward-p"><i class="icon icon-quo-left"></i>请作者吃辣条<i class="icon icon-quo-right"></i></p><div class="reward-box"><div class="reward-box-item"><img class="reward-img" src="/assets/img/alipay.png"> <span class="reward-type">支付宝</span></div><div class="reward-box-item"><img class="reward-img" src="/assets/img/wechatpay.png"> <span class="reward-type">微信</span></div></div></span></span></span></div></a></div><div><ul class="post-copyright"><li><strong>本文作者：</strong> MonoLogueChi</li><li><strong>本文链接：</strong> <a href="https://blog.xxwhite.com/2019/unity-webgl-keng.html" title="叉叉白">https://blog.xxwhite.com/2019/unity-webgl-keng.html</a></li><li><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</li></ul></div></div><div class="article-info article-info-index"><div class="article-tag tagcloud"><i class="icon-price-tags icon"></i><ul class="article-tag-list"><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag article-tag-list-link color1">Unity</a></li></ul></div><div class="clearfix"></div></div></div></article><nav id="article-nav"><a href="/2019/mx-and-cname.html" id="article-nav-newer" class="article-nav-link-wrap"><i class="icon-circle-left"></i><div class="article-nav-title">域名解析的MX和CNAME记录冲突问题的解决</div></a><a href="/2019/ddns.html" id="article-nav-older" class="article-nav-link-wrap"><div class="article-nav-title">在家搭建网站-DDNS</div><i class="icon-circle-right"></i></a><br><a onclick="mdpage()" target="_blank" style="cursor:pointer">获取文章MarkDown文件</a> <span style="float:right;color:#0094d5" id="/2019/unity-webgl-keng.html" class="leancloud_visitors" data-flag-title="Unity WebGL平台开发遇到的坑"><span class="post-meta-item-text">本文阅读量 </span><span class="leancloud-visitors-count">8848</span></span></nav><script>var mdhost="https://raw.githubusercontent.com/MonoLogueChi/blog.xxwhite.com/master/source/_posts",mdurl="2019/unity-webgl-keng.html".replace(".html",".md");function mdpage(){window.open(mdhost+"/"+mdurl)}</script><aside class="wrap-side-operation"><div class="mod-side-operation"><div class="jump-container" id="js-jump-container" style="display:none"><a href="javascript:void(0)" class="mod-side-operation__jump-to-top"><i class="icon-font icon-back"></i></a><div id="js-jump-plan-container" class="jump-plan-container" style="top:-11px"><i class="icon-font icon-plane jump-plane"></i></div></div><div class="toc-container tooltip-left"><i class="icon-font icon-category"></i><div class="tooltip tooltip-east"><span class="tooltip-item"></span> <span class="tooltip-content"><div class="toc-article"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#WebRequest-%E8%AF%B7%E6%B1%82%EF%BC%88%E5%BC%82%E6%AD%A5%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">WebRequest 请求（异步的问题）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSL-%E8%AF%81%E4%B9%A6"><span class="toc-number">2.</span> <span class="toc-text">SSL 证书</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON"><span class="toc-number">3.</span> <span class="toc-text">JSON</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F"><span class="toc-number">4.</span> <span class="toc-text">跨域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AB-%E5%8C%85"><span class="toc-number">5.</span> <span class="toc-text">AB 包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91"><span class="toc-number">6.</span> <span class="toc-text">音频</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%86%85%E4%B8%8E%E7%BD%91%E9%A1%B5%E4%BC%A0%E5%8F%82"><span class="toc-number">7.</span> <span class="toc-text">程序内与网页传参</span></a></li></ol></div></span></div></div></div></aside><section id="comments"><div id="vcomment"></div><script>var valineConifg={appId:"BOnDPDiz9EeoGAC11JdnV9mw-gzGzoHsz",appKey:"gNFFgOahNl9DGsyX1WearaYO",mini:!1,avatar:"",avatar_cdn:"https://sdn.geekzu.org/avatar/",placeholder:"点击评论",pageSize:12,visitor:!0,recordIP:!0,serverURLs:"https://leancloud.xxwhite.com",version:"latest",adminEmailMd5:"a70ed099981735ebdf3d7c71dc507559",el:"#vcomment"},valineVersion=valineConifg.version,valineSrc=valineConifg.mini?"https://cdn.jsdelivr.net/npm/minivaline@"+valineVersion+"/dist/MiniValine.min.js":"https://cdn.jsdelivr.net/npm/valine@"+valineVersion+"/dist/Valine.min.js";loadScript(valineSrc,function(){var n;new(valineConifg.mini?MiniValine:Valine)(valineConifg),window.location.hash&&(n=setInterval(function(){document.getElementById(window.location.hash.replace("#",""))&&(location.href=window.location.hash,clearInterval(n))},250))})</script></section></div></div></div><footer id="footer"><div class="outer"><div id="footer-info"><div class="footer-left">&copy; 2015-2021 MonoLogueChi<br><a href="http://beian.miit.gov.cn/" target="_blank">蒙ICP备17004911号-1</a></div><div class="footer-right"><div><a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/MonoLogueChi/hexo-theme-yilia" target="_blank">Yilia</a> by Litten</div><div>本站由 <a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target="_blank"><img src="/assets/img/upyun.png" height="25px"> </a>提供CDN加速/云存储服务</div></div></div></div></footer></div><script>var yiliaConfig={mathjax:!1,isHome:!1,isPost:!0,isArchive:!1,isTag:!1,isCategory:!1,open_in_new:!1,toc_hide_index:!1,root:"/",innerArchive:!0,showTags:!1}</script><script>loadScript("/assets/main.18a6af.js"),loadScript("/assets/slider.b6b631.js")</script><script>loadScript("https://www.googletagmanager.com/gtag/js?id=UA-113200574-1",function(){function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a("js",new Date),a("config","UA-113200574-1")})</script><script>loadScript("https://hm.baidu.com/hm.js?893dcb25b87bcda2f682b3a6d5c537f7")</script><script async>loadScript("https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js",function(){pangu.spacingPage()})</script><div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)"><div class="tools-nav header-menu"><ul style="width:70%"><li style="width:33.333333333333336%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li><li style="width:33.333333333333336%" q-on="click: openSlider(e, 'friends')"><a href="javascript:void(0)" q-class="active:friends">友链</a></li><li style="width:33.333333333333336%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于本站</a></li></ul></div><div class="tools-wrap"><section class="tools-section tools-section-all" q-show="innerArchive"><div class="search-wrap"><input class="search-ipt" q-model="search" type="text" placeholder="find something…"> <i class="icon-search icon" q-show="search|isEmptyStr"></i> <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i></div><div class="widget tagcloud search-tag"><p class="search-tag-wording">tag:</p><label class="search-switch"><input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags"></label><ul class="article-tag-list" q-show="showTags"><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color3">搞机</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color5">建站笔记</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color1">Unity</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color3">测试</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color5">随便水水</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color3">C#</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color4">涨姿势</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color3">软件</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color1">炎黄幼儿园</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color4">小工具</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color4">香橙派</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color4">服务器</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color5">个人电脑</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color2">dotnet</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color1">Linux</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color3">硬件</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color4">软路由</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color4">NAS</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color4">OMV</a></li><li class="article-tag-list-item"><a href="javascript:void(0)" class="js-tag color4">timeline</a></li><div class="clearfix"></div></ul></div><ul class="search-ul"><li class="search-li" q-repeat="items" q-show="isShow"><a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a><p class="search-time"><i class="icon-calendar icon"></i> <span q-text="date|dateformat"></span></p><p class="search-tag"><i class="icon-price-tags icon"></i> <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span></p></li></ul></section><section class="tools-section tools-section-friends" q-show="friends"><ul class="search-ul"><li class="search-li"><a href="https://blog.xxwhite.com/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>叉叉白</a></li><li class="search-li"><a href="https://minemine.cc/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>大姐姐的博客Minemine</a></li><li class="search-li"><a href="http://socoolapk.top/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>酷安基佬</a></li><li class="search-li"><a href="https://www.se7ensec.cn/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>Se7en</a></li><li class="search-li"><a href="https://blog.isoyu.com/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>姬长信</a></li><li class="search-li"><a href="http://staunchkai.com/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>staunchkai</a></li><li class="search-li"><a href="https://www.iszy.cc/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>随遇而安</a></li><li class="search-li"><a href="https://zsh2401.top/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>2401的晚秋咖啡</a></li><li class="search-li"><a href="https://careyq.cool" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>CareyQ</a></li><li class="search-li"><a href="https://liujunzhou.top/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>Junzhou Liu</a></li><li class="search-li"><a href="https://yi-yun.github.io/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>Yi-Yun</a></li><li class="search-li"><a href="https://www.lmcjl.com" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>LmCjl在线工具</a></li><li class="search-li"><a href="https://blogs.kainy.cn/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>Freetao’s Blog</a></li></ul></section><section class="tools-section tools-section-me" q-show="aboutme"><div class="aboutme-wrap" id="js-aboutme">叉叉白 一个小白搞机的记事本</div></section></div></div><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></body></html>